var Av=Object.create;var ei=Object.defineProperty;var Cv=Object.getOwnPropertyDescriptor;var Ov=Object.getOwnPropertyNames;var Rv=Object.getPrototypeOf,Mv=Object.prototype.hasOwnProperty;var it=(t,e)=>()=>(t&&(e=t(t=0)),e);var Wl=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Un=(t,e)=>{for(var n in e)ei(t,n,{get:e[n],enumerable:!0})},ql=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Ov(e))!Mv.call(t,o)&&o!==n&&ei(t,o,{get:()=>e[o],enumerable:!(r=Cv(e,o))||r.enumerable});return t};var _r=(t,e,n)=>(n=t!=null?Av(Rv(t)):{},ql(e||!t||!t.__esModule?ei(n,"default",{value:t,enumerable:!0}):n,t)),Dv=t=>ql(ei({},"__esModule",{value:!0}),t);var C=it(()=>{});var Y={};Un(Y,{_debugEnd:()=>Du,_debugProcess:()=>Mu,_events:()=>Yu,_eventsCount:()=>Xu,_exiting:()=>yu,_fatalExceptions:()=>Au,_getActiveHandles:()=>Tu,_getActiveRequests:()=>vu,_kill:()=>bu,_linkedBinding:()=>pu,_maxListeners:()=>Ju,_preload_modules:()=>zu,_rawDebug:()=>fu,_startProfilerIdleNotifier:()=>Nu,_stopProfilerIdleNotifier:()=>Hu,_tickCallback:()=>Ru,abort:()=>Zu,addListener:()=>Qu,allowedNodeEnvironmentFlags:()=>Su,arch:()=>Yl,argv:()=>eu,argv0:()=>qu,assert:()=>ku,binding:()=>ou,browser:()=>cu,chdir:()=>lu,config:()=>mu,cpuUsage:()=>ri,cwd:()=>su,debugPort:()=>Wu,default:()=>lc,dlopen:()=>hu,domain:()=>gu,emit:()=>ic,emitWarning:()=>iu,env:()=>Ql,execArgv:()=>tu,execPath:()=>Ku,exit:()=>Pu,features:()=>Iu,hasUncaughtExceptionCaptureCallback:()=>Ou,hrtime:()=>ni,kill:()=>Bu,listeners:()=>sc,memoryUsage:()=>xu,moduleLoadList:()=>du,nextTick:()=>Gl,off:()=>tc,on:()=>Nt,once:()=>ec,openStdin:()=>Eu,pid:()=>Lu,platform:()=>Xl,ppid:()=>Fu,prependListener:()=>oc,prependOnceListener:()=>ac,reallyExit:()=>_u,release:()=>uu,removeAllListeners:()=>rc,removeListener:()=>nc,resourceUsage:()=>wu,setSourceMapsEnabled:()=>Gu,setUncaughtExceptionCaptureCallback:()=>Cu,stderr:()=>ju,stdin:()=>$u,stdout:()=>Uu,title:()=>Jl,umask:()=>au,uptime:()=>Vu,version:()=>nu,versions:()=>ru});function Jo(t){throw new Error("Node.js process "+t+" is not supported by JSPM core outside of Node.js")}function Nv(){!jn||!fn||(jn=!1,fn.length?Dt=fn.concat(Dt):ti=-1,Dt.length&&zl())}function zl(){if(!jn){var t=setTimeout(Nv,0);jn=!0;for(var e=Dt.length;e;){for(fn=Dt,Dt=[];++ti<e;)fn&&fn[ti].run();ti=-1,e=Dt.length}fn=null,jn=!1,clearTimeout(t)}}function Gl(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Dt.push(new Vl(t,e)),Dt.length===1&&!jn&&setTimeout(zl,0)}function Vl(t,e){this.fun=t,this.array=e}function ot(){}function pu(t){Jo("_linkedBinding")}function hu(t){Jo("dlopen")}function vu(){return[]}function Tu(){return[]}function ku(t,e){if(!t)throw new Error(e||"assertion error")}function Ou(){return!1}function Vu(){return en.now()/1e3}function ni(t){var e=Math.floor((Date.now()-en.now())*.001),n=en.now()*.001,r=Math.floor(n)+e,o=Math.floor(n%1*1e9);return t&&(r=r-t[0],o=o-t[1],o<0&&(r--,o+=Vo)),[r,o]}function Nt(){return lc}function sc(t){return[]}var Dt,jn,fn,ti,Jl,Yl,Xl,Ql,eu,tu,nu,ru,iu,ou,au,su,lu,uu,cu,fu,du,gu,yu,mu,_u,bu,ri,wu,xu,Bu,Pu,Eu,Su,Iu,Au,Cu,Ru,Mu,Du,Nu,Hu,Uu,ju,$u,Zu,Lu,Fu,Ku,Wu,qu,zu,Gu,en,Go,Vo,Ju,Yu,Xu,Qu,ec,tc,nc,rc,ic,oc,ac,lc,uc=it(()=>{C();R();O();Dt=[],jn=!1,ti=-1;Vl.prototype.run=function(){this.fun.apply(null,this.array)};Jl="browser",Yl="x64",Xl="browser",Ql={PATH:"/usr/bin",LANG:typeof navigator<"u"?navigator.language+".UTF-8":void 0,PWD:"/",HOME:"/home",TMP:"/tmp"},eu=["/usr/bin/node"],tu=[],nu="v16.8.0",ru={},iu=function(t,e){console.warn((e?e+": ":"")+t)},ou=function(t){Jo("binding")},au=function(t){return 0},su=function(){return"/"},lu=function(t){},uu={name:"node",sourceUrl:"",headersUrl:"",libUrl:""};cu=!0,fu=ot,du=[];gu={},yu=!1,mu={};_u=ot,bu=ot,ri=function(){return{}},wu=ri,xu=ri,Bu=ot,Pu=ot,Eu=ot,Su={};Iu={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},Au=ot,Cu=ot;Ru=ot,Mu=ot,Du=ot,Nu=ot,Hu=ot,Uu=void 0,ju=void 0,$u=void 0,Zu=ot,Lu=2,Fu=1,Ku="/bin/usr/node",Wu=9229,qu="node",zu=[],Gu=ot,en={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0};en.now===void 0&&(Go=Date.now(),en.timing&&en.timing.navigationStart&&(Go=en.timing.navigationStart),en.now=()=>Date.now()-Go);Vo=1e9;ni.bigint=function(t){var e=ni(t);return typeof BigInt>"u"?e[0]*Vo+e[1]:BigInt(e[0]*Vo)+BigInt(e[1])};Ju=10,Yu={},Xu=0;Qu=Nt,ec=Nt,tc=Nt,nc=Nt,rc=Nt,ic=ot,oc=Nt,ac=Nt;lc={version:nu,versions:ru,arch:Yl,platform:Xl,browser:cu,release:uu,_rawDebug:fu,moduleLoadList:du,binding:ou,_linkedBinding:pu,_events:Yu,_eventsCount:Xu,_maxListeners:Ju,on:Nt,addListener:Qu,once:ec,off:tc,removeListener:nc,removeAllListeners:rc,emit:ic,prependListener:oc,prependOnceListener:ac,listeners:sc,domain:gu,_exiting:yu,config:mu,dlopen:hu,uptime:Vu,_getActiveRequests:vu,_getActiveHandles:Tu,reallyExit:_u,_kill:bu,cpuUsage:ri,resourceUsage:wu,memoryUsage:xu,kill:Bu,exit:Pu,openStdin:Eu,allowedNodeEnvironmentFlags:Su,assert:ku,features:Iu,_fatalExceptions:Au,setUncaughtExceptionCaptureCallback:Cu,hasUncaughtExceptionCaptureCallback:Ou,emitWarning:iu,nextTick:Gl,_tickCallback:Ru,_debugProcess:Mu,_debugEnd:Du,_startProfilerIdleNotifier:Nu,_stopProfilerIdleNotifier:Hu,stdout:Uu,stdin:$u,stderr:ju,abort:Zu,umask:au,chdir:lu,cwd:su,env:Ql,title:Jl,argv:eu,execArgv:tu,pid:Lu,ppid:Fu,execPath:Ku,debugPort:Wu,hrtime:ni,argv0:qu,_preload_modules:zu,setSourceMapsEnabled:Gu}});var O=it(()=>{uc()});function Hv(){if(cc)return br;cc=!0,br.byteLength=a,br.toByteArray=f,br.fromByteArray=g;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,s=r.length;o<s;++o)t[o]=r[o],e[r.charCodeAt(o)]=o;e["-".charCodeAt(0)]=62,e["_".charCodeAt(0)]=63;function i(m){var v=m.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var B=m.indexOf("=");B===-1&&(B=v);var P=B===v?0:4-B%4;return[B,P]}function a(m){var v=i(m),B=v[0],P=v[1];return(B+P)*3/4-P}function l(m,v,B){return(v+B)*3/4-B}function f(m){var v,B=i(m),P=B[0],T=B[1],S=new n(l(m,P,T)),E=0,M=T>0?P-4:P,$;for($=0;$<M;$+=4)v=e[m.charCodeAt($)]<<18|e[m.charCodeAt($+1)]<<12|e[m.charCodeAt($+2)]<<6|e[m.charCodeAt($+3)],S[E++]=v>>16&255,S[E++]=v>>8&255,S[E++]=v&255;return T===2&&(v=e[m.charCodeAt($)]<<2|e[m.charCodeAt($+1)]>>4,S[E++]=v&255),T===1&&(v=e[m.charCodeAt($)]<<10|e[m.charCodeAt($+1)]<<4|e[m.charCodeAt($+2)]>>2,S[E++]=v>>8&255,S[E++]=v&255),S}function d(m){return t[m>>18&63]+t[m>>12&63]+t[m>>6&63]+t[m&63]}function y(m,v,B){for(var P,T=[],S=v;S<B;S+=3)P=(m[S]<<16&16711680)+(m[S+1]<<8&65280)+(m[S+2]&255),T.push(d(P));return T.join("")}function g(m){for(var v,B=m.length,P=B%3,T=[],S=16383,E=0,M=B-P;E<M;E+=S)T.push(y(m,E,E+S>M?M:E+S));return P===1?(v=m[B-1],T.push(t[v>>2]+t[v<<4&63]+"==")):P===2&&(v=(m[B-2]<<8)+m[B-1],T.push(t[v>>10]+t[v>>4&63]+t[v<<2&63]+"=")),T.join("")}return br}function Uv(){if(fc)return ii;fc=!0;return ii.read=function(t,e,n,r,o){var s,i,a=o*8-r-1,l=(1<<a)-1,f=l>>1,d=-7,y=n?o-1:0,g=n?-1:1,m=t[e+y];for(y+=g,s=m&(1<<-d)-1,m>>=-d,d+=a;d>0;s=s*256+t[e+y],y+=g,d-=8);for(i=s&(1<<-d)-1,s>>=-d,d+=r;d>0;i=i*256+t[e+y],y+=g,d-=8);if(s===0)s=1-f;else{if(s===l)return i?NaN:(m?-1:1)*(1/0);i=i+Math.pow(2,r),s=s-f}return(m?-1:1)*i*Math.pow(2,s-r)},ii.write=function(t,e,n,r,o,s){var i,a,l,f=s*8-o-1,d=(1<<f)-1,y=d>>1,g=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:s-1,v=r?1:-1,B=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,i=d):(i=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-i))<1&&(i--,l*=2),i+y>=1?e+=g/l:e+=g*Math.pow(2,1-y),e*l>=2&&(i++,l/=2),i+y>=d?(a=0,i=d):i+y>=1?(a=(e*l-1)*Math.pow(2,o),i=i+y):(a=e*Math.pow(2,y-1)*Math.pow(2,o),i=0));o>=8;t[n+m]=a&255,m+=v,a/=256,o-=8);for(i=i<<o|a,f+=o;f>0;t[n+m]=i&255,m+=v,i/=256,f-=8);t[n+m-v]|=B*128},ii}function At(){if(dc)return dn;dc=!0;let t=Hv(),e=Uv(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;dn.Buffer=i,dn.SlowBuffer=T,dn.INSPECT_MAX_BYTES=50;let r=2147483647;dn.kMaxLength=r,i.TYPED_ARRAY_SUPPORT=o(),!i.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{let h=new Uint8Array(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,Uint8Array.prototype),Object.setPrototypeOf(h,u),h.foo()===42}catch{return!1}}Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}});function s(h){if(h>r)throw new RangeError('The value "'+h+'" is invalid for option "size"');let u=new Uint8Array(h);return Object.setPrototypeOf(u,i.prototype),u}function i(h,u,c){if(typeof h=="number"){if(typeof u=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(h)}return a(h,u,c)}i.poolSize=8192;function a(h,u,c){if(typeof h=="string")return y(h,u);if(ArrayBuffer.isView(h))return m(h);if(h==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h);if(vt(h,ArrayBuffer)||h&&vt(h.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(vt(h,SharedArrayBuffer)||h&&vt(h.buffer,SharedArrayBuffer)))return v(h,u,c);if(typeof h=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let _=h.valueOf&&h.valueOf();if(_!=null&&_!==h)return i.from(_,u,c);let I=B(h);if(I)return I;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof h[Symbol.toPrimitive]=="function")return i.from(h[Symbol.toPrimitive]("string"),u,c);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h)}i.from=function(h,u,c){return a(h,u,c)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array);function l(h){if(typeof h!="number")throw new TypeError('"size" argument must be of type number');if(h<0)throw new RangeError('The value "'+h+'" is invalid for option "size"')}function f(h,u,c){return l(h),h<=0?s(h):u!==void 0?typeof c=="string"?s(h).fill(u,c):s(h).fill(u):s(h)}i.alloc=function(h,u,c){return f(h,u,c)};function d(h){return l(h),s(h<0?0:P(h)|0)}i.allocUnsafe=function(h){return d(h)},i.allocUnsafeSlow=function(h){return d(h)};function y(h,u){if((typeof u!="string"||u==="")&&(u="utf8"),!i.isEncoding(u))throw new TypeError("Unknown encoding: "+u);let c=S(h,u)|0,_=s(c),I=_.write(h,u);return I!==c&&(_=_.slice(0,I)),_}function g(h){let u=h.length<0?0:P(h.length)|0,c=s(u);for(let _=0;_<u;_+=1)c[_]=h[_]&255;return c}function m(h){if(vt(h,Uint8Array)){let u=new Uint8Array(h);return v(u.buffer,u.byteOffset,u.byteLength)}return g(h)}function v(h,u,c){if(u<0||h.byteLength<u)throw new RangeError('"offset" is outside of buffer bounds');if(h.byteLength<u+(c||0))throw new RangeError('"length" is outside of buffer bounds');let _;return u===void 0&&c===void 0?_=new Uint8Array(h):c===void 0?_=new Uint8Array(h,u):_=new Uint8Array(h,u,c),Object.setPrototypeOf(_,i.prototype),_}function B(h){if(i.isBuffer(h)){let u=P(h.length)|0,c=s(u);return c.length===0||h.copy(c,0,0,u),c}if(h.length!==void 0)return typeof h.length!="number"||vr(h.length)?s(0):g(h);if(h.type==="Buffer"&&Array.isArray(h.data))return g(h.data)}function P(h){if(h>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return h|0}function T(h){return+h!=h&&(h=0),i.alloc(+h)}i.isBuffer=function(u){return u!=null&&u._isBuffer===!0&&u!==i.prototype},i.compare=function(u,c){if(vt(u,Uint8Array)&&(u=i.from(u,u.offset,u.byteLength)),vt(c,Uint8Array)&&(c=i.from(c,c.offset,c.byteLength)),!i.isBuffer(u)||!i.isBuffer(c))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(u===c)return 0;let _=u.length,I=c.length;for(let N=0,K=Math.min(_,I);N<K;++N)if(u[N]!==c[N]){_=u[N],I=c[N];break}return _<I?-1:I<_?1:0},i.isEncoding=function(u){switch(String(u).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(u,c){if(!Array.isArray(u))throw new TypeError('"list" argument must be an Array of Buffers');if(u.length===0)return i.alloc(0);let _;if(c===void 0)for(c=0,_=0;_<u.length;++_)c+=u[_].length;let I=i.allocUnsafe(c),N=0;for(_=0;_<u.length;++_){let K=u[_];if(vt(K,Uint8Array))N+K.length>I.length?(i.isBuffer(K)||(K=i.from(K)),K.copy(I,N)):Uint8Array.prototype.set.call(I,K,N);else if(i.isBuffer(K))K.copy(I,N);else throw new TypeError('"list" argument must be an Array of Buffers');N+=K.length}return I};function S(h,u){if(i.isBuffer(h))return h.length;if(ArrayBuffer.isView(h)||vt(h,ArrayBuffer))return h.byteLength;if(typeof h!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof h);let c=h.length,_=arguments.length>2&&arguments[2]===!0;if(!_&&c===0)return 0;let I=!1;for(;;)switch(u){case"ascii":case"latin1":case"binary":return c;case"utf8":case"utf-8":return He(h).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c*2;case"hex":return c>>>1;case"base64":return Pt(h).length;default:if(I)return _?-1:He(h).length;u=(""+u).toLowerCase(),I=!0}}i.byteLength=S;function E(h,u,c){let _=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((c===void 0||c>this.length)&&(c=this.length),c<=0)||(c>>>=0,u>>>=0,c<=u))return"";for(h||(h="utf8");;)switch(h){case"hex":return me(this,u,c);case"utf8":case"utf-8":return $e(this,u,c);case"ascii":return Ve(this,u,c);case"latin1":case"binary":return Ae(this,u,c);case"base64":return Ie(this,u,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Se(this,u,c);default:if(_)throw new TypeError("Unknown encoding: "+h);h=(h+"").toLowerCase(),_=!0}}i.prototype._isBuffer=!0;function M(h,u,c){let _=h[u];h[u]=h[c],h[c]=_}i.prototype.swap16=function(){let u=this.length;if(u%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let c=0;c<u;c+=2)M(this,c,c+1);return this},i.prototype.swap32=function(){let u=this.length;if(u%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let c=0;c<u;c+=4)M(this,c,c+3),M(this,c+1,c+2);return this},i.prototype.swap64=function(){let u=this.length;if(u%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let c=0;c<u;c+=8)M(this,c,c+7),M(this,c+1,c+6),M(this,c+2,c+5),M(this,c+3,c+4);return this},i.prototype.toString=function(){let u=this.length;return u===0?"":arguments.length===0?$e(this,0,u):E.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(u){if(!i.isBuffer(u))throw new TypeError("Argument must be a Buffer");return this===u?!0:i.compare(this,u)===0},i.prototype.inspect=function(){let u="",c=dn.INSPECT_MAX_BYTES;return u=this.toString("hex",0,c).replace(/(.{2})/g,"$1 ").trim(),this.length>c&&(u+=" ... "),"<Buffer "+u+">"},n&&(i.prototype[n]=i.prototype.inspect),i.prototype.compare=function(u,c,_,I,N){if(vt(u,Uint8Array)&&(u=i.from(u,u.offset,u.byteLength)),!i.isBuffer(u))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof u);if(c===void 0&&(c=0),_===void 0&&(_=u?u.length:0),I===void 0&&(I=0),N===void 0&&(N=this.length),c<0||_>u.length||I<0||N>this.length)throw new RangeError("out of range index");if(I>=N&&c>=_)return 0;if(I>=N)return-1;if(c>=_)return 1;if(c>>>=0,_>>>=0,I>>>=0,N>>>=0,this===u)return 0;let K=N-I,Be=_-c,Je=Math.min(K,Be),Fe=this.slice(I,N),Ye=u.slice(c,_);for(let Ze=0;Ze<Je;++Ze)if(Fe[Ze]!==Ye[Ze]){K=Fe[Ze],Be=Ye[Ze];break}return K<Be?-1:Be<K?1:0};function $(h,u,c,_,I){if(h.length===0)return-1;if(typeof c=="string"?(_=c,c=0):c>2147483647?c=2147483647:c<-2147483648&&(c=-2147483648),c=+c,vr(c)&&(c=I?0:h.length-1),c<0&&(c=h.length+c),c>=h.length){if(I)return-1;c=h.length-1}else if(c<0)if(I)c=0;else return-1;if(typeof u=="string"&&(u=i.from(u,_)),i.isBuffer(u))return u.length===0?-1:oe(h,u,c,_,I);if(typeof u=="number")return u=u&255,typeof Uint8Array.prototype.indexOf=="function"?I?Uint8Array.prototype.indexOf.call(h,u,c):Uint8Array.prototype.lastIndexOf.call(h,u,c):oe(h,[u],c,_,I);throw new TypeError("val must be string, number or Buffer")}function oe(h,u,c,_,I){let N=1,K=h.length,Be=u.length;if(_!==void 0&&(_=String(_).toLowerCase(),_==="ucs2"||_==="ucs-2"||_==="utf16le"||_==="utf-16le")){if(h.length<2||u.length<2)return-1;N=2,K/=2,Be/=2,c/=2}function Je(Ye,Ze){return N===1?Ye[Ze]:Ye.readUInt16BE(Ze*N)}let Fe;if(I){let Ye=-1;for(Fe=c;Fe<K;Fe++)if(Je(h,Fe)===Je(u,Ye===-1?0:Fe-Ye)){if(Ye===-1&&(Ye=Fe),Fe-Ye+1===Be)return Ye*N}else Ye!==-1&&(Fe-=Fe-Ye),Ye=-1}else for(c+Be>K&&(c=K-Be),Fe=c;Fe>=0;Fe--){let Ye=!0;for(let Ze=0;Ze<Be;Ze++)if(Je(h,Fe+Ze)!==Je(u,Ze)){Ye=!1;break}if(Ye)return Fe}return-1}i.prototype.includes=function(u,c,_){return this.indexOf(u,c,_)!==-1},i.prototype.indexOf=function(u,c,_){return $(this,u,c,_,!0)},i.prototype.lastIndexOf=function(u,c,_){return $(this,u,c,_,!1)};function X(h,u,c,_){c=Number(c)||0;let I=h.length-c;_?(_=Number(_),_>I&&(_=I)):_=I;let N=u.length;_>N/2&&(_=N/2);let K;for(K=0;K<_;++K){let Be=parseInt(u.substr(K*2,2),16);if(vr(Be))return K;h[c+K]=Be}return K}function ue(h,u,c,_){return It(He(u,h.length-c),h,c,_)}function ee(h,u,c,_){return It(_e(u),h,c,_)}function ie(h,u,c,_){return It(Pt(u),h,c,_)}function Re(h,u,c,_){return It(U(u,h.length-c),h,c,_)}i.prototype.write=function(u,c,_,I){if(c===void 0)I="utf8",_=this.length,c=0;else if(_===void 0&&typeof c=="string")I=c,_=this.length,c=0;else if(isFinite(c))c=c>>>0,isFinite(_)?(_=_>>>0,I===void 0&&(I="utf8")):(I=_,_=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let N=this.length-c;if((_===void 0||_>N)&&(_=N),u.length>0&&(_<0||c<0)||c>this.length)throw new RangeError("Attempt to write outside buffer bounds");I||(I="utf8");let K=!1;for(;;)switch(I){case"hex":return X(this,u,c,_);case"utf8":case"utf-8":return ue(this,u,c,_);case"ascii":case"latin1":case"binary":return ee(this,u,c,_);case"base64":return ie(this,u,c,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Re(this,u,c,_);default:if(K)throw new TypeError("Unknown encoding: "+I);I=(""+I).toLowerCase(),K=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ie(h,u,c){return u===0&&c===h.length?t.fromByteArray(h):t.fromByteArray(h.slice(u,c))}function $e(h,u,c){c=Math.min(h.length,c);let _=[],I=u;for(;I<c;){let N=h[I],K=null,Be=N>239?4:N>223?3:N>191?2:1;if(I+Be<=c){let Je,Fe,Ye,Ze;switch(Be){case 1:N<128&&(K=N);break;case 2:Je=h[I+1],(Je&192)===128&&(Ze=(N&31)<<6|Je&63,Ze>127&&(K=Ze));break;case 3:Je=h[I+1],Fe=h[I+2],(Je&192)===128&&(Fe&192)===128&&(Ze=(N&15)<<12|(Je&63)<<6|Fe&63,Ze>2047&&(Ze<55296||Ze>57343)&&(K=Ze));break;case 4:Je=h[I+1],Fe=h[I+2],Ye=h[I+3],(Je&192)===128&&(Fe&192)===128&&(Ye&192)===128&&(Ze=(N&15)<<18|(Je&63)<<12|(Fe&63)<<6|Ye&63,Ze>65535&&Ze<1114112&&(K=Ze))}}K===null?(K=65533,Be=1):K>65535&&(K-=65536,_.push(K>>>10&1023|55296),K=56320|K&1023),_.push(K),I+=Be}return Me(_)}let Ne=4096;function Me(h){let u=h.length;if(u<=Ne)return String.fromCharCode.apply(String,h);let c="",_=0;for(;_<u;)c+=String.fromCharCode.apply(String,h.slice(_,_+=Ne));return c}function Ve(h,u,c){let _="";c=Math.min(h.length,c);for(let I=u;I<c;++I)_+=String.fromCharCode(h[I]&127);return _}function Ae(h,u,c){let _="";c=Math.min(h.length,c);for(let I=u;I<c;++I)_+=String.fromCharCode(h[I]);return _}function me(h,u,c){let _=h.length;(!u||u<0)&&(u=0),(!c||c<0||c>_)&&(c=_);let I="";for(let N=u;N<c;++N)I+=Qr[h[N]];return I}function Se(h,u,c){let _=h.slice(u,c),I="";for(let N=0;N<_.length-1;N+=2)I+=String.fromCharCode(_[N]+_[N+1]*256);return I}i.prototype.slice=function(u,c){let _=this.length;u=~~u,c=c===void 0?_:~~c,u<0?(u+=_,u<0&&(u=0)):u>_&&(u=_),c<0?(c+=_,c<0&&(c=0)):c>_&&(c=_),c<u&&(c=u);let I=this.subarray(u,c);return Object.setPrototypeOf(I,i.prototype),I};function ce(h,u,c){if(h%1!==0||h<0)throw new RangeError("offset is not uint");if(h+u>c)throw new RangeError("Trying to access beyond buffer length")}i.prototype.readUintLE=i.prototype.readUIntLE=function(u,c,_){u=u>>>0,c=c>>>0,_||ce(u,c,this.length);let I=this[u],N=1,K=0;for(;++K<c&&(N*=256);)I+=this[u+K]*N;return I},i.prototype.readUintBE=i.prototype.readUIntBE=function(u,c,_){u=u>>>0,c=c>>>0,_||ce(u,c,this.length);let I=this[u+--c],N=1;for(;c>0&&(N*=256);)I+=this[u+--c]*N;return I},i.prototype.readUint8=i.prototype.readUInt8=function(u,c){return u=u>>>0,c||ce(u,1,this.length),this[u]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(u,c){return u=u>>>0,c||ce(u,2,this.length),this[u]|this[u+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(u,c){return u=u>>>0,c||ce(u,2,this.length),this[u]<<8|this[u+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(u,c){return u=u>>>0,c||ce(u,4,this.length),(this[u]|this[u+1]<<8|this[u+2]<<16)+this[u+3]*16777216},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(u,c){return u=u>>>0,c||ce(u,4,this.length),this[u]*16777216+(this[u+1]<<16|this[u+2]<<8|this[u+3])},i.prototype.readBigUInt64LE=wt(function(u){u=u>>>0,b(u,"offset");let c=this[u],_=this[u+7];(c===void 0||_===void 0)&&w(u,this.length-8);let I=c+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24,N=this[++u]+this[++u]*2**8+this[++u]*2**16+_*2**24;return BigInt(I)+(BigInt(N)<<BigInt(32))}),i.prototype.readBigUInt64BE=wt(function(u){u=u>>>0,b(u,"offset");let c=this[u],_=this[u+7];(c===void 0||_===void 0)&&w(u,this.length-8);let I=c*2**24+this[++u]*2**16+this[++u]*2**8+this[++u],N=this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+_;return(BigInt(I)<<BigInt(32))+BigInt(N)}),i.prototype.readIntLE=function(u,c,_){u=u>>>0,c=c>>>0,_||ce(u,c,this.length);let I=this[u],N=1,K=0;for(;++K<c&&(N*=256);)I+=this[u+K]*N;return N*=128,I>=N&&(I-=Math.pow(2,8*c)),I},i.prototype.readIntBE=function(u,c,_){u=u>>>0,c=c>>>0,_||ce(u,c,this.length);let I=c,N=1,K=this[u+--I];for(;I>0&&(N*=256);)K+=this[u+--I]*N;return N*=128,K>=N&&(K-=Math.pow(2,8*c)),K},i.prototype.readInt8=function(u,c){return u=u>>>0,c||ce(u,1,this.length),this[u]&128?(255-this[u]+1)*-1:this[u]},i.prototype.readInt16LE=function(u,c){u=u>>>0,c||ce(u,2,this.length);let _=this[u]|this[u+1]<<8;return _&32768?_|4294901760:_},i.prototype.readInt16BE=function(u,c){u=u>>>0,c||ce(u,2,this.length);let _=this[u+1]|this[u]<<8;return _&32768?_|4294901760:_},i.prototype.readInt32LE=function(u,c){return u=u>>>0,c||ce(u,4,this.length),this[u]|this[u+1]<<8|this[u+2]<<16|this[u+3]<<24},i.prototype.readInt32BE=function(u,c){return u=u>>>0,c||ce(u,4,this.length),this[u]<<24|this[u+1]<<16|this[u+2]<<8|this[u+3]},i.prototype.readBigInt64LE=wt(function(u){u=u>>>0,b(u,"offset");let c=this[u],_=this[u+7];(c===void 0||_===void 0)&&w(u,this.length-8);let I=this[u+4]+this[u+5]*2**8+this[u+6]*2**16+(_<<24);return(BigInt(I)<<BigInt(32))+BigInt(c+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24)}),i.prototype.readBigInt64BE=wt(function(u){u=u>>>0,b(u,"offset");let c=this[u],_=this[u+7];(c===void 0||_===void 0)&&w(u,this.length-8);let I=(c<<24)+this[++u]*2**16+this[++u]*2**8+this[++u];return(BigInt(I)<<BigInt(32))+BigInt(this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+_)}),i.prototype.readFloatLE=function(u,c){return u=u>>>0,c||ce(u,4,this.length),e.read(this,u,!0,23,4)},i.prototype.readFloatBE=function(u,c){return u=u>>>0,c||ce(u,4,this.length),e.read(this,u,!1,23,4)},i.prototype.readDoubleLE=function(u,c){return u=u>>>0,c||ce(u,8,this.length),e.read(this,u,!0,52,8)},i.prototype.readDoubleBE=function(u,c){return u=u>>>0,c||ce(u,8,this.length),e.read(this,u,!1,52,8)};function he(h,u,c,_,I,N){if(!i.isBuffer(h))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>I||u<N)throw new RangeError('"value" argument is out of bounds');if(c+_>h.length)throw new RangeError("Index out of range")}i.prototype.writeUintLE=i.prototype.writeUIntLE=function(u,c,_,I){if(u=+u,c=c>>>0,_=_>>>0,!I){let Be=Math.pow(2,8*_)-1;he(this,u,c,_,Be,0)}let N=1,K=0;for(this[c]=u&255;++K<_&&(N*=256);)this[c+K]=u/N&255;return c+_},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(u,c,_,I){if(u=+u,c=c>>>0,_=_>>>0,!I){let Be=Math.pow(2,8*_)-1;he(this,u,c,_,Be,0)}let N=_-1,K=1;for(this[c+N]=u&255;--N>=0&&(K*=256);)this[c+N]=u/K&255;return c+_},i.prototype.writeUint8=i.prototype.writeUInt8=function(u,c,_){return u=+u,c=c>>>0,_||he(this,u,c,1,255,0),this[c]=u&255,c+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(u,c,_){return u=+u,c=c>>>0,_||he(this,u,c,2,65535,0),this[c]=u&255,this[c+1]=u>>>8,c+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(u,c,_){return u=+u,c=c>>>0,_||he(this,u,c,2,65535,0),this[c]=u>>>8,this[c+1]=u&255,c+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(u,c,_){return u=+u,c=c>>>0,_||he(this,u,c,4,4294967295,0),this[c+3]=u>>>24,this[c+2]=u>>>16,this[c+1]=u>>>8,this[c]=u&255,c+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(u,c,_){return u=+u,c=c>>>0,_||he(this,u,c,4,4294967295,0),this[c]=u>>>24,this[c+1]=u>>>16,this[c+2]=u>>>8,this[c+3]=u&255,c+4};function D(h,u,c,_,I){ae(u,_,I,h,c,7);let N=Number(u&BigInt(4294967295));h[c++]=N,N=N>>8,h[c++]=N,N=N>>8,h[c++]=N,N=N>>8,h[c++]=N;let K=Number(u>>BigInt(32)&BigInt(4294967295));return h[c++]=K,K=K>>8,h[c++]=K,K=K>>8,h[c++]=K,K=K>>8,h[c++]=K,c}function Z(h,u,c,_,I){ae(u,_,I,h,c,7);let N=Number(u&BigInt(4294967295));h[c+7]=N,N=N>>8,h[c+6]=N,N=N>>8,h[c+5]=N,N=N>>8,h[c+4]=N;let K=Number(u>>BigInt(32)&BigInt(4294967295));return h[c+3]=K,K=K>>8,h[c+2]=K,K=K>>8,h[c+1]=K,K=K>>8,h[c]=K,c+8}i.prototype.writeBigUInt64LE=wt(function(u,c=0){return D(this,u,c,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeBigUInt64BE=wt(function(u,c=0){return Z(this,u,c,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeIntLE=function(u,c,_,I){if(u=+u,c=c>>>0,!I){let Je=Math.pow(2,8*_-1);he(this,u,c,_,Je-1,-Je)}let N=0,K=1,Be=0;for(this[c]=u&255;++N<_&&(K*=256);)u<0&&Be===0&&this[c+N-1]!==0&&(Be=1),this[c+N]=(u/K>>0)-Be&255;return c+_},i.prototype.writeIntBE=function(u,c,_,I){if(u=+u,c=c>>>0,!I){let Je=Math.pow(2,8*_-1);he(this,u,c,_,Je-1,-Je)}let N=_-1,K=1,Be=0;for(this[c+N]=u&255;--N>=0&&(K*=256);)u<0&&Be===0&&this[c+N+1]!==0&&(Be=1),this[c+N]=(u/K>>0)-Be&255;return c+_},i.prototype.writeInt8=function(u,c,_){return u=+u,c=c>>>0,_||he(this,u,c,1,127,-128),u<0&&(u=255+u+1),this[c]=u&255,c+1},i.prototype.writeInt16LE=function(u,c,_){return u=+u,c=c>>>0,_||he(this,u,c,2,32767,-32768),this[c]=u&255,this[c+1]=u>>>8,c+2},i.prototype.writeInt16BE=function(u,c,_){return u=+u,c=c>>>0,_||he(this,u,c,2,32767,-32768),this[c]=u>>>8,this[c+1]=u&255,c+2},i.prototype.writeInt32LE=function(u,c,_){return u=+u,c=c>>>0,_||he(this,u,c,4,2147483647,-2147483648),this[c]=u&255,this[c+1]=u>>>8,this[c+2]=u>>>16,this[c+3]=u>>>24,c+4},i.prototype.writeInt32BE=function(u,c,_){return u=+u,c=c>>>0,_||he(this,u,c,4,2147483647,-2147483648),u<0&&(u=4294967295+u+1),this[c]=u>>>24,this[c+1]=u>>>16,this[c+2]=u>>>8,this[c+3]=u&255,c+4},i.prototype.writeBigInt64LE=wt(function(u,c=0){return D(this,u,c,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),i.prototype.writeBigInt64BE=wt(function(u,c=0){return Z(this,u,c,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function F(h,u,c,_,I,N){if(c+_>h.length)throw new RangeError("Index out of range");if(c<0)throw new RangeError("Index out of range")}function fe(h,u,c,_,I){return u=+u,c=c>>>0,I||F(h,u,c,4),e.write(h,u,c,_,23,4),c+4}i.prototype.writeFloatLE=function(u,c,_){return fe(this,u,c,!0,_)},i.prototype.writeFloatBE=function(u,c,_){return fe(this,u,c,!1,_)};function ve(h,u,c,_,I){return u=+u,c=c>>>0,I||F(h,u,c,8),e.write(h,u,c,_,52,8),c+8}i.prototype.writeDoubleLE=function(u,c,_){return ve(this,u,c,!0,_)},i.prototype.writeDoubleBE=function(u,c,_){return ve(this,u,c,!1,_)},i.prototype.copy=function(u,c,_,I){if(!i.isBuffer(u))throw new TypeError("argument should be a Buffer");if(_||(_=0),!I&&I!==0&&(I=this.length),c>=u.length&&(c=u.length),c||(c=0),I>0&&I<_&&(I=_),I===_||u.length===0||this.length===0)return 0;if(c<0)throw new RangeError("targetStart out of bounds");if(_<0||_>=this.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("sourceEnd out of bounds");I>this.length&&(I=this.length),u.length-c<I-_&&(I=u.length-c+_);let N=I-_;return this===u&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(c,_,I):Uint8Array.prototype.set.call(u,this.subarray(_,I),c),N},i.prototype.fill=function(u,c,_,I){if(typeof u=="string"){if(typeof c=="string"?(I=c,c=0,_=this.length):typeof _=="string"&&(I=_,_=this.length),I!==void 0&&typeof I!="string")throw new TypeError("encoding must be a string");if(typeof I=="string"&&!i.isEncoding(I))throw new TypeError("Unknown encoding: "+I);if(u.length===1){let K=u.charCodeAt(0);(I==="utf8"&&K<128||I==="latin1")&&(u=K)}}else typeof u=="number"?u=u&255:typeof u=="boolean"&&(u=Number(u));if(c<0||this.length<c||this.length<_)throw new RangeError("Out of range index");if(_<=c)return this;c=c>>>0,_=_===void 0?this.length:_>>>0,u||(u=0);let N;if(typeof u=="number")for(N=c;N<_;++N)this[N]=u;else{let K=i.isBuffer(u)?u:i.from(u,I),Be=K.length;if(Be===0)throw new TypeError('The value "'+u+'" is invalid for argument "value"');for(N=0;N<_-c;++N)this[N+c]=K[N%Be]}return this};let A={};function k(h,u,c){A[h]=class extends c{constructor(){super(),Object.defineProperty(this,"message",{value:u.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${h}]`,this.stack,delete this.name}get code(){return h}set code(I){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:I,writable:!0})}toString(){return`${this.name} [${h}]: ${this.message}`}}}k("ERR_BUFFER_OUT_OF_BOUNDS",function(h){return h?`${h} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),k("ERR_INVALID_ARG_TYPE",function(h,u){return`The "${h}" argument must be of type number. Received type ${typeof u}`},TypeError),k("ERR_OUT_OF_RANGE",function(h,u,c){let _=`The value of "${h}" is out of range.`,I=c;return Number.isInteger(c)&&Math.abs(c)>2**32?I=j(String(c)):typeof c=="bigint"&&(I=String(c),(c>BigInt(2)**BigInt(32)||c<-(BigInt(2)**BigInt(32)))&&(I=j(I)),I+="n"),_+=` It must be ${u}. Received ${I}`,_},RangeError);function j(h){let u="",c=h.length,_=h[0]==="-"?1:0;for(;c>=_+4;c-=3)u=`_${h.slice(c-3,c)}${u}`;return`${h.slice(0,c)}${u}`}function V(h,u,c){b(u,"offset"),(h[u]===void 0||h[u+c]===void 0)&&w(u,h.length-(c+1))}function ae(h,u,c,_,I,N){if(h>c||h<u){let K=typeof u=="bigint"?"n":"",Be;throw u===0||u===BigInt(0)?Be=`>= 0${K} and < 2${K} ** ${(N+1)*8}${K}`:Be=`>= -(2${K} ** ${(N+1)*8-1}${K}) and < 2 ** ${(N+1)*8-1}${K}`,new A.ERR_OUT_OF_RANGE("value",Be,h)}V(_,I,N)}function b(h,u){if(typeof h!="number")throw new A.ERR_INVALID_ARG_TYPE(u,"number",h)}function w(h,u,c){throw Math.floor(h)!==h?(b(h,c),new A.ERR_OUT_OF_RANGE("offset","an integer",h)):u<0?new A.ERR_BUFFER_OUT_OF_BOUNDS:new A.ERR_OUT_OF_RANGE("offset",`>= ${0} and <= ${u}`,h)}let W=/[^+/0-9A-Za-z-_]/g;function Q(h){if(h=h.split("=")[0],h=h.trim().replace(W,""),h.length<2)return"";for(;h.length%4!==0;)h=h+"=";return h}function He(h,u){u=u||1/0;let c,_=h.length,I=null,N=[];for(let K=0;K<_;++K){if(c=h.charCodeAt(K),c>55295&&c<57344){if(!I){if(c>56319){(u-=3)>-1&&N.push(239,191,189);continue}else if(K+1===_){(u-=3)>-1&&N.push(239,191,189);continue}I=c;continue}if(c<56320){(u-=3)>-1&&N.push(239,191,189),I=c;continue}c=(I-55296<<10|c-56320)+65536}else I&&(u-=3)>-1&&N.push(239,191,189);if(I=null,c<128){if((u-=1)<0)break;N.push(c)}else if(c<2048){if((u-=2)<0)break;N.push(c>>6|192,c&63|128)}else if(c<65536){if((u-=3)<0)break;N.push(c>>12|224,c>>6&63|128,c&63|128)}else if(c<1114112){if((u-=4)<0)break;N.push(c>>18|240,c>>12&63|128,c>>6&63|128,c&63|128)}else throw new Error("Invalid code point")}return N}function _e(h){let u=[];for(let c=0;c<h.length;++c)u.push(h.charCodeAt(c)&255);return u}function U(h,u){let c,_,I,N=[];for(let K=0;K<h.length&&!((u-=2)<0);++K)c=h.charCodeAt(K),_=c>>8,I=c%256,N.push(I),N.push(_);return N}function Pt(h){return t.toByteArray(Q(h))}function It(h,u,c,_){let I;for(I=0;I<_&&!(I+c>=u.length||I>=h.length);++I)u[I+c]=h[I];return I}function vt(h,u){return h instanceof u||h!=null&&h.constructor!=null&&h.constructor.name!=null&&h.constructor.name===u.name}function vr(h){return h!==h}let Qr=function(){let h="0123456789abcdef",u=new Array(256);for(let c=0;c<16;++c){let _=c*16;for(let I=0;I<16;++I)u[_+I]=h[c]+h[I]}return u}();function wt(h){return typeof BigInt>"u"?Tr:h}function Tr(){throw new Error("BigInt not supported")}return dn}var br,cc,ii,fc,dn,dc,oi=it(()=>{C();R();O();br={},cc=!1;ii={},fc=!1;dn={},dc=!1});var pn,G,BI,PI,pc=it(()=>{C();R();O();oi();pn=At();pn.Buffer;pn.SlowBuffer;pn.INSPECT_MAX_BYTES;pn.kMaxLength;G=pn.Buffer,BI=pn.INSPECT_MAX_BYTES,PI=pn.kMaxLength});var R=it(()=>{pc()});var Pc=Wl(Pe=>{"use strict";C();R();O();var wr=Symbol.for("react.element"),jv=Symbol.for("react.portal"),$v=Symbol.for("react.fragment"),Zv=Symbol.for("react.strict_mode"),Lv=Symbol.for("react.profiler"),Fv=Symbol.for("react.provider"),Kv=Symbol.for("react.context"),Wv=Symbol.for("react.forward_ref"),qv=Symbol.for("react.suspense"),zv=Symbol.for("react.memo"),Gv=Symbol.for("react.lazy"),gc=Symbol.iterator;function Vv(t){return t===null||typeof t!="object"?null:(t=gc&&t[gc]||t["@@iterator"],typeof t=="function"?t:null)}var hc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vc=Object.assign,Tc={};function $n(t,e,n){this.props=t,this.context=e,this.refs=Tc,this.updater=n||hc}$n.prototype.isReactComponent={};$n.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$n.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _c(){}_c.prototype=$n.prototype;function Xo(t,e,n){this.props=t,this.context=e,this.refs=Tc,this.updater=n||hc}var Qo=Xo.prototype=new _c;Qo.constructor=Xo;vc(Qo,$n.prototype);Qo.isPureReactComponent=!0;var yc=Array.isArray,bc=Object.prototype.hasOwnProperty,ea={current:null},wc={key:!0,ref:!0,__self:!0,__source:!0};function xc(t,e,n){var r,o={},s=null,i=null;if(e!=null)for(r in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(s=""+e.key),e)bc.call(e,r)&&!wc.hasOwnProperty(r)&&(o[r]=e[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),f=0;f<a;f++)l[f]=arguments[f+2];o.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:wr,type:t,key:s,ref:i,props:o,_owner:ea.current}}function Jv(t,e){return{$$typeof:wr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ta(t){return typeof t=="object"&&t!==null&&t.$$typeof===wr}function Yv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var mc=/\/+/g;function Yo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Yv(""+t.key):e.toString(36)}function si(t,e,n,r,o){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case wr:case jv:i=!0}}if(i)return i=t,o=o(i),t=r===""?"."+Yo(i,0):r,yc(o)?(n="",t!=null&&(n=t.replace(mc,"$&/")+"/"),si(o,e,n,"",function(f){return f})):o!=null&&(ta(o)&&(o=Jv(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(mc,"$&/")+"/")+t)),e.push(o)),1;if(i=0,r=r===""?".":r+":",yc(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Yo(s,a);i+=si(s,e,n,l,o)}else if(l=Vv(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Yo(s,a++),i+=si(s,e,n,l,o);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function ai(t,e,n){if(t==null)return t;var r=[],o=0;return si(t,r,"","",function(s){return e.call(n,s,o++)}),r}function Xv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ut={current:null},li={transition:null},Qv={ReactCurrentDispatcher:ut,ReactCurrentBatchConfig:li,ReactCurrentOwner:ea};function Bc(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:ai,forEach:function(t,e,n){ai(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ai(t,function(){e++}),e},toArray:function(t){return ai(t,function(e){return e})||[]},only:function(t){if(!ta(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=$n;Pe.Fragment=$v;Pe.Profiler=Lv;Pe.PureComponent=Xo;Pe.StrictMode=Zv;Pe.Suspense=qv;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qv;Pe.act=Bc;Pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=vc({},t.props),o=t.key,s=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,i=ea.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)bc.call(e,l)&&!wc.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var f=0;f<l;f++)a[f]=arguments[f+2];r.children=a}return{$$typeof:wr,type:t.type,key:o,ref:s,props:r,_owner:i}};Pe.createContext=function(t){return t={$$typeof:Kv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Fv,_context:t},t.Consumer=t};Pe.createElement=xc;Pe.createFactory=function(t){var e=xc.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:Wv,render:t}};Pe.isValidElement=ta;Pe.lazy=function(t){return{$$typeof:Gv,_payload:{_status:-1,_result:t},_init:Xv}};Pe.memo=function(t,e){return{$$typeof:zv,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=li.transition;li.transition={};try{t()}finally{li.transition=e}};Pe.unstable_act=Bc;Pe.useCallback=function(t,e){return ut.current.useCallback(t,e)};Pe.useContext=function(t){return ut.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return ut.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return ut.current.useEffect(t,e)};Pe.useId=function(){return ut.current.useId()};Pe.useImperativeHandle=function(t,e,n){return ut.current.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return ut.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return ut.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return ut.current.useMemo(t,e)};Pe.useReducer=function(t,e,n){return ut.current.useReducer(t,e,n)};Pe.useRef=function(t){return ut.current.useRef(t)};Pe.useState=function(t){return ut.current.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return ut.current.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return ut.current.useTransition()};Pe.version="18.3.1"});var Zn=Wl((NI,Ec)=>{"use strict";C();R();O();Ec.exports=Pc()});function Ct(){return My||(My=!0,typeof Object.create=="function"?_o=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:_o=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}}),_o}var _o,My,is=it(()=>{C();R();O();_o={},My=!1});function Ue(){Ue.init.call(this)}function bo(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function Ky(t){return t._maxListeners===void 0?Ue.defaultMaxListeners:t._maxListeners}function Uy(t,e,n,r){var o,s,i,a;if(bo(n),(s=t._events)===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),i=s[e]),i===void 0)i=s[e]=n,++t._eventsCount;else if(typeof i=="function"?i=s[e]=r?[n,i]:[i,n]:r?i.unshift(n):i.push(n),(o=Ky(t))>0&&i.length>o&&!i.warned){i.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=i.length,a=l,console&&console.warn&&console.warn(a)}return t}function iP(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function jy(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=iP.bind(r);return o.listener=n,r.wrapFn=o,o}function $y(t,e,n){var r=t._events;if(r===void 0)return[];var o=r[e];return o===void 0?[]:typeof o=="function"?n?[o.listener||o]:[o]:n?function(s){for(var i=new Array(s.length),a=0;a<i.length;++a)i[a]=s[a].listener||s[a];return i}(o):Wy(o,o.length)}function Zy(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}function Wy(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}var Ly,Fy,or,Dy,Ny,Hy,yt,os=it(()=>{C();R();O();or=typeof Reflect=="object"?Reflect:null,Dy=or&&typeof or.apply=="function"?or.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};Fy=or&&typeof or.ownKeys=="function"?or.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};Ny=Number.isNaN||function(t){return t!=t};Ly=Ue,Ue.EventEmitter=Ue,Ue.prototype._events=void 0,Ue.prototype._eventsCount=0,Ue.prototype._maxListeners=void 0;Hy=10;Object.defineProperty(Ue,"defaultMaxListeners",{enumerable:!0,get:function(){return Hy},set:function(t){if(typeof t!="number"||t<0||Ny(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Hy=t}}),Ue.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Ue.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Ny(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},Ue.prototype.getMaxListeners=function(){return Ky(this)},Ue.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r=t==="error",o=this._events;if(o!==void 0)r=r&&o.error===void 0;else if(!r)return!1;if(r){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var i=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw i.context=s,i}var a=o[t];if(a===void 0)return!1;if(typeof a=="function")Dy(a,this,e);else{var l=a.length,f=Wy(a,l);for(n=0;n<l;++n)Dy(f[n],this,e)}return!0},Ue.prototype.addListener=function(t,e){return Uy(this,t,e,!1)},Ue.prototype.on=Ue.prototype.addListener,Ue.prototype.prependListener=function(t,e){return Uy(this,t,e,!0)},Ue.prototype.once=function(t,e){return bo(e),this.on(t,jy(this,t,e)),this},Ue.prototype.prependOnceListener=function(t,e){return bo(e),this.prependListener(t,jy(this,t,e)),this},Ue.prototype.removeListener=function(t,e){var n,r,o,s,i;if(bo(e),(r=this._events)===void 0)return this;if((n=r[t])===void 0)return this;if(n===e||n.listener===e)--this._eventsCount==0?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if(typeof n!="function"){for(o=-1,s=n.length-1;s>=0;s--)if(n[s]===e||n[s].listener===e){i=n[s].listener,o=s;break}if(o<0)return this;o===0?n.shift():function(a,l){for(;l+1<a.length;l++)a[l]=a[l+1];a.pop()}(n,o),n.length===1&&(r[t]=n[0]),r.removeListener!==void 0&&this.emit("removeListener",t,i||e)}return this},Ue.prototype.off=Ue.prototype.removeListener,Ue.prototype.removeAllListeners=function(t){var e,n,r;if((n=this._events)===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var o,s=Object.keys(n);for(r=0;r<s.length;++r)(o=s[r])!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(e=n[t])=="function")this.removeListener(t,e);else if(e!==void 0)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},Ue.prototype.listeners=function(t){return $y(this,t,!0)},Ue.prototype.rawListeners=function(t){return $y(this,t,!1)},Ue.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Zy.call(t,e)},Ue.prototype.listenerCount=Zy,Ue.prototype.eventNames=function(){return this._eventsCount>0?Fy(this._events):[]};yt=Ly;yt.EventEmitter;yt.defaultMaxListeners;yt.init;yt.listenerCount;yt.EventEmitter;yt.defaultMaxListeners;yt.init;yt.listenerCount});var qy=it(()=>{C();R();O();os();yt.once=function(t,e){return new Promise((n,r)=>{function o(...i){s!==void 0&&t.removeListener("error",s),n(i)}let s;e!=="error"&&(s=i=>{t.removeListener(name,o),r(i)},t.once("error",s)),t.once(e,o)})};yt.on=function(t,e){let n=[],r=[],o=null,s=!1,i={async next(){let f=n.shift();if(f)return createIterResult(f,!1);if(o){let d=Promise.reject(o);return o=null,d}return s?createIterResult(void 0,!0):new Promise((d,y)=>r.push({resolve:d,reject:y}))},async return(){t.removeListener(e,a),t.removeListener("error",l),s=!0;for(let f of r)f.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(f){o=f,t.removeListener(e,a),t.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return t.on(e,a),t.on("error",l),i;function a(...f){let d=r.shift();d?d.resolve(createIterResult(f,!1)):n.push(f)}function l(f){s=!0;let d=r.shift();d?d.reject(f):o=f,i.return()}}});function cs(){throw new Error("setTimeout has not been defined")}function fs(){throw new Error("clearTimeout has not been defined")}function am(t){if(qt===setTimeout)return setTimeout(t,0);if((qt===cs||!qt)&&setTimeout)return qt=setTimeout,setTimeout(t,0);try{return qt(t,0)}catch{try{return qt.call(null,t,0)}catch{return qt.call(this||sr,t,0)}}}function oP(){ar&&In&&(ar=!1,In.length?Gt=In.concat(Gt):So=-1,Gt.length&&sm())}function sm(){if(!ar){var t=am(oP);ar=!0;for(var e=Gt.length;e;){for(In=Gt,Gt=[];++So<e;)In&&In[So].run();So=-1,e=Gt.length}In=null,ar=!1,function(n){if(zt===clearTimeout)return clearTimeout(n);if((zt===fs||!zt)&&clearTimeout)return zt=clearTimeout,clearTimeout(n);try{zt(n)}catch{try{return zt.call(null,n)}catch{return zt.call(this||sr,n)}}}(t)}}function zy(t,e){(this||sr).fun=t,(this||sr).array=e}function Wt(){}function Cn(t){return t.call.bind(t)}function Kr(t,e){if(typeof t!="object")return!1;try{return e(t),!0}catch{return!1}}function Vy(t){return mt&&_t?xt(t)!==void 0:pm(t)||gm(t)||ym(t)||mm(t)||hm(t)||vm(t)||Tm(t)||_m(t)||bm(t)||wm(t)||xm(t)}function pm(t){return mt&&_t?xt(t)==="Uint8Array":Ge(t)==="[object Uint8Array]"||yP(t)&&t.buffer!==void 0}function gm(t){return mt&&_t?xt(t)==="Uint8ClampedArray":Ge(t)==="[object Uint8ClampedArray]"}function ym(t){return mt&&_t?xt(t)==="Uint16Array":Ge(t)==="[object Uint16Array]"}function mm(t){return mt&&_t?xt(t)==="Uint32Array":Ge(t)==="[object Uint32Array]"}function hm(t){return mt&&_t?xt(t)==="Int8Array":Ge(t)==="[object Int8Array]"}function vm(t){return mt&&_t?xt(t)==="Int16Array":Ge(t)==="[object Int16Array]"}function Tm(t){return mt&&_t?xt(t)==="Int32Array":Ge(t)==="[object Int32Array]"}function _m(t){return mt&&_t?xt(t)==="Float32Array":Ge(t)==="[object Float32Array]"}function bm(t){return mt&&_t?xt(t)==="Float64Array":Ge(t)==="[object Float64Array]"}function wm(t){return mt&&_t?xt(t)==="BigInt64Array":Ge(t)==="[object BigInt64Array]"}function xm(t){return mt&&_t?xt(t)==="BigUint64Array":Ge(t)==="[object BigUint64Array]"}function wo(t){return Ge(t)==="[object Map]"}function xo(t){return Ge(t)==="[object Set]"}function Bo(t){return Ge(t)==="[object WeakMap]"}function as(t){return Ge(t)==="[object WeakSet]"}function Io(t){return Ge(t)==="[object ArrayBuffer]"}function Jy(t){return typeof ArrayBuffer<"u"&&(Io.working?Io(t):t instanceof ArrayBuffer)}function Ao(t){return Ge(t)==="[object DataView]"}function Yy(t){return typeof DataView<"u"&&(Ao.working?Ao(t):t instanceof DataView)}function Co(t){return Ge(t)==="[object SharedArrayBuffer]"}function Xy(t){return typeof SharedArrayBuffer<"u"&&(Co.working?Co(t):t instanceof SharedArrayBuffer)}function Qy(t){return Kr(t,_P)}function em(t){return Kr(t,bP)}function tm(t){return Kr(t,wP)}function nm(t){return dm&&Kr(t,xP)}function rm(t){return ps&&Kr(t,BP)}function an(t,e){var n={seen:[],stylize:SP};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),gs(e)?n.showHidden=e:e&&L._extend(n,e),An(n.showHidden)&&(n.showHidden=!1),An(n.depth)&&(n.depth=2),An(n.colors)&&(n.colors=!1),An(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=EP),Oo(n,t,n.depth)}function EP(t,e){var n=an.styles[e];return n?"\x1B["+an.colors[n][0]+"m"+t+"\x1B["+an.colors[n][1]+"m":t}function SP(t,e){return t}function Oo(t,e,n){if(t.customInspect&&e&&ko(e.inspect)&&e.inspect!==L.inspect&&(!e.constructor||e.constructor.prototype!==e)){var r=e.inspect(n,t);return Ro(r)||(r=Oo(t,r,n)),r}var o=function(g,m){if(An(m))return g.stylize("undefined","undefined");if(Ro(m)){var v="'"+JSON.stringify(m).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return g.stylize(v,"string")}if(Em(m))return g.stylize(""+m,"number");if(gs(m))return g.stylize(""+m,"boolean");if(No(m))return g.stylize("null","null")}(t,e);if(o)return o;var s=Object.keys(e),i=function(g){var m={};return g.forEach(function(v,B){m[v]=!0}),m}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),Fr(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return ss(e);if(s.length===0){if(ko(e)){var a=e.name?": "+e.name:"";return t.stylize("[Function"+a+"]","special")}if(Lr(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(Mo(e))return t.stylize(Date.prototype.toString.call(e),"date");if(Fr(e))return ss(e)}var l,f="",d=!1,y=["{","}"];return Pm(e)&&(d=!0,y=["[","]"]),ko(e)&&(f=" [Function"+(e.name?": "+e.name:"")+"]"),Lr(e)&&(f=" "+RegExp.prototype.toString.call(e)),Mo(e)&&(f=" "+Date.prototype.toUTCString.call(e)),Fr(e)&&(f=" "+ss(e)),s.length!==0||d&&e.length!=0?n<0?Lr(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),l=d?function(g,m,v,B,P){for(var T=[],S=0,E=m.length;S<E;++S)Sm(m,String(S))?T.push(ls(g,m,v,B,String(S),!0)):T.push("");return P.forEach(function(M){M.match(/^\d+$/)||T.push(ls(g,m,v,B,M,!0))}),T}(t,e,n,i,s):s.map(function(g){return ls(t,e,n,i,g,d)}),t.seen.pop(),function(g,m,v){var B=0;return g.reduce(function(P,T){return B++,T.indexOf(`
`)>=0&&B++,P+T.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?v[0]+(m===""?"":m+`
 `)+" "+g.join(`,
  `)+" "+v[1]:v[0]+m+" "+g.join(", ")+" "+v[1]}(l,f,y)):y[0]+f+y[1]}function ss(t){return"["+Error.prototype.toString.call(t)+"]"}function ls(t,e,n,r,o,s){var i,a,l;if((l=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?a=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(a=t.stylize("[Setter]","special")),Sm(r,o)||(i="["+o+"]"),a||(t.seen.indexOf(l.value)<0?(a=No(n)?Oo(t,l.value,null):Oo(t,l.value,n-1)).indexOf(`
`)>-1&&(a=s?a.split(`
`).map(function(f){return"  "+f}).join(`
`).substr(2):`
`+a.split(`
`).map(function(f){return"   "+f}).join(`
`)):a=t.stylize("[Circular]","special")),An(i)){if(s&&o.match(/^\d+$/))return a;(i=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=t.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=t.stylize(i,"string"))}return i+": "+a}function Pm(t){return Array.isArray(t)}function gs(t){return typeof t=="boolean"}function No(t){return t===null}function Em(t){return typeof t=="number"}function Ro(t){return typeof t=="string"}function An(t){return t===void 0}function Lr(t){return lr(t)&&ys(t)==="[object RegExp]"}function lr(t){return typeof t=="object"&&t!==null}function Mo(t){return lr(t)&&ys(t)==="[object Date]"}function Fr(t){return lr(t)&&(ys(t)==="[object Error]"||t instanceof Error)}function ko(t){return typeof t=="function"}function ys(t){return Object.prototype.toString.call(t)}function us(t){return t<10?"0"+t.toString(10):t.toString(10)}function IP(){var t=new Date,e=[us(t.getHours()),us(t.getMinutes()),us(t.getSeconds())].join(":");return[t.getDate(),kP[t.getMonth()],e].join(" ")}function Sm(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function AP(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}var om,qt,zt,sr,et,In,Gt,ar,So,Ke,aP,ds,Do,lm,sP,lP,uP,cP,fP,um,cm,Gy,dP,pP,gP,fm,Ee,yP,mP,hP,dm,ps,_t,mt,vP,Ge,_P,bP,wP,Zr,L,Ot,im,PP,Po,Bm,Eo,kP,kn,FA,Ho=it(()=>{C();R();O();sr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,et=om={};(function(){try{qt=typeof setTimeout=="function"?setTimeout:cs}catch{qt=cs}try{zt=typeof clearTimeout=="function"?clearTimeout:fs}catch{zt=fs}})();Gt=[],ar=!1,So=-1;et.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Gt.push(new zy(t,e)),Gt.length!==1||ar||am(sm)},zy.prototype.run=function(){(this||sr).fun.apply(null,(this||sr).array)},et.title="browser",et.browser=!0,et.env={},et.argv=[],et.version="",et.versions={},et.on=Wt,et.addListener=Wt,et.once=Wt,et.off=Wt,et.removeListener=Wt,et.removeAllListeners=Wt,et.emit=Wt,et.prependListener=Wt,et.prependOnceListener=Wt,et.listeners=function(t){return[]},et.binding=function(t){throw new Error("process.binding is not supported")},et.cwd=function(){return"/"},et.chdir=function(t){throw new Error("process.chdir is not supported")},et.umask=function(){return 0};Ke=om;Ke.addListener;Ke.argv;Ke.binding;Ke.browser;Ke.chdir;Ke.cwd;Ke.emit;Ke.env;Ke.listeners;Ke.nextTick;Ke.off;Ke.on;Ke.once;Ke.prependListener;Ke.prependOnceListener;Ke.removeAllListeners;Ke.removeListener;Ke.title;Ke.umask;Ke.version;Ke.versions;aP=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",ds=Object.prototype.toString,Do=function(t){return!(aP&&t&&typeof t=="object"&&Symbol.toStringTag in t)&&ds.call(t)==="[object Arguments]"},lm=function(t){return!!Do(t)||t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&ds.call(t)!=="[object Array]"&&ds.call(t.callee)==="[object Function]"},sP=function(){return Do(arguments)}();Do.isLegacyArguments=lm;lP=sP?Do:lm,uP=Object.prototype.toString,cP=Function.prototype.toString,fP=/^\s*(?:function)?\*/,um=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",cm=Object.getPrototypeOf,Gy=function(){if(!um)return!1;try{return Function("return function*() {}")()}catch{}}(),dP=Gy?cm(Gy):{},pP=function(t){return typeof t=="function"&&(!!fP.test(cP.call(t))||(um?cm(t)===dP:uP.call(t)==="[object GeneratorFunction]"))},gP=typeof Object.create=="function"?function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},fm=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"},Ee={},yP=fm,mP=lP,hP=pP;dm=typeof BigInt<"u",ps=typeof Symbol<"u",_t=ps&&Symbol.toStringTag!==void 0,mt=typeof Uint8Array<"u",vP=typeof ArrayBuffer<"u";if(mt&&_t)var TP=Object.getPrototypeOf(Uint8Array.prototype),xt=Cn(Object.getOwnPropertyDescriptor(TP,Symbol.toStringTag).get);Ge=Cn(Object.prototype.toString),_P=Cn(Number.prototype.valueOf),bP=Cn(String.prototype.valueOf),wP=Cn(Boolean.prototype.valueOf);if(dm)var xP=Cn(BigInt.prototype.valueOf);if(ps)var BP=Cn(Symbol.prototype.valueOf);Ee.isArgumentsObject=mP,Ee.isGeneratorFunction=hP,Ee.isPromise=function(t){return typeof Promise<"u"&&t instanceof Promise||t!==null&&typeof t=="object"&&typeof t.then=="function"&&typeof t.catch=="function"},Ee.isArrayBufferView=function(t){return vP&&ArrayBuffer.isView?ArrayBuffer.isView(t):Vy(t)||Yy(t)},Ee.isTypedArray=Vy,Ee.isUint8Array=pm,Ee.isUint8ClampedArray=gm,Ee.isUint16Array=ym,Ee.isUint32Array=mm,Ee.isInt8Array=hm,Ee.isInt16Array=vm,Ee.isInt32Array=Tm,Ee.isFloat32Array=_m,Ee.isFloat64Array=bm,Ee.isBigInt64Array=wm,Ee.isBigUint64Array=xm,wo.working=typeof Map<"u"&&wo(new Map),Ee.isMap=function(t){return typeof Map<"u"&&(wo.working?wo(t):t instanceof Map)},xo.working=typeof Set<"u"&&xo(new Set),Ee.isSet=function(t){return typeof Set<"u"&&(xo.working?xo(t):t instanceof Set)},Bo.working=typeof WeakMap<"u"&&Bo(new WeakMap),Ee.isWeakMap=function(t){return typeof WeakMap<"u"&&(Bo.working?Bo(t):t instanceof WeakMap)},as.working=typeof WeakSet<"u"&&as(new WeakSet),Ee.isWeakSet=function(t){return as(t)},Io.working=typeof ArrayBuffer<"u"&&Io(new ArrayBuffer),Ee.isArrayBuffer=Jy,Ao.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Ao(new DataView(new ArrayBuffer(1),0,1)),Ee.isDataView=Yy,Co.working=typeof SharedArrayBuffer<"u"&&Co(new SharedArrayBuffer),Ee.isSharedArrayBuffer=Xy,Ee.isAsyncFunction=function(t){return Ge(t)==="[object AsyncFunction]"},Ee.isMapIterator=function(t){return Ge(t)==="[object Map Iterator]"},Ee.isSetIterator=function(t){return Ge(t)==="[object Set Iterator]"},Ee.isGeneratorObject=function(t){return Ge(t)==="[object Generator]"},Ee.isWebAssemblyCompiledModule=function(t){return Ge(t)==="[object WebAssembly.Module]"},Ee.isNumberObject=Qy,Ee.isStringObject=em,Ee.isBooleanObject=tm,Ee.isBigIntObject=nm,Ee.isSymbolObject=rm,Ee.isBoxedPrimitive=function(t){return Qy(t)||em(t)||tm(t)||nm(t)||rm(t)},Ee.isAnyArrayBuffer=function(t){return mt&&(Jy(t)||Xy(t))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(t){Object.defineProperty(Ee,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})});Zr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,L={},Ot=Ke,im=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},PP=/%[sdj%]/g;L.format=function(t){if(!Ro(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(an(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(t).replace(PP,function(a){if(a==="%%")return"%";if(n>=o)return a;switch(a){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch{return"[Circular]"}default:return a}}),i=r[n];n<o;i=r[++n])No(i)||!lr(i)?s+=" "+i:s+=" "+an(i);return s},L.deprecate=function(t,e){if(Ot!==void 0&&Ot.noDeprecation===!0)return t;if(Ot===void 0)return function(){return L.deprecate(t,e).apply(this||Zr,arguments)};var n=!1;return function(){if(!n){if(Ot.throwDeprecation)throw new Error(e);Ot.traceDeprecation?console.trace(e):console.error(e),n=!0}return t.apply(this||Zr,arguments)}};Po={},Bm=/^$/;Ot.env.NODE_DEBUG&&(Eo=Ot.env.NODE_DEBUG,Eo=Eo.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),Bm=new RegExp("^"+Eo+"$","i"));L.debuglog=function(t){if(t=t.toUpperCase(),!Po[t])if(Bm.test(t)){var e=Ot.pid;Po[t]=function(){var n=L.format.apply(L,arguments);console.error("%s %d: %s",t,e,n)}}else Po[t]=function(){};return Po[t]},L.inspect=an,an.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},an.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},L.types=Ee,L.isArray=Pm,L.isBoolean=gs,L.isNull=No,L.isNullOrUndefined=function(t){return t==null},L.isNumber=Em,L.isString=Ro,L.isSymbol=function(t){return typeof t=="symbol"},L.isUndefined=An,L.isRegExp=Lr,L.types.isRegExp=Lr,L.isObject=lr,L.isDate=Mo,L.types.isDate=Mo,L.isError=Fr,L.types.isNativeError=Fr,L.isFunction=ko,L.isPrimitive=function(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||t===void 0},L.isBuffer=fm;kP=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];L.log=function(){console.log("%s - %s",IP(),L.format.apply(L,arguments))},L.inherits=gP,L._extend=function(t,e){if(!e||!lr(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};kn=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;L.promisify=function(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');if(kn&&t[kn]){var e;if(typeof(e=t[kn])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,kn,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var n,r,o=new Promise(function(a,l){n=a,r=l}),s=[],i=0;i<arguments.length;i++)s.push(arguments[i]);s.push(function(a,l){a?r(a):n(l)});try{t.apply(this||Zr,s)}catch(a){r(a)}return o}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),kn&&Object.defineProperty(e,kn,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,im(t))},L.promisify.custom=kn,L.callbackify=function(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if(typeof o!="function")throw new TypeError("The last argument must be of type Function");var s=this||Zr,i=function(){return o.apply(s,arguments)};t.apply(this||Zr,n).then(function(a){Ot.nextTick(i.bind(null,null,a))},function(a){Ot.nextTick(AP.bind(null,a,i))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,im(t)),e};L._extend;L.callbackify;L.debuglog;L.deprecate;L.format;L.inherits;L.inspect;L.isArray;L.isBoolean;L.isBuffer;L.isDate;L.isError;L.isFunction;L.isNull;L.isNullOrUndefined;L.isNumber;L.isObject;L.isPrimitive;L.isRegExp;L.isString;L.isSymbol;L.isUndefined;L.log;L.promisify;L._extend;L.callbackify;L.debuglog;L.deprecate;L.format;L.inherits;L.inspect;L.isArray;L.isBoolean;L.isBuffer;L.isDate;L.isError;L.isFunction;L.isNull;L.isNullOrUndefined;L.isNumber;L.isObject;L.isPrimitive;L.isRegExp;L.isString;L.isSymbol;L.isUndefined;L.log;FA=L.promisify;L.types});var VA,km=it(()=>{C();R();O();Ho();L._extend;L.callbackify;L.debuglog;L.deprecate;L.format;L.inherits;L.inspect;L.isArray;L.isBoolean;L.isBuffer;L.isDate;L.isError;L.isFunction;L.isNull;L.isNullOrUndefined;L.isNumber;L.isObject;L.isPrimitive;L.isRegExp;L.isString;L.isSymbol;L.isUndefined;L.log;VA=L.promisify;L.types;L.TextEncoder=globalThis.TextEncoder;L.TextDecoder=globalThis.TextDecoder});function Ts(t){throw new Error("Node.js process "+t+" is not supported by JSPM core outside of Node.js")}function CP(){!ur||!On||(ur=!1,On.length?Vt=On.concat(Vt):Uo=-1,Vt.length&&Im())}function Im(){if(!ur){var t=setTimeout(CP,0);ur=!0;for(var e=Vt.length;e;){for(On=Vt,Vt=[];++Uo<e;)On&&On[Uo].run();Uo=-1,e=Vt.length}On=null,ur=!1,clearTimeout(t)}}function OP(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Vt.push(new Am(t,e)),Vt.length===1&&!ur&&setTimeout(Im,0)}function Am(t,e){this.fun=t,this.array=e}function st(){}function VP(t){Ts("_linkedBinding")}function QP(t){Ts("dlopen")}function eE(){return[]}function tE(){return[]}function cE(t,e){if(!t)throw new Error(e||"assertion error")}function gE(){return!1}function CE(){return sn.now()/1e3}function vs(t){var e=Math.floor((Date.now()-sn.now())*.001),n=sn.now()*.001,r=Math.floor(n)+e,o=Math.floor(n%1*1e9);return t&&(r=r-t[0],o=o-t[1],o<0&&(r--,o+=hs)),[r,o]}function ln(){return St}function FE(t){return[]}var Vt,ur,On,Uo,RP,MP,DP,NP,HP,UP,jP,$P,ZP,LP,FP,KP,WP,qP,zP,GP,JP,YP,XP,nE,rE,_s,iE,oE,aE,sE,lE,uE,fE,dE,pE,yE,mE,hE,vE,TE,_E,bE,wE,xE,BE,PE,EE,SE,kE,IE,AE,sn,ms,hs,OE,RE,ME,DE,NE,HE,UE,jE,$E,ZE,LE,St,bs=it(()=>{C();R();O();Vt=[],ur=!1,Uo=-1;Am.prototype.run=function(){this.fun.apply(null,this.array)};RP="browser",MP="x64",DP="browser",NP={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},HP=["/usr/bin/node"],UP=[],jP="v16.8.0",$P={},ZP=function(t,e){console.warn((e?e+": ":"")+t)},LP=function(t){Ts("binding")},FP=function(t){return 0},KP=function(){return"/"},WP=function(t){},qP={name:"node",sourceUrl:"",headersUrl:"",libUrl:""};zP=st,GP=[];JP={},YP=!1,XP={};nE=st,rE=st,_s=function(){return{}},iE=_s,oE=_s,aE=st,sE=st,lE=st,uE={};fE={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},dE=st,pE=st;yE=st,mE=st,hE=st,vE=st,TE=st,_E=void 0,bE=void 0,wE=void 0,xE=st,BE=2,PE=1,EE="/bin/usr/node",SE=9229,kE="node",IE=[],AE=st,sn={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0};sn.now===void 0&&(ms=Date.now(),sn.timing&&sn.timing.navigationStart&&(ms=sn.timing.navigationStart),sn.now=()=>Date.now()-ms);hs=1e9;vs.bigint=function(t){var e=vs(t);return typeof BigInt>"u"?e[0]*hs+e[1]:BigInt(e[0]*hs)+BigInt(e[1])};OE=10,RE={},ME=0;DE=ln,NE=ln,HE=ln,UE=ln,jE=ln,$E=st,ZE=ln,LE=ln;St={version:jP,versions:$P,arch:MP,platform:DP,release:qP,_rawDebug:zP,moduleLoadList:GP,binding:LP,_linkedBinding:VP,_events:RE,_eventsCount:ME,_maxListeners:OE,on:ln,addListener:DE,once:NE,off:HE,removeListener:UE,removeAllListeners:jE,emit:$E,prependListener:ZE,prependOnceListener:LE,listeners:FE,domain:JP,_exiting:YP,config:XP,dlopen:QP,uptime:CE,_getActiveRequests:eE,_getActiveHandles:tE,reallyExit:nE,_kill:rE,cpuUsage:_s,resourceUsage:iE,memoryUsage:oE,kill:aE,exit:sE,openStdin:lE,allowedNodeEnvironmentFlags:uE,assert:cE,features:fE,_fatalExceptions:dE,setUncaughtExceptionCaptureCallback:pE,hasUncaughtExceptionCaptureCallback:gE,emitWarning:ZP,nextTick:OP,_tickCallback:yE,_debugProcess:mE,_debugEnd:hE,_startProfilerIdleNotifier:vE,_stopProfilerIdleNotifier:TE,stdout:_E,stdin:wE,stderr:bE,abort:xE,umask:FP,chdir:WP,cwd:KP,env:NP,title:RP,argv:HP,execArgv:UP,pid:BE,ppid:PE,execPath:EE,debugPort:SE,hrtime:vs,argv0:kE,_preload_modules:IE,setSourceMapsEnabled:AE}});function Om(){if(Cm)return ws;Cm=!0,ws=t;function t(n,r){if(e("noDeprecation"))return n;var o=!1;function s(){if(!o){if(e("throwDeprecation"))throw new Error(r);e("traceDeprecation")?console.trace(r):console.warn(r),o=!0}return n.apply(this||xs,arguments)}return s}function e(n){try{if(!xs.localStorage)return!1}catch{return!1}var r=xs.localStorage[n];return r==null?!1:String(r).toLowerCase()==="true"}return ws}var ws,Cm,xs,Rm=it(()=>{C();R();O();ws={},Cm=!1,xs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global});function KE(){if(Mm)return Wr;Mm=!0;var t=At(),e=t.Buffer;function n(o,s){for(var i in o)s[i]=o[i]}e.from&&e.alloc&&e.allocUnsafe&&e.allocUnsafeSlow?Wr=t:(n(t,Wr),Wr.Buffer=r);function r(o,s,i){return e(o,s,i)}return r.prototype=Object.create(e.prototype),n(e,r),r.from=function(o,s,i){if(typeof o=="number")throw new TypeError("Argument must not be a number");return e(o,s,i)},r.alloc=function(o,s,i){if(typeof o!="number")throw new TypeError("Argument must be a number");var a=e(o);return s!==void 0?typeof i=="string"?a.fill(s,i):a.fill(s):a.fill(0),a},r.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return e(o)},r.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(o)},Wr}function WE(){if(Dm)return Bs;Dm=!0;var t=KE().Buffer,e=t.isEncoding||function(T){switch(T=""+T,T&&T.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(T){if(!T)return"utf8";for(var S;;)switch(T){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return T;default:if(S)return;T=(""+T).toLowerCase(),S=!0}}function r(T){var S=n(T);if(typeof S!="string"&&(t.isEncoding===e||!e(T)))throw new Error("Unknown encoding: "+T);return S||T}Bs.StringDecoder=o;function o(T){this.encoding=r(T);var S;switch(this.encoding){case"utf16le":this.text=y,this.end=g,S=4;break;case"utf8":this.fillLast=l,S=4;break;case"base64":this.text=m,this.end=v,S=3;break;default:this.write=B,this.end=P;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(S)}o.prototype.write=function(T){if(T.length===0)return"";var S,E;if(this.lastNeed){if(S=this.fillLast(T),S===void 0)return"";E=this.lastNeed,this.lastNeed=0}else E=0;return E<T.length?S?S+this.text(T,E):this.text(T,E):S||""},o.prototype.end=d,o.prototype.text=f,o.prototype.fillLast=function(T){if(this.lastNeed<=T.length)return T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,T.length),this.lastNeed-=T.length};function s(T){return T<=127?0:T>>5===6?2:T>>4===14?3:T>>3===30?4:T>>6===2?-1:-2}function i(T,S,E){var M=S.length-1;if(M<E)return 0;var $=s(S[M]);return $>=0?($>0&&(T.lastNeed=$-1),$):--M<E||$===-2?0:($=s(S[M]),$>=0?($>0&&(T.lastNeed=$-2),$):--M<E||$===-2?0:($=s(S[M]),$>=0?($>0&&($===2?$=0:T.lastNeed=$-3),$):0))}function a(T,S,E){if((S[0]&192)!==128)return T.lastNeed=0,"\uFFFD";if(T.lastNeed>1&&S.length>1){if((S[1]&192)!==128)return T.lastNeed=1,"\uFFFD";if(T.lastNeed>2&&S.length>2&&(S[2]&192)!==128)return T.lastNeed=2,"\uFFFD"}}function l(T){var S=this.lastTotal-this.lastNeed,E=a(this,T);if(E!==void 0)return E;if(this.lastNeed<=T.length)return T.copy(this.lastChar,S,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);T.copy(this.lastChar,S,0,T.length),this.lastNeed-=T.length}function f(T,S){var E=i(this,T,S);if(!this.lastNeed)return T.toString("utf8",S);this.lastTotal=E;var M=T.length-(E-this.lastNeed);return T.copy(this.lastChar,0,M),T.toString("utf8",S,M)}function d(T){var S=T&&T.length?this.write(T):"";return this.lastNeed?S+"\uFFFD":S}function y(T,S){if((T.length-S)%2===0){var E=T.toString("utf16le",S);if(E){var M=E.charCodeAt(E.length-1);if(M>=55296&&M<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1],E.slice(0,-1)}return E}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=T[T.length-1],T.toString("utf16le",S,T.length-1)}function g(T){var S=T&&T.length?this.write(T):"";if(this.lastNeed){var E=this.lastTotal-this.lastNeed;return S+this.lastChar.toString("utf16le",0,E)}return S}function m(T,S){var E=(T.length-S)%3;return E===0?T.toString("base64",S):(this.lastNeed=3-E,this.lastTotal=3,E===1?this.lastChar[0]=T[T.length-1]:(this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1]),T.toString("base64",S,T.length-E))}function v(T){var S=T&&T.length?this.write(T):"";return this.lastNeed?S+this.lastChar.toString("base64",0,3-this.lastNeed):S}function B(T){return T.toString(this.encoding)}function P(T){return T&&T.length?this.write(T):""}return Bs}var Wr,Mm,Bs,Dm,qr,uC,Nm=it(()=>{C();R();O();oi();Wr={},Mm=!1;Bs={},Dm=!1;qr=WE();qr.StringDecoder;uC=qr.StringDecoder});function qE(){if(Hm)return Ps;Hm=!0;var t=Ps={},e,n;function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=r}catch{e=r}try{typeof clearTimeout=="function"?n=clearTimeout:n=o}catch{n=o}})();function s(B){if(e===setTimeout)return setTimeout(B,0);if((e===r||!e)&&setTimeout)return e=setTimeout,setTimeout(B,0);try{return e(B,0)}catch{try{return e.call(null,B,0)}catch{return e.call(this||cr,B,0)}}}function i(B){if(n===clearTimeout)return clearTimeout(B);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(B);try{return n(B)}catch{try{return n.call(null,B)}catch{return n.call(this||cr,B)}}}var a=[],l=!1,f,d=-1;function y(){!l||!f||(l=!1,f.length?a=f.concat(a):d=-1,a.length&&g())}function g(){if(!l){var B=s(y);l=!0;for(var P=a.length;P;){for(f=a,a=[];++d<P;)f&&f[d].run();d=-1,P=a.length}f=null,l=!1,i(B)}}t.nextTick=function(B){var P=new Array(arguments.length-1);if(arguments.length>1)for(var T=1;T<arguments.length;T++)P[T-1]=arguments[T];a.push(new m(B,P)),a.length===1&&!l&&s(g)};function m(B,P){(this||cr).fun=B,(this||cr).array=P}m.prototype.run=function(){(this||cr).fun.apply(null,(this||cr).array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function v(){}return t.on=v,t.addListener=v,t.once=v,t.off=v,t.removeListener=v,t.removeAllListeners=v,t.emit=v,t.prependListener=v,t.prependOnceListener=v,t.listeners=function(B){return[]},t.binding=function(B){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(B){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},Ps}var Ps,Hm,cr,We,Es=it(()=>{C();R();O();Ps={},Hm=!1,cr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;We=qE();We.platform="browser";We.addListener;We.argv;We.binding;We.browser;We.chdir;We.cwd;We.emit;We.env;We.listeners;We.nextTick;We.off;We.on;We.once;We.prependListener;We.prependOnceListener;We.removeAllListeners;We.removeListener;We.title;We.umask;We.version;We.versions});function zE(){if(Um)return Ss;Um=!0;var t=We;function e(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}function n(s,i){for(var a="",l=0,f=-1,d=0,y,g=0;g<=s.length;++g){if(g<s.length)y=s.charCodeAt(g);else{if(y===47)break;y=47}if(y===47){if(!(f===g-1||d===1))if(f!==g-1&&d===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var m=a.lastIndexOf("/");if(m!==a.length-1){m===-1?(a="",l=0):(a=a.slice(0,m),l=a.length-1-a.lastIndexOf("/")),f=g,d=0;continue}}else if(a.length===2||a.length===1){a="",l=0,f=g,d=0;continue}}i&&(a.length>0?a+="/..":a="..",l=2)}else a.length>0?a+="/"+s.slice(f+1,g):a=s.slice(f+1,g),l=g-f-1;f=g,d=0}else y===46&&d!==-1?++d:d=-1}return a}function r(s,i){var a=i.dir||i.root,l=i.base||(i.name||"")+(i.ext||"");return a?a===i.root?a+l:a+s+l:l}var o={resolve:function(){for(var i="",a=!1,l,f=arguments.length-1;f>=-1&&!a;f--){var d;f>=0?d=arguments[f]:(l===void 0&&(l=t.cwd()),d=l),e(d),d.length!==0&&(i=d+"/"+i,a=d.charCodeAt(0)===47)}return i=n(i,!a),a?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(i){if(e(i),i.length===0)return".";var a=i.charCodeAt(0)===47,l=i.charCodeAt(i.length-1)===47;return i=n(i,!a),i.length===0&&!a&&(i="."),i.length>0&&l&&(i+="/"),a?"/"+i:i},isAbsolute:function(i){return e(i),i.length>0&&i.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var i,a=0;a<arguments.length;++a){var l=arguments[a];e(l),l.length>0&&(i===void 0?i=l:i+="/"+l)}return i===void 0?".":o.normalize(i)},relative:function(i,a){if(e(i),e(a),i===a||(i=o.resolve(i),a=o.resolve(a),i===a))return"";for(var l=1;l<i.length&&i.charCodeAt(l)===47;++l);for(var f=i.length,d=f-l,y=1;y<a.length&&a.charCodeAt(y)===47;++y);for(var g=a.length,m=g-y,v=d<m?d:m,B=-1,P=0;P<=v;++P){if(P===v){if(m>v){if(a.charCodeAt(y+P)===47)return a.slice(y+P+1);if(P===0)return a.slice(y+P)}else d>v&&(i.charCodeAt(l+P)===47?B=P:P===0&&(B=0));break}var T=i.charCodeAt(l+P),S=a.charCodeAt(y+P);if(T!==S)break;T===47&&(B=P)}var E="";for(P=l+B+1;P<=f;++P)(P===f||i.charCodeAt(P)===47)&&(E.length===0?E+="..":E+="/..");return E.length>0?E+a.slice(y+B):(y+=B,a.charCodeAt(y)===47&&++y,a.slice(y))},_makeLong:function(i){return i},dirname:function(i){if(e(i),i.length===0)return".";for(var a=i.charCodeAt(0),l=a===47,f=-1,d=!0,y=i.length-1;y>=1;--y)if(a=i.charCodeAt(y),a===47){if(!d){f=y;break}}else d=!1;return f===-1?l?"/":".":l&&f===1?"//":i.slice(0,f)},basename:function(i,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');e(i);var l=0,f=-1,d=!0,y;if(a!==void 0&&a.length>0&&a.length<=i.length){if(a.length===i.length&&a===i)return"";var g=a.length-1,m=-1;for(y=i.length-1;y>=0;--y){var v=i.charCodeAt(y);if(v===47){if(!d){l=y+1;break}}else m===-1&&(d=!1,m=y+1),g>=0&&(v===a.charCodeAt(g)?--g===-1&&(f=y):(g=-1,f=m))}return l===f?f=m:f===-1&&(f=i.length),i.slice(l,f)}else{for(y=i.length-1;y>=0;--y)if(i.charCodeAt(y)===47){if(!d){l=y+1;break}}else f===-1&&(d=!1,f=y+1);return f===-1?"":i.slice(l,f)}},extname:function(i){e(i);for(var a=-1,l=0,f=-1,d=!0,y=0,g=i.length-1;g>=0;--g){var m=i.charCodeAt(g);if(m===47){if(!d){l=g+1;break}continue}f===-1&&(d=!1,f=g+1),m===46?a===-1?a=g:y!==1&&(y=1):a!==-1&&(y=-1)}return a===-1||f===-1||y===0||y===1&&a===f-1&&a===l+1?"":i.slice(a,f)},format:function(i){if(i===null||typeof i!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof i);return r("/",i)},parse:function(i){e(i);var a={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return a;var l=i.charCodeAt(0),f=l===47,d;f?(a.root="/",d=1):d=0;for(var y=-1,g=0,m=-1,v=!0,B=i.length-1,P=0;B>=d;--B){if(l=i.charCodeAt(B),l===47){if(!v){g=B+1;break}continue}m===-1&&(v=!1,m=B+1),l===46?y===-1?y=B:P!==1&&(P=1):y!==-1&&(P=-1)}return y===-1||m===-1||P===0||P===1&&y===m-1&&y===g+1?m!==-1&&(g===0&&f?a.base=a.name=i.slice(1,m):a.base=a.name=i.slice(g,m)):(g===0&&f?(a.name=i.slice(1,y),a.base=i.slice(1,m)):(a.name=i.slice(g,y),a.base=i.slice(g,m)),a.ext=i.slice(y,m)),g>0?a.dir=i.slice(0,g-1):f&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};return o.posix=o,Ss=o,Ss}function Rn(t){throw new RangeError(YE[t])}function $m(t,e){let n=t.split("@"),r="";n.length>1&&(r=n[0]+"@",t=n[1]);let o=function(s,i){let a=[],l=s.length;for(;l--;)a[l]=i(s[l]);return a}((t=t.replace(JE,".")).split("."),e).join(".");return r+o}function Vm(t){let e=[],n=0,r=t.length;for(;n<r;){let o=t.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){let s=t.charCodeAt(n++);(64512&s)==56320?e.push(((1023&o)<<10)+(1023&s)+65536):(e.push(o),n--)}else e.push(o)}return e}function QE(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Bt(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function Gr(t,e,n){if(t&&Rt.isObject(t)&&t instanceof Bt)return t;var r=new Bt;return r.parse(t,e,n),r}function uS(){if(zm)return Cs;zm=!0;var t=Ke;function e(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}function n(s,i){for(var a="",l=0,f=-1,d=0,y,g=0;g<=s.length;++g){if(g<s.length)y=s.charCodeAt(g);else{if(y===47)break;y=47}if(y===47){if(!(f===g-1||d===1))if(f!==g-1&&d===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var m=a.lastIndexOf("/");if(m!==a.length-1){m===-1?(a="",l=0):(a=a.slice(0,m),l=a.length-1-a.lastIndexOf("/")),f=g,d=0;continue}}else if(a.length===2||a.length===1){a="",l=0,f=g,d=0;continue}}i&&(a.length>0?a+="/..":a="..",l=2)}else a.length>0?a+="/"+s.slice(f+1,g):a=s.slice(f+1,g),l=g-f-1;f=g,d=0}else y===46&&d!==-1?++d:d=-1}return a}function r(s,i){var a=i.dir||i.root,l=i.base||(i.name||"")+(i.ext||"");return a?a===i.root?a+l:a+s+l:l}var o={resolve:function(){for(var i="",a=!1,l,f=arguments.length-1;f>=-1&&!a;f--){var d;f>=0?d=arguments[f]:(l===void 0&&(l=t.cwd()),d=l),e(d),d.length!==0&&(i=d+"/"+i,a=d.charCodeAt(0)===47)}return i=n(i,!a),a?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(i){if(e(i),i.length===0)return".";var a=i.charCodeAt(0)===47,l=i.charCodeAt(i.length-1)===47;return i=n(i,!a),i.length===0&&!a&&(i="."),i.length>0&&l&&(i+="/"),a?"/"+i:i},isAbsolute:function(i){return e(i),i.length>0&&i.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var i,a=0;a<arguments.length;++a){var l=arguments[a];e(l),l.length>0&&(i===void 0?i=l:i+="/"+l)}return i===void 0?".":o.normalize(i)},relative:function(i,a){if(e(i),e(a),i===a||(i=o.resolve(i),a=o.resolve(a),i===a))return"";for(var l=1;l<i.length&&i.charCodeAt(l)===47;++l);for(var f=i.length,d=f-l,y=1;y<a.length&&a.charCodeAt(y)===47;++y);for(var g=a.length,m=g-y,v=d<m?d:m,B=-1,P=0;P<=v;++P){if(P===v){if(m>v){if(a.charCodeAt(y+P)===47)return a.slice(y+P+1);if(P===0)return a.slice(y+P)}else d>v&&(i.charCodeAt(l+P)===47?B=P:P===0&&(B=0));break}var T=i.charCodeAt(l+P),S=a.charCodeAt(y+P);if(T!==S)break;T===47&&(B=P)}var E="";for(P=l+B+1;P<=f;++P)(P===f||i.charCodeAt(P)===47)&&(E.length===0?E+="..":E+="/..");return E.length>0?E+a.slice(y+B):(y+=B,a.charCodeAt(y)===47&&++y,a.slice(y))},_makeLong:function(i){return i},dirname:function(i){if(e(i),i.length===0)return".";for(var a=i.charCodeAt(0),l=a===47,f=-1,d=!0,y=i.length-1;y>=1;--y)if(a=i.charCodeAt(y),a===47){if(!d){f=y;break}}else d=!1;return f===-1?l?"/":".":l&&f===1?"//":i.slice(0,f)},basename:function(i,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');e(i);var l=0,f=-1,d=!0,y;if(a!==void 0&&a.length>0&&a.length<=i.length){if(a.length===i.length&&a===i)return"";var g=a.length-1,m=-1;for(y=i.length-1;y>=0;--y){var v=i.charCodeAt(y);if(v===47){if(!d){l=y+1;break}}else m===-1&&(d=!1,m=y+1),g>=0&&(v===a.charCodeAt(g)?--g===-1&&(f=y):(g=-1,f=m))}return l===f?f=m:f===-1&&(f=i.length),i.slice(l,f)}else{for(y=i.length-1;y>=0;--y)if(i.charCodeAt(y)===47){if(!d){l=y+1;break}}else f===-1&&(d=!1,f=y+1);return f===-1?"":i.slice(l,f)}},extname:function(i){e(i);for(var a=-1,l=0,f=-1,d=!0,y=0,g=i.length-1;g>=0;--g){var m=i.charCodeAt(g);if(m===47){if(!d){l=g+1;break}continue}f===-1&&(d=!1,f=g+1),m===46?a===-1?a=g:y!==1&&(y=1):a!==-1&&(y=-1)}return a===-1||f===-1||y===0||y===1&&a===f-1&&a===l+1?"":i.slice(a,f)},format:function(i){if(i===null||typeof i!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof i);return r("/",i)},parse:function(i){e(i);var a={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return a;var l=i.charCodeAt(0),f=l===47,d;f?(a.root="/",d=1):d=0;for(var y=-1,g=0,m=-1,v=!0,B=i.length-1,P=0;B>=d;--B){if(l=i.charCodeAt(B),l===47){if(!v){g=B+1;break}continue}m===-1&&(v=!1,m=B+1),l===46?y===-1?y=B:P!==1&&(P=1):y!==-1&&(P=-1)}return y===-1||m===-1||P===0||P===1&&y===m-1&&y===g+1?m!==-1&&(g===0&&f?a.base=a.name=i.slice(1,m):a.base=a.name=i.slice(g,m)):(g===0&&f?(a.name=i.slice(1,y),a.base=i.slice(1,m)):(a.name=i.slice(g,y),a.base=i.slice(g,m)),a.ext=i.slice(y,m)),g>0?a.dir=i.slice(0,g-1):f&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};return o.posix=o,Cs=o,Cs}function bS(t){if(typeof t=="string")t=new URL(t);else if(!(t instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(t.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Rs?wS(t):xS(t)}function wS(t){let e=t.hostname,n=t.pathname;for(let r=0;r<n.length;r++)if(n[r]==="%"){let o=n.codePointAt(r+2)||32;if(n[r+1]==="2"&&o===102||n[r+1]==="5"&&o===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(n=n.replace(yS,"\\"),n=decodeURIComponent(n),e!=="")return`\\\\${e}${n}`;{let r=n.codePointAt(1)|32,o=n[2];if(r<pS||r>gS||o!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return n.slice(1)}}function xS(t){if(t.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let e=t.pathname;for(let n=0;n<e.length;n++)if(e[n]==="%"){let r=e.codePointAt(n+2)||32;if(e[n+1]==="2"&&r===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(e)}function BS(t){let e=Gm.resolve(t),n=t.charCodeAt(t.length-1);(n===dS||Rs&&n===fS)&&e[e.length-1]!==Gm.sep&&(e+="/");let r=new URL("file://");return e.includes("%")&&(e=e.replace(mS,"%25")),!Rs&&e.includes("\\")&&(e=e.replace(hS,"%5C")),e.includes(`
`)&&(e=e.replace(vS,"%0A")),e.includes("\r")&&(e=e.replace(TS,"%0D")),e.includes("	")&&(e=e.replace(_S,"%09")),r.pathname=e,r}function NS(t){if(typeof t=="string")t=new URL(t);else if(!(t instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(t.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Ms?HS(t):US(t)}function HS(t){let e=t.hostname,n=t.pathname;for(let r=0;r<n.length;r++)if(n[r]==="%"){let o=n.codePointAt(r+2)||32;if(n[r+1]==="2"&&o===102||n[r+1]==="5"&&o===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(n=n.replace(AS,"\\"),n=decodeURIComponent(n),e!=="")return`\\\\${e}${n}`;{let r=n.codePointAt(1)|32,o=n[2];if(r<kS||r>IS||o!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return n.slice(1)}}function US(t){if(t.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let e=t.pathname;for(let n=0;n<e.length;n++)if(e[n]==="%"){let r=e.codePointAt(n+2)||32;if(e[n+1]==="2"&&r===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(e)}function jS(t){let e=jm.resolve(t),n=t.charCodeAt(t.length-1);(n===SS||Ms&&n===ES)&&e[e.length-1]!==jm.sep&&(e+="/");let r=new URL("file://");return e.includes("%")&&(e=e.replace(CS,"%25")),!Ms&&e.includes("\\")&&(e=e.replace(OS,"%5C")),e.includes(`
`)&&(e=e.replace(RS,"%0A")),e.includes("\r")&&(e=e.replace(MS,"%0D")),e.includes("	")&&(e=e.replace(DS,"%09")),r.pathname=e,r}var Ss,Um,jm,dr,GE,VE,JE,YE,Mt,ks,Zm,Jm,Lm,Fm,XE,eS,zr,tS,Jt,je,nS,Rt,rS,iS,oS,aS,Os,Km,Wm,qm,sS,lS,Is,fr,As,Cs,zm,Gm,cS,fS,dS,pS,gS,Rs,yS,mS,hS,vS,TS,_S,PS,ES,SS,kS,IS,Ms,AS,CS,OS,RS,MS,DS,Ym=it(()=>{C();R();O();Ho();Es();Ss={},Um=!1;jm=zE(),dr=2147483647,GE=/^xn--/,VE=/[^\0-\x7E]/,JE=/[\x2E\u3002\uFF0E\uFF61]/g,YE={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Mt=Math.floor,ks=String.fromCharCode;Zm=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},Jm=function(t,e,n){let r=0;for(t=n?Mt(t/700):t>>1,t+=Mt(t/e);t>455;r+=36)t=Mt(t/35);return Mt(r+36*t/(t+38))},Lm=function(t){let e=[],n=t.length,r=0,o=128,s=72,i=t.lastIndexOf("-");i<0&&(i=0);for(let l=0;l<i;++l)t.charCodeAt(l)>=128&&Rn("not-basic"),e.push(t.charCodeAt(l));for(let l=i>0?i+1:0;l<n;){let f=r;for(let y=1,g=36;;g+=36){l>=n&&Rn("invalid-input");let m=(a=t.charCodeAt(l++))-48<10?a-22:a-65<26?a-65:a-97<26?a-97:36;(m>=36||m>Mt((dr-r)/y))&&Rn("overflow"),r+=m*y;let v=g<=s?1:g>=s+26?26:g-s;if(m<v)break;let B=36-v;y>Mt(dr/B)&&Rn("overflow"),y*=B}let d=e.length+1;s=Jm(r-f,d,f==0),Mt(r/d)>dr-o&&Rn("overflow"),o+=Mt(r/d),r%=d,e.splice(r++,0,o)}var a;return String.fromCodePoint(...e)},Fm=function(t){let e=[],n=(t=Vm(t)).length,r=128,o=0,s=72;for(let l of t)l<128&&e.push(ks(l));let i=e.length,a=i;for(i&&e.push("-");a<n;){let l=dr;for(let d of t)d>=r&&d<l&&(l=d);let f=a+1;l-r>Mt((dr-o)/f)&&Rn("overflow"),o+=(l-r)*f,r=l;for(let d of t)if(d<r&&++o>dr&&Rn("overflow"),d==r){let y=o;for(let g=36;;g+=36){let m=g<=s?1:g>=s+26?26:g-s;if(y<m)break;let v=y-m,B=36-m;e.push(ks(Zm(m+v%B,0))),y=Mt(v/B)}e.push(ks(Zm(y,0))),s=Jm(o,f,a==i),o=0,++a}++o,++r}return e.join("")},XE={version:"2.1.0",ucs2:{decode:Vm,encode:t=>String.fromCodePoint(...t)},decode:Lm,encode:Fm,toASCII:function(t){return $m(t,function(e){return VE.test(e)?"xn--"+Fm(e):e})},toUnicode:function(t){return $m(t,function(e){return GE.test(e)?Lm(e.slice(4).toLowerCase()):e})}};eS=function(t,e,n,r){e=e||"&",n=n||"=";var o={};if(typeof t!="string"||t.length===0)return o;var s=/\+/g;t=t.split(e);var i=1e3;r&&typeof r.maxKeys=="number"&&(i=r.maxKeys);var a=t.length;i>0&&a>i&&(a=i);for(var l=0;l<a;++l){var f,d,y,g,m=t[l].replace(s,"%20"),v=m.indexOf(n);v>=0?(f=m.substr(0,v),d=m.substr(v+1)):(f=m,d=""),y=decodeURIComponent(f),g=decodeURIComponent(d),QE(o,y)?Array.isArray(o[y])?o[y].push(g):o[y]=[o[y],g]:o[y]=g}return o},zr=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},tS=function(t,e,n,r){return e=e||"&",n=n||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(o){var s=encodeURIComponent(zr(o))+n;return Array.isArray(t[o])?t[o].map(function(i){return s+encodeURIComponent(zr(i))}).join(e):s+encodeURIComponent(zr(t[o]))}).join(e):r?encodeURIComponent(zr(r))+n+encodeURIComponent(zr(t)):""},Jt={};Jt.decode=Jt.parse=eS,Jt.encode=Jt.stringify=tS;Jt.decode;Jt.encode;Jt.parse;Jt.stringify;je={},nS=XE,Rt={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}};je.parse=Gr,je.resolve=function(t,e){return Gr(t,!1,!0).resolve(e)},je.resolveObject=function(t,e){return t?Gr(t,!1,!0).resolveObject(e):e},je.format=function(t){return Rt.isString(t)&&(t=Gr(t)),t instanceof Bt?t.format():Bt.prototype.format.call(t)},je.Url=Bt;rS=/^([a-z0-9.+-]+:)/i,iS=/:[0-9]*$/,oS=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,aS=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),Os=["'"].concat(aS),Km=["%","/","?",";","#"].concat(Os),Wm=["/","?","#"],qm=/^[+a-z0-9A-Z_-]{0,63}$/,sS=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,lS={javascript:!0,"javascript:":!0},Is={javascript:!0,"javascript:":!0},fr={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},As=Jt;Bt.prototype.parse=function(t,e,n){if(!Rt.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),o=r!==-1&&r<t.indexOf("#")?"?":"#",s=t.split(o);s[0]=s[0].replace(/\\/g,"/");var i=t=s.join(o);if(i=i.trim(),!n&&t.split("#").length===1){var a=oS.exec(i);if(a)return this.path=i,this.href=i,this.pathname=a[1],a[2]?(this.search=a[2],this.query=e?As.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=rS.exec(i);if(l){var f=(l=l[0]).toLowerCase();this.protocol=f,i=i.substr(l.length)}if(n||l||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var d=i.substr(0,2)==="//";!d||l&&Is[l]||(i=i.substr(2),this.slashes=!0)}if(!Is[l]&&(d||l&&!fr[l])){for(var y,g,m=-1,v=0;v<Wm.length;v++)(B=i.indexOf(Wm[v]))!==-1&&(m===-1||B<m)&&(m=B);for((g=m===-1?i.lastIndexOf("@"):i.lastIndexOf("@",m))!==-1&&(y=i.slice(0,g),i=i.slice(g+1),this.auth=decodeURIComponent(y)),m=-1,v=0;v<Km.length;v++){var B;(B=i.indexOf(Km[v]))!==-1&&(m===-1||B<m)&&(m=B)}m===-1&&(m=i.length),this.host=i.slice(0,m),i=i.slice(m),this.parseHost(),this.hostname=this.hostname||"";var P=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!P)for(var T=this.hostname.split(/\./),S=(v=0,T.length);v<S;v++){var E=T[v];if(E&&!E.match(qm)){for(var M="",$=0,oe=E.length;$<oe;$++)E.charCodeAt($)>127?M+="x":M+=E[$];if(!M.match(qm)){var X=T.slice(0,v),ue=T.slice(v+1),ee=E.match(sS);ee&&(X.push(ee[1]),ue.unshift(ee[2])),ue.length&&(i="/"+ue.join(".")+i),this.hostname=X.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=nS.toASCII(this.hostname));var ie=this.port?":"+this.port:"",Re=this.hostname||"";this.host=Re+ie,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),i[0]!=="/"&&(i="/"+i))}if(!lS[f])for(v=0,S=Os.length;v<S;v++){var Ie=Os[v];if(i.indexOf(Ie)!==-1){var $e=encodeURIComponent(Ie);$e===Ie&&($e=escape(Ie)),i=i.split(Ie).join($e)}}var Ne=i.indexOf("#");Ne!==-1&&(this.hash=i.substr(Ne),i=i.slice(0,Ne));var Me=i.indexOf("?");if(Me!==-1?(this.search=i.substr(Me),this.query=i.substr(Me+1),e&&(this.query=As.parse(this.query)),i=i.slice(0,Me)):e&&(this.search="",this.query={}),i&&(this.pathname=i),fr[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){ie=this.pathname||"";var Ve=this.search||"";this.path=ie+Ve}return this.href=this.format(),this},Bt.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&Rt.isObject(this.query)&&Object.keys(this.query).length&&(s=As.stringify(this.query));var i=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||fr[e])&&o!==!1?(o="//"+(o||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):o||(o=""),r&&r.charAt(0)!=="#"&&(r="#"+r),i&&i.charAt(0)!=="?"&&(i="?"+i),e+o+(n=n.replace(/[?#]/g,function(a){return encodeURIComponent(a)}))+(i=i.replace("#","%23"))+r},Bt.prototype.resolve=function(t){return this.resolveObject(Gr(t,!1,!0)).format()},Bt.prototype.resolveObject=function(t){if(Rt.isString(t)){var e=new Bt;e.parse(t,!1,!0),t=e}for(var n=new Bt,r=Object.keys(this),o=0;o<r.length;o++){var s=r[o];n[s]=this[s]}if(n.hash=t.hash,t.href==="")return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var i=Object.keys(t),a=0;a<i.length;a++){var l=i[a];l!=="protocol"&&(n[l]=t[l])}return fr[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!fr[t.protocol]){for(var f=Object.keys(t),d=0;d<f.length;d++){var y=f[d];n[y]=t[y]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||Is[t.protocol])n.pathname=t.pathname;else{for(var g=(t.pathname||"").split("/");g.length&&!(t.host=g.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),g[0]!==""&&g.unshift(""),g.length<2&&g.unshift(""),n.pathname=g.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var m=n.pathname||"",v=n.search||"";n.path=m+v}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var B=n.pathname&&n.pathname.charAt(0)==="/",P=t.host||t.pathname&&t.pathname.charAt(0)==="/",T=P||B||n.host&&t.pathname,S=T,E=n.pathname&&n.pathname.split("/")||[],M=(g=t.pathname&&t.pathname.split("/")||[],n.protocol&&!fr[n.protocol]);if(M&&(n.hostname="",n.port=null,n.host&&(E[0]===""?E[0]=n.host:E.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(g[0]===""?g[0]=t.host:g.unshift(t.host)),t.host=null),T=T&&(g[0]===""||E[0]==="")),P)n.host=t.host||t.host===""?t.host:n.host,n.hostname=t.hostname||t.hostname===""?t.hostname:n.hostname,n.search=t.search,n.query=t.query,E=g;else if(g.length)E||(E=[]),E.pop(),E=E.concat(g),n.search=t.search,n.query=t.query;else if(!Rt.isNullOrUndefined(t.search))return M&&(n.hostname=n.host=E.shift(),(ee=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=ee.shift(),n.host=n.hostname=ee.shift())),n.search=t.search,n.query=t.query,Rt.isNull(n.pathname)&&Rt.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!E.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var $=E.slice(-1)[0],oe=(n.host||t.host||E.length>1)&&($==="."||$==="..")||$==="",X=0,ue=E.length;ue>=0;ue--)($=E[ue])==="."?E.splice(ue,1):$===".."?(E.splice(ue,1),X++):X&&(E.splice(ue,1),X--);if(!T&&!S)for(;X--;X)E.unshift("..");!T||E[0]===""||E[0]&&E[0].charAt(0)==="/"||E.unshift(""),oe&&E.join("/").substr(-1)!=="/"&&E.push("");var ee,ie=E[0]===""||E[0]&&E[0].charAt(0)==="/";return M&&(n.hostname=n.host=ie?"":E.length?E.shift():"",(ee=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=ee.shift(),n.host=n.hostname=ee.shift())),(T=T||n.host&&E.length)&&!ie&&E.unshift(""),E.length?n.pathname=E.join("/"):(n.pathname=null,n.path=null),Rt.isNull(n.pathname)&&Rt.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},Bt.prototype.parseHost=function(){var t=this.host,e=iS.exec(t);e&&((e=e[0])!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};je.Url;je.format;je.resolve;je.resolveObject;Cs={},zm=!1;Gm=uS(),cS=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0;je.URL=typeof URL<"u"?URL:null;je.pathToFileURL=BS;je.fileURLToPath=bS;je.Url;je.format;je.resolve;je.resolveObject;je.URL;fS=92,dS=47,pS=97,gS=122,Rs=cS==="win32",yS=/\//g,mS=/%/g,hS=/\\/g,vS=/\n/g,TS=/\r/g,_S=/\t/g;PS=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0;je.URL=typeof URL<"u"?URL:null;je.pathToFileURL=jS;je.fileURLToPath=NS;je.Url;je.format;je.resolve;je.resolveObject;je.parse;je.URL;ES=92,SS=47,kS=97,IS=122,Ms=PS==="win32",AS=/\//g,CS=/%/g,OS=/\\/g,RS=/\n/g,MS=/\r/g,DS=/\t/g});var Ah={};Un(Ah,{Agent:()=>JS,ClientRequest:()=>YS,IncomingMessage:()=>XS,METHODS:()=>QS,STATUS_CODES:()=>ek,default:()=>Yt,get:()=>tk,globalAgent:()=>nk,request:()=>rk});function bh(){if(Xm)return bt;Xm=!0,bt.fetch=r(Mn.fetch)&&r(Mn.ReadableStream),bt.writableStream=r(Mn.WritableStream),bt.abortController=r(Mn.AbortController);var t;function e(){if(t!==void 0)return t;if(Mn.XMLHttpRequest){t=new Mn.XMLHttpRequest;try{t.open("GET",Mn.XDomainRequest?"/":"https://example.com")}catch{t=null}}else t=null;return t}function n(o){var s=e();if(!s)return!1;try{return s.responseType=o,s.responseType===o}catch{}return!1}bt.arraybuffer=bt.fetch||n("arraybuffer"),bt.msstream=!bt.fetch&&n("ms-stream"),bt.mozchunkedarraybuffer=!bt.fetch&&n("moz-chunked-arraybuffer"),bt.overrideMimeType=bt.fetch||(e()?r(e().overrideMimeType):!1);function r(o){return typeof o=="function"}return t=null,bt}function wh(){return Qm||(Qm=!0,Ds=yt.EventEmitter),Ds}function $S(){if(eh)return Ns;eh=!0;function t(v,B){var P=Object.keys(v);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(v);B&&(T=T.filter(function(S){return Object.getOwnPropertyDescriptor(v,S).enumerable})),P.push.apply(P,T)}return P}function e(v){for(var B=1;B<arguments.length;B++){var P=arguments[B]!=null?arguments[B]:{};B%2?t(Object(P),!0).forEach(function(T){n(v,T,P[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(P)):t(Object(P)).forEach(function(T){Object.defineProperty(v,T,Object.getOwnPropertyDescriptor(P,T))})}return v}function n(v,B,P){return B=i(B),B in v?Object.defineProperty(v,B,{value:P,enumerable:!0,configurable:!0,writable:!0}):v[B]=P,v}function r(v,B){if(!(v instanceof B))throw new TypeError("Cannot call a class as a function")}function o(v,B){for(var P=0;P<B.length;P++){var T=B[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,i(T.key),T)}}function s(v,B,P){return B&&o(v.prototype,B),Object.defineProperty(v,"prototype",{writable:!1}),v}function i(v){var B=a(v,"string");return typeof B=="symbol"?B:String(B)}function a(v,B){if(typeof v!="object"||v===null)return v;var P=v[Symbol.toPrimitive];if(P!==void 0){var T=P.call(v,B||"default");if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(B==="string"?String:Number)(v)}var l=At(),f=l.Buffer,d=L,y=d.inspect,g=y&&y.custom||"inspect";function m(v,B,P){f.prototype.copy.call(v,B,P)}return Ns=function(){function v(){r(this,v),this.head=null,this.tail=null,this.length=0}return s(v,[{key:"push",value:function(P){var T={data:P,next:null};this.length>0?this.tail.next=T:this.head=T,this.tail=T,++this.length}},{key:"unshift",value:function(P){var T={data:P,next:this.head};this.length===0&&(this.tail=T),this.head=T,++this.length}},{key:"shift",value:function(){if(this.length!==0){var P=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,P}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(P){if(this.length===0)return"";for(var T=this.head,S=""+T.data;T=T.next;)S+=P+T.data;return S}},{key:"concat",value:function(P){if(this.length===0)return f.alloc(0);for(var T=f.allocUnsafe(P>>>0),S=this.head,E=0;S;)m(S.data,T,E),E+=S.data.length,S=S.next;return T}},{key:"consume",value:function(P,T){var S;return P<this.head.data.length?(S=this.head.data.slice(0,P),this.head.data=this.head.data.slice(P)):P===this.head.data.length?S=this.shift():S=T?this._getString(P):this._getBuffer(P),S}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(P){var T=this.head,S=1,E=T.data;for(P-=E.length;T=T.next;){var M=T.data,$=P>M.length?M.length:P;if($===M.length?E+=M:E+=M.slice(0,P),P-=$,P===0){$===M.length?(++S,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=M.slice($));break}++S}return this.length-=S,E}},{key:"_getBuffer",value:function(P){var T=f.allocUnsafe(P),S=this.head,E=1;for(S.data.copy(T),P-=S.data.length;S=S.next;){var M=S.data,$=P>M.length?M.length:P;if(M.copy(T,T.length-P,0,$),P-=$,P===0){$===M.length?(++E,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=M.slice($));break}++E}return this.length-=E,T}},{key:g,value:function(P,T){return y(this,e(e({},T),{},{depth:0,customInspect:!1}))}}]),v}(),Ns}function xh(){if(th)return Hs;th=!0;var t=St;function e(a,l){var f=this,d=this._readableState&&this._readableState.destroyed,y=this._writableState&&this._writableState.destroyed;return d||y?(l?l(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(s,this,a)):t.nextTick(s,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(g){!l&&g?f._writableState?f._writableState.errorEmitted?t.nextTick(r,f):(f._writableState.errorEmitted=!0,t.nextTick(n,f,g)):t.nextTick(n,f,g):l?(t.nextTick(r,f),l(g)):t.nextTick(r,f)}),this)}function n(a,l){s(a,l),r(a)}function r(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(a,l){a.emit("error",l)}function i(a,l){var f=a._readableState,d=a._writableState;f&&f.autoDestroy||d&&d.autoDestroy?a.destroy(l):a.emit("error",l)}return Hs={destroy:e,undestroy:o,errorOrDestroy:i},Hs}function gr(){if(nh)return Us;nh=!0;let t={};function e(i,a,l){l||(l=Error);function f(y,g,m){return typeof a=="string"?a:a(y,g,m)}class d extends l{constructor(g,m,v){super(f(g,m,v))}}d.prototype.name=l.name,d.prototype.code=i,t[i]=d}function n(i,a){if(Array.isArray(i)){let l=i.length;return i=i.map(f=>String(f)),l>2?`one of ${a} ${i.slice(0,l-1).join(", ")}, or `+i[l-1]:l===2?`one of ${a} ${i[0]} or ${i[1]}`:`of ${a} ${i[0]}`}else return`of ${a} ${String(i)}`}function r(i,a,l){return i.substr(0,a.length)===a}function o(i,a,l){return(l===void 0||l>i.length)&&(l=i.length),i.substring(l-a.length,l)===a}function s(i,a,l){return typeof l!="number"&&(l=0),l+a.length>i.length?!1:i.indexOf(a,l)!==-1}return e("ERR_INVALID_OPT_VALUE",function(i,a){return'The value "'+a+'" is invalid for option "'+i+'"'},TypeError),e("ERR_INVALID_ARG_TYPE",function(i,a,l){let f;typeof a=="string"&&r(a,"not ")?(f="must not be",a=a.replace(/^not /,"")):f="must be";let d;if(o(i," argument"))d=`The ${i} ${f} ${n(a,"type")}`;else{let y=s(i,".")?"property":"argument";d=`The "${i}" ${y} ${f} ${n(a,"type")}`}return d+=`. Received type ${typeof l}`,d},TypeError),e("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),e("ERR_METHOD_NOT_IMPLEMENTED",function(i){return"The "+i+" method is not implemented"}),e("ERR_STREAM_PREMATURE_CLOSE","Premature close"),e("ERR_STREAM_DESTROYED",function(i){return"Cannot call "+i+" after a stream was destroyed"}),e("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),e("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),e("ERR_STREAM_WRITE_AFTER_END","write after end"),e("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),e("ERR_UNKNOWN_ENCODING",function(i){return"Unknown encoding: "+i},TypeError),e("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Us.codes=t,Us}function Bh(){if(rh)return js;rh=!0;var t=gr().codes.ERR_INVALID_OPT_VALUE;function e(r,o,s){return r.highWaterMark!=null?r.highWaterMark:o?r[s]:null}function n(r,o,s,i){var a=e(o,i,s);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var l=i?s:"highWaterMark";throw new t(l,a)}return Math.floor(a)}return r.objectMode?16:16*1024}return js={getHighWaterMark:n},js}function Ph(){if(ih)return $s;ih=!0;var t=St;$s=ee;function e(A){var k=this;this.next=null,this.entry=null,this.finish=function(){ve(k,A)}}var n;ee.WritableState=X;var r={deprecate:Om()},o=wh(),s=At().Buffer,i=(typeof oh<"u"?oh:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(A){return s.from(A)}function l(A){return s.isBuffer(A)||A instanceof i}var f=xh(),d=Bh(),y=d.getHighWaterMark,g=gr().codes,m=g.ERR_INVALID_ARG_TYPE,v=g.ERR_METHOD_NOT_IMPLEMENTED,B=g.ERR_MULTIPLE_CALLBACK,P=g.ERR_STREAM_CANNOT_PIPE,T=g.ERR_STREAM_DESTROYED,S=g.ERR_STREAM_NULL_VALUES,E=g.ERR_STREAM_WRITE_AFTER_END,M=g.ERR_UNKNOWN_ENCODING,$=f.errorOrDestroy;Ct()(ee,o);function oe(){}function X(A,k,j){n=n||pr(),A=A||{},typeof j!="boolean"&&(j=k instanceof n),this.objectMode=!!A.objectMode,j&&(this.objectMode=this.objectMode||!!A.writableObjectMode),this.highWaterMark=y(this,A,"writableHighWaterMark",j),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var V=A.decodeStrings===!1;this.decodeStrings=!V,this.defaultEncoding=A.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ae){Ae(k,ae)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=A.emitClose!==!1,this.autoDestroy=!!A.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}X.prototype.getBuffer=function(){for(var k=this.bufferedRequest,j=[];k;)j.push(k),k=k.next;return j},function(){try{Object.defineProperty(X.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ue;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ue=Function.prototype[Symbol.hasInstance],Object.defineProperty(ee,Symbol.hasInstance,{value:function(k){return ue.call(this,k)?!0:this!==ee?!1:k&&k._writableState instanceof X}})):ue=function(k){return k instanceof this};function ee(A){n=n||pr();var k=this instanceof n;if(!k&&!ue.call(ee,this))return new ee(A);this._writableState=new X(A,this,k),this.writable=!0,A&&(typeof A.write=="function"&&(this._write=A.write),typeof A.writev=="function"&&(this._writev=A.writev),typeof A.destroy=="function"&&(this._destroy=A.destroy),typeof A.final=="function"&&(this._final=A.final)),o.call(this)}ee.prototype.pipe=function(){$(this,new P)};function ie(A,k){var j=new E;$(A,j),t.nextTick(k,j)}function Re(A,k,j,V){var ae;return j===null?ae=new S:typeof j!="string"&&!k.objectMode&&(ae=new m("chunk",["string","Buffer"],j)),ae?($(A,ae),t.nextTick(V,ae),!1):!0}ee.prototype.write=function(A,k,j){var V=this._writableState,ae=!1,b=!V.objectMode&&l(A);return b&&!s.isBuffer(A)&&(A=a(A)),typeof k=="function"&&(j=k,k=null),b?k="buffer":k||(k=V.defaultEncoding),typeof j!="function"&&(j=oe),V.ending?ie(this,j):(b||Re(this,V,A,j))&&(V.pendingcb++,ae=$e(this,V,b,A,k,j)),ae},ee.prototype.cork=function(){this._writableState.corked++},ee.prototype.uncork=function(){var A=this._writableState;A.corked&&(A.corked--,!A.writing&&!A.corked&&!A.bufferProcessing&&A.bufferedRequest&&ce(this,A))},ee.prototype.setDefaultEncoding=function(k){if(typeof k=="string"&&(k=k.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((k+"").toLowerCase())>-1))throw new M(k);return this._writableState.defaultEncoding=k,this},Object.defineProperty(ee.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Ie(A,k,j){return!A.objectMode&&A.decodeStrings!==!1&&typeof k=="string"&&(k=s.from(k,j)),k}Object.defineProperty(ee.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function $e(A,k,j,V,ae,b){if(!j){var w=Ie(k,V,ae);V!==w&&(j=!0,ae="buffer",V=w)}var W=k.objectMode?1:V.length;k.length+=W;var Q=k.length<k.highWaterMark;if(Q||(k.needDrain=!0),k.writing||k.corked){var He=k.lastBufferedRequest;k.lastBufferedRequest={chunk:V,encoding:ae,isBuf:j,callback:b,next:null},He?He.next=k.lastBufferedRequest:k.bufferedRequest=k.lastBufferedRequest,k.bufferedRequestCount+=1}else Ne(A,k,!1,W,V,ae,b);return Q}function Ne(A,k,j,V,ae,b,w){k.writelen=V,k.writecb=w,k.writing=!0,k.sync=!0,k.destroyed?k.onwrite(new T("write")):j?A._writev(ae,k.onwrite):A._write(ae,b,k.onwrite),k.sync=!1}function Me(A,k,j,V,ae){--k.pendingcb,j?(t.nextTick(ae,V),t.nextTick(F,A,k),A._writableState.errorEmitted=!0,$(A,V)):(ae(V),A._writableState.errorEmitted=!0,$(A,V),F(A,k))}function Ve(A){A.writing=!1,A.writecb=null,A.length-=A.writelen,A.writelen=0}function Ae(A,k){var j=A._writableState,V=j.sync,ae=j.writecb;if(typeof ae!="function")throw new B;if(Ve(j),k)Me(A,j,V,k,ae);else{var b=he(j)||A.destroyed;!b&&!j.corked&&!j.bufferProcessing&&j.bufferedRequest&&ce(A,j),V?t.nextTick(me,A,j,b,ae):me(A,j,b,ae)}}function me(A,k,j,V){j||Se(A,k),k.pendingcb--,V(),F(A,k)}function Se(A,k){k.length===0&&k.needDrain&&(k.needDrain=!1,A.emit("drain"))}function ce(A,k){k.bufferProcessing=!0;var j=k.bufferedRequest;if(A._writev&&j&&j.next){var V=k.bufferedRequestCount,ae=new Array(V),b=k.corkedRequestsFree;b.entry=j;for(var w=0,W=!0;j;)ae[w]=j,j.isBuf||(W=!1),j=j.next,w+=1;ae.allBuffers=W,Ne(A,k,!0,k.length,ae,"",b.finish),k.pendingcb++,k.lastBufferedRequest=null,b.next?(k.corkedRequestsFree=b.next,b.next=null):k.corkedRequestsFree=new e(k),k.bufferedRequestCount=0}else{for(;j;){var Q=j.chunk,He=j.encoding,_e=j.callback,U=k.objectMode?1:Q.length;if(Ne(A,k,!1,U,Q,He,_e),j=j.next,k.bufferedRequestCount--,k.writing)break}j===null&&(k.lastBufferedRequest=null)}k.bufferedRequest=j,k.bufferProcessing=!1}ee.prototype._write=function(A,k,j){j(new v("_write()"))},ee.prototype._writev=null,ee.prototype.end=function(A,k,j){var V=this._writableState;return typeof A=="function"?(j=A,A=null,k=null):typeof k=="function"&&(j=k,k=null),A!=null&&this.write(A,k),V.corked&&(V.corked=1,this.uncork()),V.ending||fe(this,V,j),this},Object.defineProperty(ee.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function he(A){return A.ending&&A.length===0&&A.bufferedRequest===null&&!A.finished&&!A.writing}function D(A,k){A._final(function(j){k.pendingcb--,j&&$(A,j),k.prefinished=!0,A.emit("prefinish"),F(A,k)})}function Z(A,k){!k.prefinished&&!k.finalCalled&&(typeof A._final=="function"&&!k.destroyed?(k.pendingcb++,k.finalCalled=!0,t.nextTick(D,A,k)):(k.prefinished=!0,A.emit("prefinish")))}function F(A,k){var j=he(k);if(j&&(Z(A,k),k.pendingcb===0&&(k.finished=!0,A.emit("finish"),k.autoDestroy))){var V=A._readableState;(!V||V.autoDestroy&&V.endEmitted)&&A.destroy()}return j}function fe(A,k,j){k.ending=!0,F(A,k),j&&(k.finished?t.nextTick(j):A.once("finish",j)),k.ended=!0,A.writable=!1}function ve(A,k,j){var V=A.entry;for(A.entry=null;V;){var ae=V.callback;k.pendingcb--,ae(j),V=V.next}k.corkedRequestsFree.next=A}return Object.defineProperty(ee.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(k){this._writableState&&(this._writableState.destroyed=k)}}),ee.prototype.destroy=f.destroy,ee.prototype._undestroy=f.undestroy,ee.prototype._destroy=function(A,k){k(A)},$s}function pr(){if(ah)return Zs;ah=!0;var t=St,e=Object.keys||function(d){var y=[];for(var g in d)y.push(g);return y};Zs=a;var n=Eh(),r=Ph();Ct()(a,n);for(var o=e(r.prototype),s=0;s<o.length;s++){var i=o[s];a.prototype[i]||(a.prototype[i]=r.prototype[i])}function a(d){if(!(this instanceof a))return new a(d);n.call(this,d),r.call(this,d),this.allowHalfOpen=!0,d&&(d.readable===!1&&(this.readable=!1),d.writable===!1&&(this.writable=!1),d.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||t.nextTick(f,this)}function f(d){d.end()}return Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=y,this._writableState.destroyed=y)}}),Zs}function Qs(){if(sh)return Ls;sh=!0;var t=gr().codes.ERR_STREAM_PREMATURE_CLOSE;function e(s){var i=!1;return function(){if(!i){i=!0;for(var a=arguments.length,l=new Array(a),f=0;f<a;f++)l[f]=arguments[f];s.apply(this,l)}}}function n(){}function r(s){return s.setHeader&&typeof s.abort=="function"}function o(s,i,a){if(typeof i=="function")return o(s,null,i);i||(i={}),a=e(a||n);var l=i.readable||i.readable!==!1&&s.readable,f=i.writable||i.writable!==!1&&s.writable,d=function(){s.writable||g()},y=s._writableState&&s._writableState.finished,g=function(){f=!1,y=!0,l||a.call(s)},m=s._readableState&&s._readableState.endEmitted,v=function(){l=!1,m=!0,f||a.call(s)},B=function(E){a.call(s,E)},P=function(){var E;if(l&&!m)return(!s._readableState||!s._readableState.ended)&&(E=new t),a.call(s,E);if(f&&!y)return(!s._writableState||!s._writableState.ended)&&(E=new t),a.call(s,E)},T=function(){s.req.on("finish",g)};return r(s)?(s.on("complete",g),s.on("abort",P),s.req?T():s.on("request",T)):f&&!s._writableState&&(s.on("end",d),s.on("close",d)),s.on("end",v),s.on("finish",g),i.error!==!1&&s.on("error",B),s.on("close",P),function(){s.removeListener("complete",g),s.removeListener("abort",P),s.removeListener("request",T),s.req&&s.req.removeListener("finish",g),s.removeListener("end",d),s.removeListener("close",d),s.removeListener("finish",g),s.removeListener("end",v),s.removeListener("error",B),s.removeListener("close",P)}}return Ls=o,Ls}function ZS(){if(lh)return Fs;lh=!0;var t=St,e;function n(M,$,oe){return $=r($),$ in M?Object.defineProperty(M,$,{value:oe,enumerable:!0,configurable:!0,writable:!0}):M[$]=oe,M}function r(M){var $=o(M,"string");return typeof $=="symbol"?$:String($)}function o(M,$){if(typeof M!="object"||M===null)return M;var oe=M[Symbol.toPrimitive];if(oe!==void 0){var X=oe.call(M,$||"default");if(typeof X!="object")return X;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(M)}var s=Qs(),i=Symbol("lastResolve"),a=Symbol("lastReject"),l=Symbol("error"),f=Symbol("ended"),d=Symbol("lastPromise"),y=Symbol("handlePromise"),g=Symbol("stream");function m(M,$){return{value:M,done:$}}function v(M){var $=M[i];if($!==null){var oe=M[g].read();oe!==null&&(M[d]=null,M[i]=null,M[a]=null,$(m(oe,!1)))}}function B(M){t.nextTick(v,M)}function P(M,$){return function(oe,X){M.then(function(){if($[f]){oe(m(void 0,!0));return}$[y](oe,X)},X)}}var T=Object.getPrototypeOf(function(){}),S=Object.setPrototypeOf((e={get stream(){return this[g]},next:function(){var $=this,oe=this[l];if(oe!==null)return Promise.reject(oe);if(this[f])return Promise.resolve(m(void 0,!0));if(this[g].destroyed)return new Promise(function(ie,Re){t.nextTick(function(){$[l]?Re($[l]):ie(m(void 0,!0))})});var X=this[d],ue;if(X)ue=new Promise(P(X,this));else{var ee=this[g].read();if(ee!==null)return Promise.resolve(m(ee,!1));ue=new Promise(this[y])}return this[d]=ue,ue}},n(e,Symbol.asyncIterator,function(){return this}),n(e,"return",function(){var $=this;return new Promise(function(oe,X){$[g].destroy(null,function(ue){if(ue){X(ue);return}oe(m(void 0,!0))})})}),e),T),E=function($){var oe,X=Object.create(S,(oe={},n(oe,g,{value:$,writable:!0}),n(oe,i,{value:null,writable:!0}),n(oe,a,{value:null,writable:!0}),n(oe,l,{value:null,writable:!0}),n(oe,f,{value:$._readableState.endEmitted,writable:!0}),n(oe,y,{value:function(ee,ie){var Re=X[g].read();Re?(X[d]=null,X[i]=null,X[a]=null,ee(m(Re,!1))):(X[i]=ee,X[a]=ie)},writable:!0}),oe));return X[d]=null,s($,function(ue){if(ue&&ue.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ee=X[a];ee!==null&&(X[d]=null,X[i]=null,X[a]=null,ee(ue)),X[l]=ue;return}var ie=X[i];ie!==null&&(X[d]=null,X[i]=null,X[a]=null,ie(m(void 0,!0))),X[f]=!0}),$.on("readable",B.bind(null,X)),X};return Fs=E,Fs}function LS(){return uh||(uh=!0,Ks=function(){throw new Error("Readable.from is not available in the browser")}),Ks}function Eh(){if(ch)return Ws;ch=!0;var t=St;Ws=ie;var e;ie.ReadableState=ee,yt.EventEmitter;var n=function(w,W){return w.listeners(W).length},r=wh(),o=At().Buffer,s=(typeof fh<"u"?fh:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function i(b){return o.from(b)}function a(b){return o.isBuffer(b)||b instanceof s}var l=L,f;l&&l.debuglog?f=l.debuglog("stream"):f=function(){};var d=$S(),y=xh(),g=Bh(),m=g.getHighWaterMark,v=gr().codes,B=v.ERR_INVALID_ARG_TYPE,P=v.ERR_STREAM_PUSH_AFTER_EOF,T=v.ERR_METHOD_NOT_IMPLEMENTED,S=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,E,M,$;Ct()(ie,r);var oe=y.errorOrDestroy,X=["error","close","destroy","pause","resume"];function ue(b,w,W){if(typeof b.prependListener=="function")return b.prependListener(w,W);!b._events||!b._events[w]?b.on(w,W):Array.isArray(b._events[w])?b._events[w].unshift(W):b._events[w]=[W,b._events[w]]}function ee(b,w,W){e=e||pr(),b=b||{},typeof W!="boolean"&&(W=w instanceof e),this.objectMode=!!b.objectMode,W&&(this.objectMode=this.objectMode||!!b.readableObjectMode),this.highWaterMark=m(this,b,"readableHighWaterMark",W),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=b.emitClose!==!1,this.autoDestroy=!!b.autoDestroy,this.destroyed=!1,this.defaultEncoding=b.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,b.encoding&&(E||(E=qr.StringDecoder),this.decoder=new E(b.encoding),this.encoding=b.encoding)}function ie(b){if(e=e||pr(),!(this instanceof ie))return new ie(b);var w=this instanceof e;this._readableState=new ee(b,this,w),this.readable=!0,b&&(typeof b.read=="function"&&(this._read=b.read),typeof b.destroy=="function"&&(this._destroy=b.destroy)),r.call(this)}Object.defineProperty(ie.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(w){this._readableState&&(this._readableState.destroyed=w)}}),ie.prototype.destroy=y.destroy,ie.prototype._undestroy=y.undestroy,ie.prototype._destroy=function(b,w){w(b)},ie.prototype.push=function(b,w){var W=this._readableState,Q;return W.objectMode?Q=!0:typeof b=="string"&&(w=w||W.defaultEncoding,w!==W.encoding&&(b=o.from(b,w),w=""),Q=!0),Re(this,b,w,!1,Q)},ie.prototype.unshift=function(b){return Re(this,b,null,!0,!1)};function Re(b,w,W,Q,He){f("readableAddChunk",w);var _e=b._readableState;if(w===null)_e.reading=!1,Ae(b,_e);else{var U;if(He||(U=$e(_e,w)),U)oe(b,U);else if(_e.objectMode||w&&w.length>0)if(typeof w!="string"&&!_e.objectMode&&Object.getPrototypeOf(w)!==o.prototype&&(w=i(w)),Q)_e.endEmitted?oe(b,new S):Ie(b,_e,w,!0);else if(_e.ended)oe(b,new P);else{if(_e.destroyed)return!1;_e.reading=!1,_e.decoder&&!W?(w=_e.decoder.write(w),_e.objectMode||w.length!==0?Ie(b,_e,w,!1):ce(b,_e)):Ie(b,_e,w,!1)}else Q||(_e.reading=!1,ce(b,_e))}return!_e.ended&&(_e.length<_e.highWaterMark||_e.length===0)}function Ie(b,w,W,Q){w.flowing&&w.length===0&&!w.sync?(w.awaitDrain=0,b.emit("data",W)):(w.length+=w.objectMode?1:W.length,Q?w.buffer.unshift(W):w.buffer.push(W),w.needReadable&&me(b)),ce(b,w)}function $e(b,w){var W;return!a(w)&&typeof w!="string"&&w!==void 0&&!b.objectMode&&(W=new B("chunk",["string","Buffer","Uint8Array"],w)),W}ie.prototype.isPaused=function(){return this._readableState.flowing===!1},ie.prototype.setEncoding=function(b){E||(E=qr.StringDecoder);var w=new E(b);this._readableState.decoder=w,this._readableState.encoding=this._readableState.decoder.encoding;for(var W=this._readableState.buffer.head,Q="";W!==null;)Q+=w.write(W.data),W=W.next;return this._readableState.buffer.clear(),Q!==""&&this._readableState.buffer.push(Q),this._readableState.length=Q.length,this};var Ne=1073741824;function Me(b){return b>=Ne?b=Ne:(b--,b|=b>>>1,b|=b>>>2,b|=b>>>4,b|=b>>>8,b|=b>>>16,b++),b}function Ve(b,w){return b<=0||w.length===0&&w.ended?0:w.objectMode?1:b!==b?w.flowing&&w.length?w.buffer.head.data.length:w.length:(b>w.highWaterMark&&(w.highWaterMark=Me(b)),b<=w.length?b:w.ended?w.length:(w.needReadable=!0,0))}ie.prototype.read=function(b){f("read",b),b=parseInt(b,10);var w=this._readableState,W=b;if(b!==0&&(w.emittedReadable=!1),b===0&&w.needReadable&&((w.highWaterMark!==0?w.length>=w.highWaterMark:w.length>0)||w.ended))return f("read: emitReadable",w.length,w.ended),w.length===0&&w.ended?j(this):me(this),null;if(b=Ve(b,w),b===0&&w.ended)return w.length===0&&j(this),null;var Q=w.needReadable;f("need readable",Q),(w.length===0||w.length-b<w.highWaterMark)&&(Q=!0,f("length less than watermark",Q)),w.ended||w.reading?(Q=!1,f("reading or ended",Q)):Q&&(f("do read"),w.reading=!0,w.sync=!0,w.length===0&&(w.needReadable=!0),this._read(w.highWaterMark),w.sync=!1,w.reading||(b=Ve(W,w)));var He;return b>0?He=k(b,w):He=null,He===null?(w.needReadable=w.length<=w.highWaterMark,b=0):(w.length-=b,w.awaitDrain=0),w.length===0&&(w.ended||(w.needReadable=!0),W!==b&&w.ended&&j(this)),He!==null&&this.emit("data",He),He};function Ae(b,w){if(f("onEofChunk"),!w.ended){if(w.decoder){var W=w.decoder.end();W&&W.length&&(w.buffer.push(W),w.length+=w.objectMode?1:W.length)}w.ended=!0,w.sync?me(b):(w.needReadable=!1,w.emittedReadable||(w.emittedReadable=!0,Se(b)))}}function me(b){var w=b._readableState;f("emitReadable",w.needReadable,w.emittedReadable),w.needReadable=!1,w.emittedReadable||(f("emitReadable",w.flowing),w.emittedReadable=!0,t.nextTick(Se,b))}function Se(b){var w=b._readableState;f("emitReadable_",w.destroyed,w.length,w.ended),!w.destroyed&&(w.length||w.ended)&&(b.emit("readable"),w.emittedReadable=!1),w.needReadable=!w.flowing&&!w.ended&&w.length<=w.highWaterMark,A(b)}function ce(b,w){w.readingMore||(w.readingMore=!0,t.nextTick(he,b,w))}function he(b,w){for(;!w.reading&&!w.ended&&(w.length<w.highWaterMark||w.flowing&&w.length===0);){var W=w.length;if(f("maybeReadMore read 0"),b.read(0),W===w.length)break}w.readingMore=!1}ie.prototype._read=function(b){oe(this,new T("_read()"))},ie.prototype.pipe=function(b,w){var W=this,Q=this._readableState;switch(Q.pipesCount){case 0:Q.pipes=b;break;case 1:Q.pipes=[Q.pipes,b];break;default:Q.pipes.push(b);break}Q.pipesCount+=1,f("pipe count=%d opts=%j",Q.pipesCount,w);var He=(!w||w.end!==!1)&&b!==t.stdout&&b!==t.stderr,_e=He?Pt:u;Q.endEmitted?t.nextTick(_e):W.once("end",_e),b.on("unpipe",U);function U(c,_){f("onunpipe"),c===W&&_&&_.hasUnpiped===!1&&(_.hasUnpiped=!0,vr())}function Pt(){f("onend"),b.end()}var It=D(W);b.on("drain",It);var vt=!1;function vr(){f("cleanup"),b.removeListener("close",Tr),b.removeListener("finish",h),b.removeListener("drain",It),b.removeListener("error",wt),b.removeListener("unpipe",U),W.removeListener("end",Pt),W.removeListener("end",u),W.removeListener("data",Qr),vt=!0,Q.awaitDrain&&(!b._writableState||b._writableState.needDrain)&&It()}W.on("data",Qr);function Qr(c){f("ondata");var _=b.write(c);f("dest.write",_),_===!1&&((Q.pipesCount===1&&Q.pipes===b||Q.pipesCount>1&&ae(Q.pipes,b)!==-1)&&!vt&&(f("false write response, pause",Q.awaitDrain),Q.awaitDrain++),W.pause())}function wt(c){f("onerror",c),u(),b.removeListener("error",wt),n(b,"error")===0&&oe(b,c)}ue(b,"error",wt);function Tr(){b.removeListener("finish",h),u()}b.once("close",Tr);function h(){f("onfinish"),b.removeListener("close",Tr),u()}b.once("finish",h);function u(){f("unpipe"),W.unpipe(b)}return b.emit("pipe",W),Q.flowing||(f("pipe resume"),W.resume()),b};function D(b){return function(){var W=b._readableState;f("pipeOnDrain",W.awaitDrain),W.awaitDrain&&W.awaitDrain--,W.awaitDrain===0&&n(b,"data")&&(W.flowing=!0,A(b))}}ie.prototype.unpipe=function(b){var w=this._readableState,W={hasUnpiped:!1};if(w.pipesCount===0)return this;if(w.pipesCount===1)return b&&b!==w.pipes?this:(b||(b=w.pipes),w.pipes=null,w.pipesCount=0,w.flowing=!1,b&&b.emit("unpipe",this,W),this);if(!b){var Q=w.pipes,He=w.pipesCount;w.pipes=null,w.pipesCount=0,w.flowing=!1;for(var _e=0;_e<He;_e++)Q[_e].emit("unpipe",this,{hasUnpiped:!1});return this}var U=ae(w.pipes,b);return U===-1?this:(w.pipes.splice(U,1),w.pipesCount-=1,w.pipesCount===1&&(w.pipes=w.pipes[0]),b.emit("unpipe",this,W),this)},ie.prototype.on=function(b,w){var W=r.prototype.on.call(this,b,w),Q=this._readableState;return b==="data"?(Q.readableListening=this.listenerCount("readable")>0,Q.flowing!==!1&&this.resume()):b==="readable"&&!Q.endEmitted&&!Q.readableListening&&(Q.readableListening=Q.needReadable=!0,Q.flowing=!1,Q.emittedReadable=!1,f("on readable",Q.length,Q.reading),Q.length?me(this):Q.reading||t.nextTick(F,this)),W},ie.prototype.addListener=ie.prototype.on,ie.prototype.removeListener=function(b,w){var W=r.prototype.removeListener.call(this,b,w);return b==="readable"&&t.nextTick(Z,this),W},ie.prototype.removeAllListeners=function(b){var w=r.prototype.removeAllListeners.apply(this,arguments);return(b==="readable"||b===void 0)&&t.nextTick(Z,this),w};function Z(b){var w=b._readableState;w.readableListening=b.listenerCount("readable")>0,w.resumeScheduled&&!w.paused?w.flowing=!0:b.listenerCount("data")>0&&b.resume()}function F(b){f("readable nexttick read 0"),b.read(0)}ie.prototype.resume=function(){var b=this._readableState;return b.flowing||(f("resume"),b.flowing=!b.readableListening,fe(this,b)),b.paused=!1,this};function fe(b,w){w.resumeScheduled||(w.resumeScheduled=!0,t.nextTick(ve,b,w))}function ve(b,w){f("resume",w.reading),w.reading||b.read(0),w.resumeScheduled=!1,b.emit("resume"),A(b),w.flowing&&!w.reading&&b.read(0)}ie.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function A(b){var w=b._readableState;for(f("flow",w.flowing);w.flowing&&b.read()!==null;);}ie.prototype.wrap=function(b){var w=this,W=this._readableState,Q=!1;b.on("end",function(){if(f("wrapped end"),W.decoder&&!W.ended){var U=W.decoder.end();U&&U.length&&w.push(U)}w.push(null)}),b.on("data",function(U){if(f("wrapped data"),W.decoder&&(U=W.decoder.write(U)),!(W.objectMode&&U==null)&&!(!W.objectMode&&(!U||!U.length))){var Pt=w.push(U);Pt||(Q=!0,b.pause())}});for(var He in b)this[He]===void 0&&typeof b[He]=="function"&&(this[He]=function(Pt){return function(){return b[Pt].apply(b,arguments)}}(He));for(var _e=0;_e<X.length;_e++)b.on(X[_e],this.emit.bind(this,X[_e]));return this._read=function(U){f("wrapped _read",U),Q&&(Q=!1,b.resume())},this},typeof Symbol=="function"&&(ie.prototype[Symbol.asyncIterator]=function(){return M===void 0&&(M=ZS()),M(this)}),Object.defineProperty(ie.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(ie.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(ie.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(w){this._readableState&&(this._readableState.flowing=w)}}),ie._fromList=k,Object.defineProperty(ie.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function k(b,w){if(w.length===0)return null;var W;return w.objectMode?W=w.buffer.shift():!b||b>=w.length?(w.decoder?W=w.buffer.join(""):w.buffer.length===1?W=w.buffer.first():W=w.buffer.concat(w.length),w.buffer.clear()):W=w.buffer.consume(b,w.decoder),W}function j(b){var w=b._readableState;f("endReadable",w.endEmitted),w.endEmitted||(w.ended=!0,t.nextTick(V,w,b))}function V(b,w){if(f("endReadableNT",b.endEmitted,b.length),!b.endEmitted&&b.length===0&&(b.endEmitted=!0,w.readable=!1,w.emit("end"),b.autoDestroy)){var W=w._writableState;(!W||W.autoDestroy&&W.finished)&&w.destroy()}}typeof Symbol=="function"&&(ie.from=function(b,w){return $===void 0&&($=LS()),$(ie,b,w)});function ae(b,w){for(var W=0,Q=b.length;W<Q;W++)if(b[W]===w)return W;return-1}return Ws}function Sh(){if(dh)return qs;dh=!0,qs=a;var t=gr().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,n=t.ERR_MULTIPLE_CALLBACK,r=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=t.ERR_TRANSFORM_WITH_LENGTH_0,s=pr();Ct()(a,s);function i(d,y){var g=this._transformState;g.transforming=!1;var m=g.writecb;if(m===null)return this.emit("error",new n);g.writechunk=null,g.writecb=null,y!=null&&this.push(y),m(d);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function a(d){if(!(this instanceof a))return new a(d);s.call(this,d),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",l)}function l(){var d=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(y,g){f(d,y,g)}):f(this,null,null)}a.prototype.push=function(d,y){return this._transformState.needTransform=!1,s.prototype.push.call(this,d,y)},a.prototype._transform=function(d,y,g){g(new e("_transform()"))},a.prototype._write=function(d,y,g){var m=this._transformState;if(m.writecb=g,m.writechunk=d,m.writeencoding=y,!m.transforming){var v=this._readableState;(m.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},a.prototype._read=function(d){var y=this._transformState;y.writechunk!==null&&!y.transforming?(y.transforming=!0,this._transform(y.writechunk,y.writeencoding,y.afterTransform)):y.needTransform=!0},a.prototype._destroy=function(d,y){s.prototype._destroy.call(this,d,function(g){y(g)})};function f(d,y,g){if(y)return d.emit("error",y);if(g!=null&&d.push(g),d._writableState.length)throw new o;if(d._transformState.transforming)throw new r;return d.push(null)}return qs}function FS(){if(ph)return zs;ph=!0,zs=e;var t=Sh();Ct()(e,t);function e(n){if(!(this instanceof e))return new e(n);t.call(this,n)}return e.prototype._transform=function(n,r,o){o(null,n)},zs}function KS(){if(gh)return Gs;gh=!0;var t;function e(g){var m=!1;return function(){m||(m=!0,g.apply(void 0,arguments))}}var n=gr().codes,r=n.ERR_MISSING_ARGS,o=n.ERR_STREAM_DESTROYED;function s(g){if(g)throw g}function i(g){return g.setHeader&&typeof g.abort=="function"}function a(g,m,v,B){B=e(B);var P=!1;g.on("close",function(){P=!0}),t===void 0&&(t=Qs()),t(g,{readable:m,writable:v},function(S){if(S)return B(S);P=!0,B()});var T=!1;return function(S){if(!P&&!T){if(T=!0,i(g))return g.abort();if(typeof g.destroy=="function")return g.destroy();B(S||new o("pipe"))}}}function l(g){g()}function f(g,m){return g.pipe(m)}function d(g){return!g.length||typeof g[g.length-1]!="function"?s:g.pop()}function y(){for(var g=arguments.length,m=new Array(g),v=0;v<g;v++)m[v]=arguments[v];var B=d(m);if(Array.isArray(m[0])&&(m=m[0]),m.length<2)throw new r("streams");var P,T=m.map(function(S,E){var M=E<m.length-1,$=E>0;return a(S,M,$,function(oe){P||(P=oe),oe&&T.forEach(l),!M&&(T.forEach(l),B(P))})});return m.reduce(f)}return Gs=y,Gs}function kh(){return yh||(yh=!0,ht=ht=Eh(),ht.Stream=ht,ht.Readable=ht,ht.Writable=Ph(),ht.Duplex=pr(),ht.Transform=Sh(),ht.PassThrough=FS(),ht.finished=Qs(),ht.pipeline=KS()),ht}function Ih(){if(mh)return jo;mh=!0;var t=At().Buffer,e=St,n=bh(),r=Ct(),o=kh(),s=jo.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},i=jo.IncomingMessage=function(a,l,f,d){var y=this||$o;if(o.Readable.call(y),y._mode=f,y.headers={},y.rawHeaders=[],y.trailers={},y.rawTrailers=[],y.on("end",function(){e.nextTick(function(){y.emit("close")})}),f==="fetch"){let T=function(){m.read().then(function(S){if(!y._destroyed){if(d(S.done),S.done){y.push(null);return}y.push(t.from(S.value)),T()}}).catch(function(S){d(!0),y._destroyed||y.emit("error",S)})};if(y._fetchResponse=l,y.url=l.url,y.statusCode=l.status,y.statusMessage=l.statusText,l.headers.forEach(function(S,E){y.headers[E.toLowerCase()]=S,y.rawHeaders.push(E,S)}),n.writableStream){var g=new WritableStream({write:function(S){return d(!1),new Promise(function(E,M){y._destroyed?M():y.push(t.from(S))?E():y._resumeFetch=E})},close:function(){d(!0),y._destroyed||y.push(null)},abort:function(S){d(!0),y._destroyed||y.emit("error",S)}});try{l.body.pipeTo(g).catch(function(S){d(!0),y._destroyed||y.emit("error",S)});return}catch{}}var m=l.body.getReader();T()}else{y._xhr=a,y._pos=0,y.url=a.responseURL,y.statusCode=a.status,y.statusMessage=a.statusText;var v=a.getAllResponseHeaders().split(/\r?\n/);if(v.forEach(function(T){var S=T.match(/^([^:]+):\s*(.*)/);if(S){var E=S[1].toLowerCase();E==="set-cookie"?(y.headers[E]===void 0&&(y.headers[E]=[]),y.headers[E].push(S[2])):y.headers[E]!==void 0?y.headers[E]+=", "+S[2]:y.headers[E]=S[2],y.rawHeaders.push(S[1],S[2])}}),y._charset="x-user-defined",!n.overrideMimeType){var B=y.rawHeaders["mime-type"];if(B){var P=B.match(/;\s*charset=([^;])(;|$)/);P&&(y._charset=P[1].toLowerCase())}y._charset||(y._charset="utf-8")}}};return r(i,o.Readable),i.prototype._read=function(){var a=this||$o,l=a._resumeFetch;l&&(a._resumeFetch=null,l())},i.prototype._onXHRProgress=function(a){var l=this||$o,f=l._xhr,d=null;switch(l._mode){case"text":if(d=f.responseText,d.length>l._pos){var y=d.substr(l._pos);if(l._charset==="x-user-defined"){for(var g=t.alloc(y.length),m=0;m<y.length;m++)g[m]=y.charCodeAt(m)&255;l.push(g)}else l.push(y,l._charset);l._pos=d.length}break;case"arraybuffer":if(f.readyState!==s.DONE||!f.response)break;d=f.response,l.push(t.from(new Uint8Array(d)));break;case"moz-chunked-arraybuffer":if(d=f.response,f.readyState!==s.LOADING||!d)break;l.push(t.from(new Uint8Array(d)));break;case"ms-stream":if(d=f.response,f.readyState!==s.LOADING)break;var v=new $o.MSStreamReader;v.onprogress=function(){v.result.byteLength>l._pos&&(l.push(t.from(new Uint8Array(v.result.slice(l._pos)))),l._pos=v.result.byteLength)},v.onload=function(){a(!0),l.push(null)},v.readAsArrayBuffer(d);break}l._xhr.readyState===s.DONE&&l._mode!=="ms-stream"&&(a(!0),l.push(null))},jo}function WS(){if(hh)return Vs;hh=!0;var t=At().Buffer,e=St,n=bh(),r=Ct(),o=Ih(),s=kh(),i=o.IncomingMessage,a=o.readyStates;function l(g,m){return n.fetch&&m?"fetch":n.mozchunkedarraybuffer?"moz-chunked-arraybuffer":n.msstream?"ms-stream":n.arraybuffer&&g?"arraybuffer":"text"}var f=Vs=function(g){var m=this||rt;s.Writable.call(m),m._opts=g,m._body=[],m._headers={},g.auth&&m.setHeader("Authorization","Basic "+t.from(g.auth).toString("base64")),Object.keys(g.headers).forEach(function(P){m.setHeader(P,g.headers[P])});var v,B=!0;if(g.mode==="disable-fetch"||"requestTimeout"in g&&!n.abortController)B=!1,v=!0;else if(g.mode==="prefer-streaming")v=!1;else if(g.mode==="allow-wrong-content-type")v=!n.overrideMimeType;else if(!g.mode||g.mode==="default"||g.mode==="prefer-fast")v=!0;else throw new Error("Invalid value for opts.mode");m._mode=l(v,B),m._fetchTimer=null,m._socketTimeout=null,m._socketTimer=null,m.on("finish",function(){m._onFinish()})};r(f,s.Writable),f.prototype.setHeader=function(g,m){var v=this||rt,B=g.toLowerCase();y.indexOf(B)===-1&&(v._headers[B]={name:g,value:m})},f.prototype.getHeader=function(g){var m=(this||rt)._headers[g.toLowerCase()];return m?m.value:null},f.prototype.removeHeader=function(g){var m=this||rt;delete m._headers[g.toLowerCase()]},f.prototype._onFinish=function(){var g=this||rt;if(!g._destroyed){var m=g._opts;"timeout"in m&&m.timeout!==0&&g.setTimeout(m.timeout);var v=g._headers,B=null;m.method!=="GET"&&m.method!=="HEAD"&&(B=new Blob(g._body,{type:(v["content-type"]||{}).value||""}));var P=[];if(Object.keys(v).forEach(function(M){var $=v[M].name,oe=v[M].value;Array.isArray(oe)?oe.forEach(function(X){P.push([$,X])}):P.push([$,oe])}),g._mode==="fetch"){var T=null;if(n.abortController){var S=new AbortController;T=S.signal,g._fetchAbortController=S,"requestTimeout"in m&&m.requestTimeout!==0&&(g._fetchTimer=rt.setTimeout(function(){g.emit("requestTimeout"),g._fetchAbortController&&g._fetchAbortController.abort()},m.requestTimeout))}rt.fetch(g._opts.url,{method:g._opts.method,headers:P,body:B||void 0,mode:"cors",credentials:m.withCredentials?"include":"same-origin",signal:T}).then(function(M){g._fetchResponse=M,g._resetTimers(!1),g._connect()},function(M){g._resetTimers(!0),g._destroyed||g.emit("error",M)})}else{var E=g._xhr=new rt.XMLHttpRequest;try{E.open(g._opts.method,g._opts.url,!0)}catch(M){e.nextTick(function(){g.emit("error",M)});return}"responseType"in E&&(E.responseType=g._mode),"withCredentials"in E&&(E.withCredentials=!!m.withCredentials),g._mode==="text"&&"overrideMimeType"in E&&E.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in m&&(E.timeout=m.requestTimeout,E.ontimeout=function(){g.emit("requestTimeout")}),P.forEach(function(M){E.setRequestHeader(M[0],M[1])}),g._response=null,E.onreadystatechange=function(){switch(E.readyState){case a.LOADING:case a.DONE:g._onXHRProgress();break}},g._mode==="moz-chunked-arraybuffer"&&(E.onprogress=function(){g._onXHRProgress()}),E.onerror=function(){g._destroyed||(g._resetTimers(!0),g.emit("error",new Error("XHR error")))};try{E.send(B)}catch(M){e.nextTick(function(){g.emit("error",M)});return}}}};function d(g){try{var m=g.status;return m!==null&&m!==0}catch{return!1}}f.prototype._onXHRProgress=function(){var g=this||rt;g._resetTimers(!1),!(!d(g._xhr)||g._destroyed)&&(g._response||g._connect(),g._response._onXHRProgress(g._resetTimers.bind(g)))},f.prototype._connect=function(){var g=this||rt;g._destroyed||(g._response=new i(g._xhr,g._fetchResponse,g._mode,g._resetTimers.bind(g)),g._response.on("error",function(m){g.emit("error",m)}),g.emit("response",g._response))},f.prototype._write=function(g,m,v){var B=this||rt;B._body.push(g),v()},f.prototype._resetTimers=function(g){var m=this||rt;rt.clearTimeout(m._socketTimer),m._socketTimer=null,g?(rt.clearTimeout(m._fetchTimer),m._fetchTimer=null):m._socketTimeout&&(m._socketTimer=rt.setTimeout(function(){m.emit("timeout")},m._socketTimeout))},f.prototype.abort=f.prototype.destroy=function(g){var m=this||rt;m._destroyed=!0,m._resetTimers(!0),m._response&&(m._response._destroyed=!0),m._xhr?m._xhr.abort():m._fetchAbortController&&m._fetchAbortController.abort(),g&&m.emit("error",g)},f.prototype.end=function(g,m,v){var B=this||rt;typeof g=="function"&&(v=g,g=void 0),s.Writable.prototype.end.call(B,g,m,v)},f.prototype.setTimeout=function(g,m){var v=this||rt;m&&v.once("timeout",m),v._socketTimeout=g,v._resetTimers(!1)},f.prototype.flushHeaders=function(){},f.prototype.setNoDelay=function(){},f.prototype.setSocketKeepAlive=function(){};var y=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];return Vs}function qS(){if(vh)return Js;vh=!0,Js=e;var t=Object.prototype.hasOwnProperty;function e(){for(var n={},r=0;r<arguments.length;r++){var o=arguments[r];for(var s in o)t.call(o,s)&&(n[s]=o[s])}return n}return Js}function zS(){return Th||(Th=!0,Ys={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}),Ys}function VS(){if(_h)return Xs;_h=!0;var t=WS(),e=Ih(),n=qS(),r=zS(),o=je,s=Xs;return s.request=function(i,a){typeof i=="string"?i=o.parse(i):i=n(i);var l=GS.location.protocol.search(/^https?:$/)===-1?"http:":"",f=i.protocol||l,d=i.hostname||i.host,y=i.port,g=i.path||"/";d&&d.indexOf(":")!==-1&&(d="["+d+"]"),i.url=(d?f+"//"+d:"")+(y?":"+y:"")+g,i.method=(i.method||"GET").toUpperCase(),i.headers=i.headers||{};var m=new t(i);return a&&m.on("response",a),m},s.get=function(a,l){var f=s.request(a,l);return f.end(),f},s.ClientRequest=t,s.IncomingMessage=e.IncomingMessage,s.Agent=function(){},s.Agent.defaultMaxSockets=4,s.globalAgent=new s.Agent,s.STATUS_CODES=r,s.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],Xs}var bt,Xm,Mn,Ds,Qm,Ns,eh,Hs,th,Us,nh,js,rh,$s,ih,oh,Zs,ah,Ls,sh,Fs,lh,Ks,uh,Ws,ch,fh,qs,dh,zs,ph,Gs,gh,ht,yh,jo,mh,$o,Vs,hh,rt,Js,vh,Ys,Th,Xs,_h,GS,Yt,JS,YS,XS,QS,ek,tk,nk,rk,Ch=it(()=>{C();R();O();is();qy();os();oi();km();Ho();bs();Rm();Nm();Ym();Es();bt={},Xm=!1,Mn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;Ds={},Qm=!1;Ns={},eh=!1;Hs={},th=!1;Us={},nh=!1;js={},rh=!1;$s={},ih=!1,oh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;Zs={},ah=!1;Ls={},sh=!1;Fs={},lh=!1;Ks={},uh=!1;Ws={},ch=!1,fh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;qs={},dh=!1;zs={},ph=!1;Gs={},gh=!1;ht={},yh=!1;jo={},mh=!1,$o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;Vs={},hh=!1,rt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;Js={},vh=!1;Ys={},Th=!1;Xs={},_h=!1,GS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;Yt=VS(),JS=Yt.Agent,YS=Yt.ClientRequest,XS=Yt.IncomingMessage,QS=Yt.METHODS,ek=Yt.STATUS_CODES,tk=Yt.get,nk=Yt.globalAgent,rk=Yt.request});C();R();O();var ky={};Un(ky,{defaults:()=>rP,markdown:()=>nP});C();R();O();C();R();O();C();R();O();var ro=_r(Zn(),1),ze=_r(Zn(),1),Zt=_r(Zn(),1),er=_r(Zn(),1),pt=_r(Zn(),1),Sa=Object.defineProperty,eT=Object.defineProperties,tT=Object.getOwnPropertyDescriptors,Ti=Object.getOwnPropertySymbols,uf=Object.prototype.hasOwnProperty,cf=Object.prototype.propertyIsEnumerable,Sc=(t,e,n)=>e in t?Sa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,x=(t,e)=>{for(var n in e||(e={}))uf.call(e,n)&&Sc(t,n,e[n]);if(Ti)for(var n of Ti(e))cf.call(e,n)&&Sc(t,n,e[n]);return t},H=(t,e)=>eT(t,tT(e)),p=(t,e)=>Sa(t,"name",{value:e,configurable:!0}),ff=(t,e)=>{var n={};for(var r in t)uf.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ti)for(var r of Ti(t))e.indexOf(r)<0&&cf.call(t,r)&&(n[r]=t[r]);return n},df=(t,e)=>{for(var n in e)Sa(t,n,{get:e[n],enumerable:!0})},re={};df(re,{BRAND:()=>fx,DIRTY:()=>Gn,EMPTY_PATH:()=>ux,INVALID:()=>de,NEVER:()=>kB,OK:()=>ct,ParseInputLazyPath:()=>Et,ParseStatus:()=>gt,Schema:()=>ye,ZodAny:()=>Ei,ZodArray:()=>Hr,ZodBigInt:()=>Ua,ZodBoolean:()=>ja,ZodBranded:()=>$a,ZodCatch:()=>Za,ZodDate:()=>La,ZodDefault:()=>fo,ZodDiscriminatedUnion:()=>sg,ZodEffects:()=>bn,ZodEnum:()=>rr,ZodError:()=>$t,ZodFirstPartyTypeKind:()=>zp,ZodFunction:()=>ug,ZodIntersection:()=>Ka,ZodIssueCode:()=>z,ZodLazy:()=>Wa,ZodLiteral:()=>qa,ZodMap:()=>dg,ZodNaN:()=>gg,ZodNativeEnum:()=>za,ZodNever:()=>_n,ZodNull:()=>Ga,ZodNullable:()=>Jn,ZodNumber:()=>Va,ZodObject:()=>Yn,ZodOptional:()=>nn,ZodParsedType:()=>ne,ZodPipeline:()=>Ja,ZodPromise:()=>go,ZodReadonly:()=>yo,ZodRecord:()=>bg,ZodRef:()=>xg,ZodSchema:()=>ye,ZodSet:()=>Bg,ZodString:()=>ft,ZodSymbol:()=>Ng,ZodTransformer:()=>bn,ZodTuple:()=>Qn,ZodType:()=>ye,ZodUndefined:()=>Ya,ZodUnion:()=>Xa,ZodUnknown:()=>Ar,ZodVoid:()=>$g,addIssueToContext:()=>te,agent:()=>Rx,aimodel:()=>Ux,any:()=>Vx,array:()=>Qx,bigint:()=>Kx,boolean:()=>gy,coerce:()=>SB,conversation:()=>Ax,createZodEnum:()=>po,cuid2Regex:()=>Eg,cuidRegex:()=>Pg,custom:()=>og,datasource:()=>jx,date:()=>Wx,datetimeRegex:()=>Rg,default:()=>TB,discriminatedUnion:()=>rB,effect:()=>lf,emailRegex:()=>Ig,enum:()=>gB,errorUtil:()=>se,event:()=>Mx,fromJsonSchema:()=>PB,fromObject:()=>EB,function:()=>fB,getErrorMap:()=>Dr,getParsedType:()=>tn,instanceof:()=>Lx,intent:()=>Hx,intersection:()=>iB,ipv4Regex:()=>Cg,ipv6Regex:()=>Og,isAborted:()=>ya,isAsync:()=>Bi,isDirty:()=>ma,isEmojiRegex:()=>dx,isValid:()=>Nr,jsonSchemaToZui:()=>mo,knowledgebase:()=>$x,late:()=>Zx,lazy:()=>dB,literal:()=>pB,makeIssue:()=>xi,map:()=>uB,message:()=>Ox,nan:()=>Fx,nativeEnum:()=>yB,never:()=>Yx,null:()=>Gx,nullable:()=>vB,number:()=>py,object:()=>eB,objectToZui:()=>Ur,objectUtil:()=>ga,oboolean:()=>BB,onumber:()=>xB,optional:()=>hB,ostring:()=>wB,pipeline:()=>bB,preprocess:()=>_B,processCreateParams:()=>ge,promise:()=>mB,quotelessJson:()=>lx,readonly:()=>lB,record:()=>aB,ref:()=>sB,set:()=>cB,setErrorMap:()=>Jp,strictObject:()=>tB,string:()=>dy,symbol:()=>qx,table:()=>Dx,tablerow:()=>Nx,transformer:()=>lf,tuple:()=>oB,ulidRegex:()=>Sg,undefined:()=>zx,union:()=>nB,unknown:()=>Jx,user:()=>Cx,util:()=>be,uuidRegex:()=>kg,variable:()=>Ix,void:()=>Xx,zuiToJsonSchema:()=>ns});var ke="x-zui",pf=(0,ze.createContext)({formData:void 0,formSchema:void 0,setFormData:p(()=>{throw new Error("Must be within a FormDataProvider")},"setFormData"),setHiddenState:p(()=>{throw new Error("Must be within a FormDataProvider")},"setHiddenState"),setDisabledState:p(()=>{throw new Error("Must be within a FormDataProvider")},"setDisabledState"),hiddenState:{},disabledState:{},validation:{formValid:null,formErrors:null}}),kc=p((t,e,n)=>{var r;let o=(r=e[ke])==null?void 0:r[t];if(typeof o>"u")return!1;if(typeof o=="boolean")return o;if(typeof o=="string"){if(typeof window>"u")return console.warn("Function evaluation is not supported in server side rendering"),!1;let i=new Function("return "+o)()(n);switch(typeof i){case"object":case"boolean":return i;default:return!1}}return!1},"parseMaskableField"),gf=p((t,e)=>{let n=(0,ze.useContext)(pf);if(n===void 0)throw new Error("useFormData must be used within a FormDataProvider");let r=(0,ze.useMemo)(()=>hn(n.formData,e),[n.formData,e]),o=(0,ze.useMemo)(()=>{var m;return n.validation.formValid===null?{formValid:null,formErrors:null}:n.validation.formValid===!1?{formValid:!1,formErrors:((m=n.validation.formErrors)==null?void 0:m.filter(v=>hf(v.path,e)).map(v=>({message:v.message,code:v.code,path:e})))||null}:{formValid:!0,formErrors:[]}},[n.validation.formValid,n.validation.formErrors,e]),s=n.dataTransform?n.dataTransform(r):r,i=(0,ze.useMemo)(()=>kc("hidden",t,s),[t,s]),a=(0,ze.useMemo)(()=>kc("disabled",t,s),[t,s]);(0,ze.useEffect)(()=>{n.setHiddenState(m=>Ln(m,e,i||{})),n.setDisabledState(m=>Ln(m,e,a||{}))},[JSON.stringify({fieldSchema:t,data:r})]);let{disabled:l,hidden:f}=(0,ze.useMemo)(()=>{let m=i===!0||hn(n.hiddenState,e),v=a===!0||hn(n.disabledState,e);return{hidden:m===!0,disabled:v===!0}},[n.hiddenState,n.disabledState,i,a,e]),d=(0,ze.useCallback)((m,v)=>{n.setFormData(B=>Ln(B,m,v))},[n.setFormData]),y=(0,ze.useCallback)((m,v=void 0)=>{let B=zn(t.items);n.setFormData(P=>{let T=hn(P,m)||[];return v===void 0&&(v=B),Ln(P,m,Array.isArray(T)?[...T,v]:[v])})},[n.setFormData]),g=(0,ze.useCallback)((m,v)=>{n.setFormData(B=>{let P=hn(B,m)||[];return Array.isArray(P)?(P.splice(v,1),Ln(B,m,P)):B})},[n.setFormData]);return x(H(x({},n),{data:r,disabled:l,hidden:f,handlePropertyChange:d,addArrayItem:y,removeArrayItem:g}),o)},"useFormData");function Ln(t,e,n){if(e.length===0)return n;let r=e.length;return e.reduce((o,s,i)=>(i===r-1?o[s]=n:o[s]||(o[s]=isNaN(Number(s))?{}:[]),o[s]),t??{}),x({},t)}p(Ln,"setObjectPath");var zn=p((t,e)=>{var n,r,o,s;if(Array.isArray(t))return zn(t[0]);if(t.default)return t.default;if(t.nullable)return null;if(!e){if((n=t.anyOf)!=null&&n.length)return zn(t.anyOf[0]);if(t.type==="object"&&t.properties){let i={};return Object.entries(t.properties).map(([a,l])=>{var f;i[a]=zn(l,!((f=t.required)!=null&&f.includes(a))||yf(l)||!1)}),i}if(t.type==="array")return t.minItems&&t.minItems>0?[zn(t.items)]:[];if(t.type==="string")return(r=t.enum)!=null&&r.length?t.enum[0]:"";if(t.type==="number")return(o=t.enum)!=null&&o.length?t.enum[0]:0;if(t.type==="boolean")return(s=t.enum)!=null&&s.length?t.enum[0]:!1}},"getDefaultValues"),nT=p(({children:t,setFormData:e,formData:n,formSchema:r,disableValidation:o,onValidation:s,dataTransform:i})=>{let[a,l]=(0,ze.useState)({}),[f,d]=(0,ze.useState)({}),y=i?i(n):n,g=(0,ze.useMemo)(()=>{if(o)return{formValid:null,formErrors:null};if(!r)return{formValid:null,formErrors:null};let m=mo(r).safeParse(y);return m.success?{formValid:!0,formErrors:[]}:{formValid:!1,formErrors:m.error.issues}},[JSON.stringify({transformedData:y})]);return(0,ze.useEffect)(()=>{s&&s(g)},[g]),ze.default.createElement(pf.Provider,{value:{formData:n,setFormData:e,formSchema:r,validation:g,hiddenState:a,setHiddenState:l,disabledState:f,setDisabledState:d,dataTransform:i}},t)},"FormDataProvider");function hn(t,e){return e.reduce((n,r)=>n?n[r]:null,t)}p(hn,"getPathData");function yf(t){var e;return((e=t.anyOf)==null?void 0:e.some(n=>n.not&&Object.keys(n.not).length===0))||!1}p(yf,"isOptional");function _i(t,e){let n=x({},t);for(let r in e)e.hasOwnProperty(r)&&(typeof e[r]=="object"&&e[r]!==null&&!Array.isArray(e[r])?typeof n[r]=="object"&&n[r]!==null&&!Array.isArray(n[r])?n[r]=_i(n[r],e[r]):n[r]=_i({},e[r]):n[r]=e[r]);return n}p(_i,"deepMerge");var rT=p((t,e)=>{let{handlePropertyChange:n,data:r}=gf(t,e),{discriminator:o,value:s,discriminatedSchema:i}=(0,ro.useMemo)(()=>{let a=mf(t.anyOf),l=a?.key?r?.[a.key]:t.default||null,f=iT(a?.key||null,l,t.anyOf);return{discriminator:a,value:l,discriminatedSchema:f}},[t.anyOf,r]);return(0,ro.useEffect)(()=>{o?.key&&o?.values.length&&Object.keys(r||{}).length<1&&!t.default&&n(e,{[o.key]:o.values[0]})},[]),{discriminator:o,discriminatorValue:s,discriminatedSchema:i}},"useDiscriminator"),mf=p(t=>{let e=t?.map(n=>n.type!=="object"||!n.properties?null:Object.entries(n.properties).map(([r,o])=>{var s;return o.type==="string"&&((s=o.enum)!=null&&s.length)?{key:r,value:o.enum[0]}:null}).filter(r=>!!r)).flat().reduce((n,r)=>{if(!r)return n;let{key:o,value:s}=r;return n.key===null&&(n.key=o),n.key===o&&n.values.push(s),n},{key:null,values:[]});return e?.key===null||!e?.values.length?null:e},"resolveDiscriminator"),iT=p((t,e,n)=>{var r,o;if(!n?.length||!t||!e)return null;for(let s of n){if(s.type!=="object")continue;let i=(r=s.properties)==null?void 0:r[t];if(i?.type==="string"&&((o=i.enum)!=null&&o.length)&&i.enum[0]===e)return H(x({},s),{properties:H(x({},s.properties),{[t]:H(x({},i),{[ke]:{hidden:!0}})})})}return null},"resolveDiscriminatedSchema"),oT=p(t=>{var e;return(e=t.anyOf)!=null&&e.length?mf(t.anyOf)?"discriminatedUnion":"object":t.type==="integer"?"number":t.type},"getSchemaType"),aT=p((t,e)=>{var n,r,o;let s=oT(e),i=((n=e[ke])==null?void 0:n.displayAs)||null;if(!i||!Array.isArray(i)||i.length<2){let d=(r=t?.[s])==null?void 0:r.default;return d?{Component:d,type:s,id:"default",params:{}}:null}let a=i[0],l=((o=t?.[s])==null?void 0:o[a])||null;if(!l)return console.warn(`Component ${s}.${a} not found`),null;let f=i[1]||{};return{Component:l,type:s,id:a,params:f}},"resolveComponent");function hf(t,e){return t.length!==e.length?!1:t.every((n,r)=>n===e[r])}p(hf,"pathMatches");function aa(t,e){return e||(e=new RegExp("/s|-|_| ","g")),_f(t).split(e).map(vf).map(bf).reduce(Tf)}p(aa,"formatTitle");function vf(t){return t.charAt(0).toUpperCase()+t.substring(1)}p(vf,"capitalize");function Tf(t,e){return`${t} ${e}`}p(Tf,"combine");function _f(t){return t.replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1_$2").toLowerCase()}p(_f,"decamelize");function bf(t,e,n){let r=t.toLowerCase(),o=t.toUpperCase();for(let s of fT)if(s.toLowerCase()===r)return s;return sT.includes(o)?o:e===0||e===n.length-1||t.length>=4?t:cT.includes(r)||uT.includes(r)||lT.includes(r)?r:t}p(bf,"handleSpecialWords");var sT=["2D","3D","4WD","A2O","API","BIOS","CCTV","CC","CCV","CD","CD-ROM","COBOL","CIA","CMS","CSS","CSV","CV","DIY","DVD","DB","DNA","E3","EIN","ESPN","FAQ","FAQs","FTP","FPS","FORTRAN","FBI","HTML","HTTP","ID","IP","ISO","JS","JSON","LASER","M2A","M2M","M2MM","M2O","MMORPG","NAFTA","NASA","NDA","O2M","PDF","PHP","POP","RAM","RNGR","ROM","RPG","RTFM","RTS","SCUBA","SITCOM","SKU","SMTP","SQL","SSN","SWAT","TBS","TTL","TV","TNA","UI","URL","USB","UWP","VIP","W3C","WYSIWYG","WWW","WWE","WWF"],lT=["a","an","the"],uT=["and","that","but","or","as","if","when","than","because","while","where","after","so","though","since","until","whether","before","although","nor","like","once","unless","now","except"],cT=["about","above","across","after","against","along","among","around","at","because of","before","behind","below","beneath","beside","besides","between","beyond","but","by","concerning","despite","down","during","except","excepting","for","from","in","in front of","inside","in spite of","instead of","into","like","near","of","off","on","onto","out","outside","over","past","regarding","since","through","throughout","to","toward","under","underneath","until","up","upon","up to","with","within","without","with regard to","with respect to"],fT=["2FA","3D","4K","5K","8K","AGI","BI","ChatGPT","CTA","DateTime","GitHub","GPT","HD","IBMid","ID","IDs","iMac","IMAX","iOS","IP","iPad","iPhone","iPod","LDAP","LinkedIn","LLM","M2M","M2O","macOS","McDonalds","ML","MySQL","NLG","NLP","NLU","O2M","OpenAI","PDFs","PEFT","pH","PostgreSQL","SEO","TTS","UHD","UUID","XSS","YouTube"];function wf(t){return typeof t=="symbol"?"symbol":typeof t=="bigint"?`${t.toString()}n`:jt(t)}p(wf,"primitiveToTypscriptLiteralType");function jt(t){return typeof t>"u"?"undefined":typeof t=="symbol"?t.description?`Symbol(${jt(t.description)})`:"Symbol()":typeof t=="bigint"?`BigInt(${t.toString()})`:JSON.stringify(t)}p(jt,"primitiveToTypescriptValue");function xf(t){return typeof t>"u"?"undefined":JSON.stringify(t)}p(xf,"unknownToTypescriptValue");var Ic=p(t=>/^[a-zA-Z_$][a-zA-Z0-9_$]*$/.test(t)?t:jt(t),"toPropertyKey"),dT=p(t=>t.charAt(0).toUpperCase()+t.slice(1),"capitalize"),Bf=p(t=>{let e=/[^a-zA-Z0-9_]/g;return t.split(e).map(dT).filter(r=>!!r).join("")},"toTypeArgumentName"),pe=p(t=>{let e=(t??"").split(`
`).filter(n=>n.trim().length>0);return e.length===0?"":e.length===1?`/** ${e[0]} */`:`/**
 * ${e.join(`
 * `)}
 */`},"getMultilineComment"),Pf={};df(Pf,{JsonSchemaToZuiError:()=>kf,ObjectToZuiError:()=>sa,UnrepresentableGenericError:()=>la,UnsupportedZuiToJsonSchemaError:()=>pT,UnsupportedZuiToTypescriptSchemaError:()=>yn,UnsupportedZuiToTypescriptTypeError:()=>Uf,UntitledDeclarationError:()=>$f,ZuiToJsonSchemaError:()=>Cf,ZuiToTypescriptSchemaError:()=>Mf,ZuiToTypescriptTypeError:()=>io,ZuiTransformError:()=>tr});var Ef=class extends Error{constructor(e,n){super(n),this.transform=e}};p(Ef,"ZuiTransformError");var tr=Ef,Sf=class extends tr{constructor(e){super("json-schema-to-zui",e)}};p(Sf,"JsonSchemaToZuiError");var kf=Sf,If=class extends tr{constructor(e){super("object-to-zui",e)}};p(If,"ObjectToZuiError");var sa=If,Af=class extends tr{constructor(e){super("zui-to-json-schema",e)}};p(Af,"ZuiToJsonSchemaError");var Cf=Af,Of=class extends Cf{constructor(e){super(`Zod type ${e} cannot be transformed to JSON Schema.`)}};p(Of,"UnsupportedZuiToJsonSchemaError");var pT=Of,Rf=class extends tr{constructor(e){super("zui-to-typescript-schema",e)}};p(Rf,"ZuiToTypescriptSchemaError");var Mf=Rf,Df=class extends Mf{constructor(e){super(`Zod type ${e} cannot be transformed to TypeScript schema.`)}};p(Df,"UnsupportedZuiToTypescriptSchemaError");var yn=Df,Nf=class extends tr{constructor(e){super("zui-to-typescript-type",e)}};p(Nf,"ZuiToTypescriptTypeError");var io=Nf,Hf=class extends io{constructor(e){super(`Zod type ${e} cannot be transformed to TypeScript type.`)}};p(Hf,"UnsupportedZuiToTypescriptTypeError");var Uf=Hf,jf=class extends io{constructor(){super("Schema must have a title to be transformed to a TypeScript type with a declaration.")}};p(jf,"UntitledDeclarationError");var $f=jf,Zf=class extends io{constructor(){super('ZodRef can only be transformed to a TypeScript type with a "type" declaration.')}};p(Zf,"UnrepresentableGenericError");var la=Zf,Lf=["string","number","boolean","unknown","void","any","null","undefined","never","bigint","symbol","object"],gT=p(t=>Lf.includes(t),"isPrimitive"),yT=p(t=>Lf.map(e=>`${e}[]`).includes(t),"isArrayOfPrimitives"),Ac=p(t=>t.replace(/ +/g," ").trim(),"stripSpaces"),Ff=class{constructor(e,n,r=!1){this.key=e,this.value=n,this.optional=r}};p(Ff,"KeyValue");var ui=Ff,Kf=class{constructor(e){this.schema=e}};p(Kf,"FnParameters");var Cc=Kf,Wf=class{constructor(e){this.schema=e}};p(Wf,"FnReturn");var Oc=Wf,qf=class{constructor(e){this.props=e}};p(qf,"Declaration");var fi=qf;function bi(t,e={}){let n=vT(t,e),r=Ce(n,{});return e.formatter&&(r=e.formatter(r)),r}p(bi,"toTypescript");function Ce(t,e){var n,r,o;let s=H(x({},e),{parent:t});if(t===null)return"";if(t instanceof fi)return mT(t,s);if(t instanceof ui){if(t.value instanceof q.ZodOptional){let m=t.value._def.innerType;return m instanceof q.Schema&&!m.description&&t.value.description&&(m=m?.describe(t.value.description)),Ce(new ui(t.key,m,!0),s)}let l=pe(t.value._def.description),f=l?.trim().length>0?`
`:"",d=t.value.describe(""),g=t.optional||t.value.isOptional()?"?":"";return`${f}${l}${f}${t.key}${g}: ${Ce(d,s)}${f}`}if(t instanceof Cc){if(t.schema instanceof q.ZodTuple){let d="";for(let y=0;y<t.schema.items.length;y++){let g=(o=(r=(n=t.schema.items[y])==null?void 0:n.ui)==null?void 0:r.title)!=null?o:`arg${y}`,m=t.schema.items[y];d+=`${Ce(new ui(Ic(g),m),s)}${y<t.schema.items.length-1?", ":""} `}return d}let l=Ce(t.schema,s);return l.startsWith("{")&&l.endsWith("}")||l.startsWith("[")&&l.endsWith("]")||l.startsWith("(")&&l.endsWith(")")||l.startsWith("Array<")&&l.endsWith(">")||l.startsWith("Record<")&&l.endsWith(">")||yT(l)?`args: ${l}`:l}if(t instanceof Oc)return t.schema instanceof q.ZodOptional?`${Ce(t.schema.unwrap(),s)} | undefined`:Ce(t.schema,s);let a=t._def;switch(a.typeName){case q.ZodFirstPartyTypeKind.ZodString:return`${pe(a.description)} string`.trim();case q.ZodFirstPartyTypeKind.ZodNumber:case q.ZodFirstPartyTypeKind.ZodNaN:case q.ZodFirstPartyTypeKind.ZodBigInt:return`${pe(a.description)} number`.trim();case q.ZodFirstPartyTypeKind.ZodBoolean:return`${pe(t._def.description)} boolean`.trim();case q.ZodFirstPartyTypeKind.ZodDate:return`${pe(a.description)} Date`.trim();case q.ZodFirstPartyTypeKind.ZodUndefined:return`${pe(a.description)} undefined`.trim();case q.ZodFirstPartyTypeKind.ZodNull:return`${pe(a.description)} null`.trim();case q.ZodFirstPartyTypeKind.ZodAny:return`${pe(a.description)} any`.trim();case q.ZodFirstPartyTypeKind.ZodUnknown:return`${pe(a.description)} unknown`.trim();case q.ZodFirstPartyTypeKind.ZodNever:return`${pe(a.description)} never`.trim();case q.ZodFirstPartyTypeKind.ZodVoid:return`${pe(a.description)} void`.trim();case q.ZodFirstPartyTypeKind.ZodArray:let l=Ce(a.type,s);return gT(l)?`${l}[]`:`Array<${l}>`;case q.ZodFirstPartyTypeKind.ZodObject:return`{ ${Object.entries(a.shape()).map(([E,M])=>Ce(new ui(Ic(E),M),s)).join("; ")} }`;case q.ZodFirstPartyTypeKind.ZodUnion:let d=a.options.map(E=>Ce(E,s));return`${pe(a.description)}
${d.join(" | ")}`;case q.ZodFirstPartyTypeKind.ZodDiscriminatedUnion:let y=a.options.map(E=>Ce(E,s));return`${pe(t._def.description)}
${y.join(" | ")}`;case q.ZodFirstPartyTypeKind.ZodIntersection:return`${Ce(a.left,s)} & ${Ce(a.right,s)}`;case q.ZodFirstPartyTypeKind.ZodTuple:return a.items.length===0?"":`[${a.items.map(E=>Ce(E,s)).join(", ")}]`;case q.ZodFirstPartyTypeKind.ZodRecord:let m=Ce(a.keyType,s),v=Ce(a.valueType,s);return`${pe(a.description)} { [key: ${m}]: ${v} }`;case q.ZodFirstPartyTypeKind.ZodMap:return`Map<${Ce(a.keyType,s)}, ${Ce(a.valueType,s)}>`;case q.ZodFirstPartyTypeKind.ZodSet:return`Set<${Ce(a.valueType,s)}>`;case q.ZodFirstPartyTypeKind.ZodFunction:let B=Ce(new Cc(a.args),s),P=Ce(new Oc(a.returns),s);return`${pe(a.description)}
(${B}) => ${P}`;case q.ZodFirstPartyTypeKind.ZodLazy:return Ce(a.getter(),s);case q.ZodFirstPartyTypeKind.ZodLiteral:let T=wf(a.value);return`${pe(a.description)}
${T}`.trim();case q.ZodFirstPartyTypeKind.ZodEnum:return a.values.map(jt).join(" | ");case q.ZodFirstPartyTypeKind.ZodEffects:return Ce(a.schema,s);case q.ZodFirstPartyTypeKind.ZodNativeEnum:throw new Uf(q.ZodFirstPartyTypeKind.ZodNativeEnum);case q.ZodFirstPartyTypeKind.ZodOptional:return`${Ce(a.innerType,s)} | undefined`;case q.ZodFirstPartyTypeKind.ZodNullable:return`${Ce(a.innerType,s)} | null`;case q.ZodFirstPartyTypeKind.ZodDefault:return Ce(a.innerType,s);case q.ZodFirstPartyTypeKind.ZodCatch:return Ce(a.innerType,s);case q.ZodFirstPartyTypeKind.ZodPromise:return`Promise<${Ce(a.type,s)}>`;case q.ZodFirstPartyTypeKind.ZodBranded:return Ce(a.type,s);case q.ZodFirstPartyTypeKind.ZodPipeline:return Ce(a.in,s);case q.ZodFirstPartyTypeKind.ZodSymbol:return`${pe(a.description)} symbol`.trim();case q.ZodFirstPartyTypeKind.ZodReadonly:return`Readonly<${Ce(a.innerType,s)}>`;case q.ZodFirstPartyTypeKind.ZodRef:return Bf(a.uri);default:be.assertNever(a)}}p(Ce,"sUnwrapZod");var mT=p((t,e)=>{if(t.props.type==="none")return Ce(t.props.schema,e);let n=pe(t.props.schema.description),r=t.props.schema.describe(""),o=Ce(r,e);if(t.props.type==="variable")return Ac(`${n}declare const ${t.props.identifier}: ${o};`);let s=t.props.args.length>0?`<${t.props.args.map(Bf).join(", ")}>`:"";return Ac(`${n}type ${t.props.identifier}${s} = ${o};`)},"unwrapDeclaration"),hT=p(t=>t.declaration?t.declaration===!0?"variable":t.declaration:"none","getDeclarationType"),vT=p((t,e)=>{let n=hT(e),r=t.getReferences();if(n==="none"){if(r.length>0)throw new la;return new fi({type:"none",schema:t})}let o="title"in t.ui?t.ui.title:null;if(!o)throw new $f;if(n==="variable"){if(r.length>0)throw new la;return new fi({type:"variable",identifier:o,schema:t})}return new fi({type:"type",identifier:o,schema:t,args:r})},"getDeclarationProps"),TT=typeof global=="object"&&global&&global.Object===Object&&global,zf=TT,_T=typeof self=="object"&&self&&self.Object===Object&&self,bT=zf||_T||Function("return this")(),Ft=bT,wT=Ft.Symbol,rn=wT,Gf=Object.prototype,xT=Gf.hasOwnProperty,BT=Gf.toString,xr=rn?rn.toStringTag:void 0;function Vf(t){var e=xT.call(t,xr),n=t[xr];try{t[xr]=void 0;var r=!0}catch{}var o=BT.call(t);return r&&(e?t[xr]=n:delete t[xr]),o}p(Vf,"getRawTag");var PT=Vf,ET=Object.prototype,ST=ET.toString;function Jf(t){return ST.call(t)}p(Jf,"objectToString");var kT=Jf,IT="[object Null]",AT="[object Undefined]",Rc=rn?rn.toStringTag:void 0;function Yf(t){return t==null?t===void 0?AT:IT:Rc&&Rc in Object(t)?PT(t):kT(t)}p(Yf,"baseGetTag");var nr=Yf;function Xf(t){return t!=null&&typeof t=="object"}p(Xf,"isObjectLike");var Vn=Xf,CT="[object Symbol]";function Qf(t){return typeof t=="symbol"||Vn(t)&&nr(t)==CT}p(Qf,"isSymbol");var ka=Qf;function ed(t,e){for(var n=-1,r=t==null?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}p(ed,"arrayMap");var OT=ed,RT=Array.isArray,Lt=RT,MT=1/0,Mc=rn?rn.prototype:void 0,Dc=Mc?Mc.toString:void 0;function Ia(t){if(typeof t=="string")return t;if(Lt(t))return OT(t,Ia)+"";if(ka(t))return Dc?Dc.call(t):"";var e=t+"";return e=="0"&&1/t==-MT?"-0":e}p(Ia,"baseToString");var DT=Ia;function td(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}p(td,"isObject");var Aa=td;function nd(t){return t}p(nd,"identity");var NT=nd,HT="[object AsyncFunction]",UT="[object Function]",jT="[object GeneratorFunction]",$T="[object Proxy]";function rd(t){if(!Aa(t))return!1;var e=nr(t);return e==UT||e==jT||e==HT||e==$T}p(rd,"isFunction");var id=rd,ZT=Ft["__core-js_shared__"],na=ZT,Nc=function(){var t=/[^.]+$/.exec(na&&na.keys&&na.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function od(t){return!!Nc&&Nc in t}p(od,"isMasked");var LT=od,FT=Function.prototype,KT=FT.toString;function ad(t){if(t!=null){try{return KT.call(t)}catch{}try{return t+""}catch{}}return""}p(ad,"toSource");var wn=ad,WT=/[\\^$.*+?()[\]{}|]/g,qT=/^\[object .+?Constructor\]$/,zT=Function.prototype,GT=Object.prototype,VT=zT.toString,JT=GT.hasOwnProperty,YT=RegExp("^"+VT.call(JT).replace(WT,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function sd(t){if(!Aa(t)||LT(t))return!1;var e=id(t)?YT:qT;return e.test(wn(t))}p(sd,"baseIsNative");var XT=sd;function ld(t,e){return t?.[e]}p(ld,"getValue");var QT=ld;function ud(t,e){var n=QT(t,e);return XT(n)?n:void 0}p(ud,"getNative");var xn=ud,e_=xn(Ft,"WeakMap"),ua=e_,t_=function(){try{var t=xn(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Hc=t_,n_=9007199254740991,r_=/^(?:0|[1-9]\d*)$/;function cd(t,e){var n=typeof t;return e=e??n_,!!e&&(n=="number"||n!="symbol"&&r_.test(t))&&t>-1&&t%1==0&&t<e}p(cd,"isIndex");var fd=cd;function dd(t,e,n){e=="__proto__"&&Hc?Hc(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}p(dd,"baseAssignValue");var i_=dd;function pd(t,e){return t===e||t!==t&&e!==e}p(pd,"eq");var gd=pd,o_=9007199254740991;function yd(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=o_}p(yd,"isLength");var Ca=yd;function md(t){return t!=null&&Ca(t.length)&&!id(t)}p(md,"isArrayLike");var a_=md,s_=Object.prototype;function hd(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||s_;return t===n}p(hd,"isPrototype");var l_=hd;function vd(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}p(vd,"baseTimes");var u_=vd,c_="[object Arguments]";function Td(t){return Vn(t)&&nr(t)==c_}p(Td,"baseIsArguments");var Uc=Td,_d=Object.prototype,f_=_d.hasOwnProperty,d_=_d.propertyIsEnumerable,p_=Uc(function(){return arguments}())?Uc:function(t){return Vn(t)&&f_.call(t,"callee")&&!d_.call(t,"callee")},bd=p_;function wd(){return!1}p(wd,"stubFalse");var g_=wd,xd=typeof exports=="object"&&exports&&!exports.nodeType&&exports,jc=xd&&typeof module=="object"&&module&&!module.nodeType&&module,y_=jc&&jc.exports===xd,$c=y_?Ft.Buffer:void 0,m_=$c?$c.isBuffer:void 0,h_=m_||g_,ca=h_,v_="[object Arguments]",T_="[object Array]",__="[object Boolean]",b_="[object Date]",w_="[object Error]",x_="[object Function]",B_="[object Map]",P_="[object Number]",E_="[object Object]",S_="[object RegExp]",k_="[object Set]",I_="[object String]",A_="[object WeakMap]",C_="[object ArrayBuffer]",O_="[object DataView]",R_="[object Float32Array]",M_="[object Float64Array]",D_="[object Int8Array]",N_="[object Int16Array]",H_="[object Int32Array]",U_="[object Uint8Array]",j_="[object Uint8ClampedArray]",$_="[object Uint16Array]",Z_="[object Uint32Array]",Le={};Le[R_]=Le[M_]=Le[D_]=Le[N_]=Le[H_]=Le[U_]=Le[j_]=Le[$_]=Le[Z_]=!0;Le[v_]=Le[T_]=Le[C_]=Le[__]=Le[O_]=Le[b_]=Le[w_]=Le[x_]=Le[B_]=Le[P_]=Le[E_]=Le[S_]=Le[k_]=Le[I_]=Le[A_]=!1;function Bd(t){return Vn(t)&&Ca(t.length)&&!!Le[nr(t)]}p(Bd,"baseIsTypedArray");var L_=Bd;function Pd(t){return function(e){return t(e)}}p(Pd,"baseUnary");var F_=Pd,Ed=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ir=Ed&&typeof module=="object"&&module&&!module.nodeType&&module,K_=Ir&&Ir.exports===Ed,ra=K_&&zf.process,W_=function(){try{var t=Ir&&Ir.require&&Ir.require("util").types;return t||ra&&ra.binding&&ra.binding("util")}catch{}}(),Zc=W_,Lc=Zc&&Zc.isTypedArray,q_=Lc?F_(Lc):L_,Sd=q_,z_=Object.prototype,G_=z_.hasOwnProperty;function kd(t,e){var n=Lt(t),r=!n&&bd(t),o=!n&&!r&&ca(t),s=!n&&!r&&!o&&Sd(t),i=n||r||o||s,a=i?u_(t.length,String):[],l=a.length;for(var f in t)(e||G_.call(t,f))&&!(i&&(f=="length"||o&&(f=="offset"||f=="parent")||s&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||fd(f,l)))&&a.push(f);return a}p(kd,"arrayLikeKeys");var V_=kd;function Id(t,e){return function(n){return t(e(n))}}p(Id,"overArg");var J_=Id,Y_=J_(Object.keys,Object),X_=Y_,Q_=Object.prototype,eb=Q_.hasOwnProperty;function Ad(t){if(!l_(t))return X_(t);var e=[];for(var n in Object(t))eb.call(t,n)&&n!="constructor"&&e.push(n);return e}p(Ad,"baseKeys");var tb=Ad;function Cd(t){return a_(t)?V_(t):tb(t)}p(Cd,"keys");var Oa=Cd,nb=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rb=/^\w*$/;function Od(t,e){if(Lt(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||ka(t)?!0:rb.test(t)||!nb.test(t)||e!=null&&t in Object(e)}p(Od,"isKey");var Ra=Od,ib=xn(Object,"create"),Or=ib;function Rd(){this.__data__=Or?Or(null):{},this.size=0}p(Rd,"hashClear");var ob=Rd;function Md(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}p(Md,"hashDelete");var ab=Md,sb="__lodash_hash_undefined__",lb=Object.prototype,ub=lb.hasOwnProperty;function Dd(t){var e=this.__data__;if(Or){var n=e[t];return n===sb?void 0:n}return ub.call(e,t)?e[t]:void 0}p(Dd,"hashGet");var cb=Dd,fb=Object.prototype,db=fb.hasOwnProperty;function Nd(t){var e=this.__data__;return Or?e[t]!==void 0:db.call(e,t)}p(Nd,"hashHas");var pb=Nd,gb="__lodash_hash_undefined__";function Hd(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Or&&e===void 0?gb:e,this}p(Hd,"hashSet");var yb=Hd;function Bn(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}p(Bn,"Hash");Bn.prototype.clear=ob;Bn.prototype.delete=ab;Bn.prototype.get=cb;Bn.prototype.has=pb;Bn.prototype.set=yb;var Fc=Bn;function Ud(){this.__data__=[],this.size=0}p(Ud,"listCacheClear");var mb=Ud;function jd(t,e){for(var n=t.length;n--;)if(gd(t[n][0],e))return n;return-1}p(jd,"assocIndexOf");var oo=jd,hb=Array.prototype,vb=hb.splice;function $d(t){var e=this.__data__,n=oo(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():vb.call(e,n,1),--this.size,!0}p($d,"listCacheDelete");var Tb=$d;function Zd(t){var e=this.__data__,n=oo(e,t);return n<0?void 0:e[n][1]}p(Zd,"listCacheGet");var _b=Zd;function Ld(t){return oo(this.__data__,t)>-1}p(Ld,"listCacheHas");var bb=Ld;function Fd(t,e){var n=this.__data__,r=oo(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}p(Fd,"listCacheSet");var wb=Fd;function Pn(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}p(Pn,"ListCache");Pn.prototype.clear=mb;Pn.prototype.delete=Tb;Pn.prototype.get=_b;Pn.prototype.has=bb;Pn.prototype.set=wb;var ao=Pn,xb=xn(Ft,"Map"),Rr=xb;function Kd(){this.size=0,this.__data__={hash:new Fc,map:new(Rr||ao),string:new Fc}}p(Kd,"mapCacheClear");var Bb=Kd;function Wd(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}p(Wd,"isKeyable");var Pb=Wd;function qd(t,e){var n=t.__data__;return Pb(e)?n[typeof e=="string"?"string":"hash"]:n.map}p(qd,"getMapData");var so=qd;function zd(t){var e=so(this,t).delete(t);return this.size-=e?1:0,e}p(zd,"mapCacheDelete");var Eb=zd;function Gd(t){return so(this,t).get(t)}p(Gd,"mapCacheGet");var Sb=Gd;function Vd(t){return so(this,t).has(t)}p(Vd,"mapCacheHas");var kb=Vd;function Jd(t,e){var n=so(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}p(Jd,"mapCacheSet");var Ib=Jd;function En(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}p(En,"MapCache");En.prototype.clear=Bb;En.prototype.delete=Eb;En.prototype.get=Sb;En.prototype.has=kb;En.prototype.set=Ib;var lo=En,Ab="Expected a function";function uo(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Ab);var n=p(function(){var r=arguments,o=e?e.apply(this,r):r[0],s=n.cache;if(s.has(o))return s.get(o);var i=t.apply(this,r);return n.cache=s.set(o,i)||s,i},"memoized");return n.cache=new(uo.Cache||lo),n}p(uo,"memoize");uo.Cache=lo;var Cb=uo,Ob=500;function Yd(t){var e=Cb(t,function(r){return n.size===Ob&&n.clear(),r}),n=e.cache;return e}p(Yd,"memoizeCapped");var Rb=Yd,Mb=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Db=/\\(\\)?/g,Nb=Rb(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Mb,function(n,r,o,s){e.push(o?s.replace(Db,"$1"):r||n)}),e}),Hb=Nb;function Xd(t){return t==null?"":DT(t)}p(Xd,"toString");var Ub=Xd;function Qd(t,e){return Lt(t)?t:Ra(t,e)?[t]:Hb(Ub(t))}p(Qd,"castPath");var ep=Qd,jb=1/0;function tp(t){if(typeof t=="string"||ka(t))return t;var e=t+"";return e=="0"&&1/t==-jb?"-0":e}p(tp,"toKey");var co=tp;function np(t,e){e=ep(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[co(e[n++])];return n&&n==r?t:void 0}p(np,"baseGet");var rp=np;function ip(t,e,n){var r=t==null?void 0:rp(t,e);return r===void 0?n:r}p(ip,"get");var $b=ip;function op(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}p(op,"arrayPush");var Zb=op;function ap(){this.__data__=new ao,this.size=0}p(ap,"stackClear");var Lb=ap;function sp(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}p(sp,"stackDelete");var Fb=sp;function lp(t){return this.__data__.get(t)}p(lp,"stackGet");var Kb=lp;function up(t){return this.__data__.has(t)}p(up,"stackHas");var Wb=up,qb=200;function cp(t,e){var n=this.__data__;if(n instanceof ao){var r=n.__data__;if(!Rr||r.length<qb-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new lo(r)}return n.set(t,e),this.size=n.size,this}p(cp,"stackSet");var zb=cp;function Sn(t){var e=this.__data__=new ao(t);this.size=e.size}p(Sn,"Stack");Sn.prototype.clear=Lb;Sn.prototype.delete=Fb;Sn.prototype.get=Kb;Sn.prototype.has=Wb;Sn.prototype.set=zb;var di=Sn;function fp(t,e){for(var n=-1,r=t==null?0:t.length,o=0,s=[];++n<r;){var i=t[n];e(i,n,t)&&(s[o++]=i)}return s}p(fp,"arrayFilter");var Gb=fp;function dp(){return[]}p(dp,"stubArray");var Vb=dp,Jb=Object.prototype,Yb=Jb.propertyIsEnumerable,Kc=Object.getOwnPropertySymbols,Xb=Kc?function(t){return t==null?[]:(t=Object(t),Gb(Kc(t),function(e){return Yb.call(t,e)}))}:Vb,Qb=Xb;function pp(t,e,n){var r=e(t);return Lt(t)?r:Zb(r,n(t))}p(pp,"baseGetAllKeys");var ew=pp;function gp(t){return ew(t,Oa,Qb)}p(gp,"getAllKeys");var Wc=gp,tw=xn(Ft,"DataView"),fa=tw,nw=xn(Ft,"Promise"),da=nw,rw=xn(Ft,"Set"),pa=rw,qc="[object Map]",iw="[object Object]",zc="[object Promise]",Gc="[object Set]",Vc="[object WeakMap]",Jc="[object DataView]",ow=wn(fa),aw=wn(Rr),sw=wn(da),lw=wn(pa),uw=wn(ua),mn=nr;(fa&&mn(new fa(new ArrayBuffer(1)))!=Jc||Rr&&mn(new Rr)!=qc||da&&mn(da.resolve())!=zc||pa&&mn(new pa)!=Gc||ua&&mn(new ua)!=Vc)&&(mn=p(function(t){var e=nr(t),n=e==iw?t.constructor:void 0,r=n?wn(n):"";if(r)switch(r){case ow:return Jc;case aw:return qc;case sw:return zc;case lw:return Gc;case uw:return Vc}return e},"getTag"));var Yc=mn,cw=Ft.Uint8Array,Xc=cw,fw="__lodash_hash_undefined__";function yp(t){return this.__data__.set(t,fw),this}p(yp,"setCacheAdd");var dw=yp;function mp(t){return this.__data__.has(t)}p(mp,"setCacheHas");var pw=mp;function Mr(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new lo;++e<n;)this.add(t[e])}p(Mr,"SetCache");Mr.prototype.add=Mr.prototype.push=dw;Mr.prototype.has=pw;var gw=Mr;function hp(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}p(hp,"arraySome");var yw=hp;function vp(t,e){return t.has(e)}p(vp,"cacheHas");var mw=vp,hw=1,vw=2;function Tp(t,e,n,r,o,s){var i=n&hw,a=t.length,l=e.length;if(a!=l&&!(i&&l>a))return!1;var f=s.get(t),d=s.get(e);if(f&&d)return f==e&&d==t;var y=-1,g=!0,m=n&vw?new gw:void 0;for(s.set(t,e),s.set(e,t);++y<a;){var v=t[y],B=e[y];if(r)var P=i?r(B,v,y,e,t,s):r(v,B,y,t,e,s);if(P!==void 0){if(P)continue;g=!1;break}if(m){if(!yw(e,function(T,S){if(!mw(m,S)&&(v===T||o(v,T,n,r,s)))return m.push(S)})){g=!1;break}}else if(!(v===B||o(v,B,n,r,s))){g=!1;break}}return s.delete(t),s.delete(e),g}p(Tp,"equalArrays");var _p=Tp;function bp(t){var e=-1,n=Array(t.size);return t.forEach(function(r,o){n[++e]=[o,r]}),n}p(bp,"mapToArray");var Tw=bp;function wp(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}p(wp,"setToArray");var _w=wp,bw=1,ww=2,xw="[object Boolean]",Bw="[object Date]",Pw="[object Error]",Ew="[object Map]",Sw="[object Number]",kw="[object RegExp]",Iw="[object Set]",Aw="[object String]",Cw="[object Symbol]",Ow="[object ArrayBuffer]",Rw="[object DataView]",Qc=rn?rn.prototype:void 0,ia=Qc?Qc.valueOf:void 0;function xp(t,e,n,r,o,s,i){switch(n){case Rw:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Ow:return!(t.byteLength!=e.byteLength||!s(new Xc(t),new Xc(e)));case xw:case Bw:case Sw:return gd(+t,+e);case Pw:return t.name==e.name&&t.message==e.message;case kw:case Aw:return t==e+"";case Ew:var a=Tw;case Iw:var l=r&bw;if(a||(a=_w),t.size!=e.size&&!l)return!1;var f=i.get(t);if(f)return f==e;r|=ww,i.set(t,e);var d=_p(a(t),a(e),r,o,s,i);return i.delete(t),d;case Cw:if(ia)return ia.call(t)==ia.call(e)}return!1}p(xp,"equalByTag");var Mw=xp,Dw=1,Nw=Object.prototype,Hw=Nw.hasOwnProperty;function Bp(t,e,n,r,o,s){var i=n&Dw,a=Wc(t),l=a.length,f=Wc(e),d=f.length;if(l!=d&&!i)return!1;for(var y=l;y--;){var g=a[y];if(!(i?g in e:Hw.call(e,g)))return!1}var m=s.get(t),v=s.get(e);if(m&&v)return m==e&&v==t;var B=!0;s.set(t,e),s.set(e,t);for(var P=i;++y<l;){g=a[y];var T=t[g],S=e[g];if(r)var E=i?r(S,T,g,e,t,s):r(T,S,g,t,e,s);if(!(E===void 0?T===S||o(T,S,n,r,s):E)){B=!1;break}P||(P=g=="constructor")}if(B&&!P){var M=t.constructor,$=e.constructor;M!=$&&"constructor"in t&&"constructor"in e&&!(typeof M=="function"&&M instanceof M&&typeof $=="function"&&$ instanceof $)&&(B=!1)}return s.delete(t),s.delete(e),B}p(Bp,"equalObjects");var Uw=Bp,jw=1,ef="[object Arguments]",tf="[object Array]",ci="[object Object]",$w=Object.prototype,nf=$w.hasOwnProperty;function Pp(t,e,n,r,o,s){var i=Lt(t),a=Lt(e),l=i?tf:Yc(t),f=a?tf:Yc(e);l=l==ef?ci:l,f=f==ef?ci:f;var d=l==ci,y=f==ci,g=l==f;if(g&&ca(t)){if(!ca(e))return!1;i=!0,d=!1}if(g&&!d)return s||(s=new di),i||Sd(t)?_p(t,e,n,r,o,s):Mw(t,e,l,n,r,o,s);if(!(n&jw)){var m=d&&nf.call(t,"__wrapped__"),v=y&&nf.call(e,"__wrapped__");if(m||v){var B=m?t.value():t,P=v?e.value():e;return s||(s=new di),o(B,P,n,r,s)}}return g?(s||(s=new di),Uw(t,e,n,r,o,s)):!1}p(Pp,"baseIsEqualDeep");var Zw=Pp;function Ma(t,e,n,r,o){return t===e?!0:t==null||e==null||!Vn(t)&&!Vn(e)?t!==t&&e!==e:Zw(t,e,n,r,Ma,o)}p(Ma,"baseIsEqual");var Da=Ma,Lw=1,Fw=2;function Ep(t,e,n,r){var o=n.length,s=o,i=!r;if(t==null)return!s;for(t=Object(t);o--;){var a=n[o];if(i&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<s;){a=n[o];var l=a[0],f=t[l],d=a[1];if(i&&a[2]){if(f===void 0&&!(l in t))return!1}else{var y=new di;if(r)var g=r(f,d,l,t,e,y);if(!(g===void 0?Da(d,f,Lw|Fw,r,y):g))return!1}}return!0}p(Ep,"baseIsMatch");var Kw=Ep;function Sp(t){return t===t&&!Aa(t)}p(Sp,"isStrictComparable");var kp=Sp;function Ip(t){for(var e=Oa(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,kp(o)]}return e}p(Ip,"getMatchData");var Ww=Ip;function Ap(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}p(Ap,"matchesStrictComparable");var Cp=Ap;function Op(t){var e=Ww(t);return e.length==1&&e[0][2]?Cp(e[0][0],e[0][1]):function(n){return n===t||Kw(n,t,e)}}p(Op,"baseMatches");var qw=Op;function Rp(t,e){return t!=null&&e in Object(t)}p(Rp,"baseHasIn");var zw=Rp;function Mp(t,e,n){e=ep(e,t);for(var r=-1,o=e.length,s=!1;++r<o;){var i=co(e[r]);if(!(s=t!=null&&n(t,i)))break;t=t[i]}return s||++r!=o?s:(o=t==null?0:t.length,!!o&&Ca(o)&&fd(i,o)&&(Lt(t)||bd(t)))}p(Mp,"hasPath");var Gw=Mp;function Dp(t,e){return t!=null&&Gw(t,e,zw)}p(Dp,"hasIn");var Vw=Dp,Jw=1,Yw=2;function Np(t,e){return Ra(t)&&kp(e)?Cp(co(t),e):function(n){var r=$b(n,t);return r===void 0&&r===e?Vw(n,t):Da(e,r,Jw|Yw)}}p(Np,"baseMatchesProperty");var Xw=Np;function Hp(t){return function(e){return e?.[t]}}p(Hp,"baseProperty");var Qw=Hp;function Up(t){return function(e){return rp(e,t)}}p(Up,"basePropertyDeep");var ex=Up;function jp(t){return Ra(t)?Qw(co(t)):ex(t)}p(jp,"property");var tx=jp;function $p(t){return typeof t=="function"?t:t==null?NT:typeof t=="object"?Lt(t)?Xw(t[0],t[1]):qw(t):tx(t)}p($p,"baseIteratee");var nx=$p;function Zp(t){return function(e,n,r){for(var o=-1,s=Object(e),i=r(e),a=i.length;a--;){var l=i[t?a:++o];if(n(s[l],l,s)===!1)break}return e}}p(Zp,"createBaseFor");var rx=Zp,ix=rx(),ox=ix;function Lp(t,e){return t&&ox(t,e,Oa)}p(Lp,"baseForOwn");var ax=Lp;function Fp(t,e){return Da(t,e)}p(Fp,"isEqual");var Tn=Fp;function Kp(t,e){var n={};return e=nx(e,3),ax(t,function(r,o,s){i_(n,o,e(r,o,s))}),n}p(Kp,"mapValues");var sx=Kp;function Na(t){return Xe(t)}p(Na,"toTypescriptSchema");function Xe(t){let n=t._def;switch(n.typeName){case q.ZodFirstPartyTypeKind.ZodString:return`${pe(n.description)}z.string()`.trim();case q.ZodFirstPartyTypeKind.ZodNumber:return`${pe(n.description)}z.number()`.trim();case q.ZodFirstPartyTypeKind.ZodNaN:return`${pe(n.description)}z.nan()`.trim();case q.ZodFirstPartyTypeKind.ZodBigInt:return`${pe(n.description)}z.bigint()`.trim();case q.ZodFirstPartyTypeKind.ZodBoolean:return`${pe(t._def.description)}z.boolean()`.trim();case q.ZodFirstPartyTypeKind.ZodDate:return`${pe(n.description)}z.date()`.trim();case q.ZodFirstPartyTypeKind.ZodUndefined:return`${pe(n.description)}z.undefined()`.trim();case q.ZodFirstPartyTypeKind.ZodNull:return`${pe(n.description)}z.null()`.trim();case q.ZodFirstPartyTypeKind.ZodAny:return`${pe(n.description)}z.any()`.trim();case q.ZodFirstPartyTypeKind.ZodUnknown:return`${pe(n.description)}z.unknown()`.trim();case q.ZodFirstPartyTypeKind.ZodNever:return`${pe(n.description)}z.never()`.trim();case q.ZodFirstPartyTypeKind.ZodVoid:return`${pe(n.description)}z.void()`.trim();case q.ZodFirstPartyTypeKind.ZodArray:return`z.array(${Xe(n.type)})`;case q.ZodFirstPartyTypeKind.ZodObject:let r=sx(n.shape(),$=>$ instanceof q.Schema?Xe($):"z.any()");return[`${pe(n.description)}z.object({`,...Object.entries(r).map(([$,oe])=>`  ${$}: ${oe},`),"})"].join(`
`).trim();case q.ZodFirstPartyTypeKind.ZodUnion:let o=n.options.map(Xe);return`${pe(n.description)}z.union([${o.join(", ")}])`.trim();case q.ZodFirstPartyTypeKind.ZodDiscriminatedUnion:let s=n.options.map(Xe),i=jt(n.discriminator);return`${pe(n.description)}z.discriminatedUnion(${i}, [${s.join(", ")}])`.trim();case q.ZodFirstPartyTypeKind.ZodIntersection:let a=Xe(n.left),l=Xe(n.right);return`${pe(n.description)}z.intersection(${a}, ${l})`.trim();case q.ZodFirstPartyTypeKind.ZodTuple:let f=n.items.map(Xe);return`${pe(n.description)}z.tuple([${f.join(", ")}])`.trim();case q.ZodFirstPartyTypeKind.ZodRecord:let d=Xe(n.keyType),y=Xe(n.valueType);return`${pe(n.description)}z.record(${d}, ${y})`.trim();case q.ZodFirstPartyTypeKind.ZodMap:let g=Xe(n.keyType),m=Xe(n.valueType);return`${pe(n.description)}z.map(${g}, ${m})`.trim();case q.ZodFirstPartyTypeKind.ZodSet:return`${pe(n.description)}z.set(${Xe(n.valueType)})`.trim();case q.ZodFirstPartyTypeKind.ZodFunction:let v=n.args.items.map(Xe),B=v.length?`.args(${v.join(", ")})`:"",P=Xe(n.returns);return`${pe(n.description)}z.function()${B}.returns(${P})`.trim();case q.ZodFirstPartyTypeKind.ZodLazy:return`${pe(n.description)}z.lazy(() => ${Xe(n.getter())})`.trim();case q.ZodFirstPartyTypeKind.ZodLiteral:let T=jt(n.value);return`${pe(n.description)}z.literal(${T})`.trim();case q.ZodFirstPartyTypeKind.ZodEnum:let S=n.values.map(jt);return`${pe(n.description)}z.enum([${S.join(", ")}])`.trim();case q.ZodFirstPartyTypeKind.ZodEffects:throw new yn(q.ZodFirstPartyTypeKind.ZodEffects);case q.ZodFirstPartyTypeKind.ZodNativeEnum:throw new yn(q.ZodFirstPartyTypeKind.ZodNativeEnum);case q.ZodFirstPartyTypeKind.ZodOptional:return`${pe(n.description)}z.optional(${Xe(n.innerType)})`.trim();case q.ZodFirstPartyTypeKind.ZodNullable:return`${pe(n.description)}z.nullable(${Xe(n.innerType)})`.trim();case q.ZodFirstPartyTypeKind.ZodDefault:let E=xf(n.defaultValue());return`${pe(n.description)}${Xe(n.innerType)}.default(${E})`.trim();case q.ZodFirstPartyTypeKind.ZodCatch:throw new yn(q.ZodFirstPartyTypeKind.ZodCatch);case q.ZodFirstPartyTypeKind.ZodPromise:return`${pe(n.description)}z.promise(${Xe(n.type)})`.trim();case q.ZodFirstPartyTypeKind.ZodBranded:throw new yn(q.ZodFirstPartyTypeKind.ZodBranded);case q.ZodFirstPartyTypeKind.ZodPipeline:throw new yn(q.ZodFirstPartyTypeKind.ZodPipeline);case q.ZodFirstPartyTypeKind.ZodSymbol:throw new yn(q.ZodFirstPartyTypeKind.ZodSymbol);case q.ZodFirstPartyTypeKind.ZodReadonly:return`${pe(n.description)}z.readonly(${Xe(n.innerType)})`.trim();case q.ZodFirstPartyTypeKind.ZodRef:let M=jt(n.uri);return`${pe(n.description)}z.ref(${M})`.trim();default:be.assertNever(n)}}p(Xe,"sUnwrapZod");var Wp=class{constructor(e,n,r,o){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}};p(Wp,"ParseInputLazyPath");var Et=Wp,rf=p((t,e)=>{if(Nr(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let n=new $t(t.common.issues);return this._error=n,this._error}}},"handleResult"),qp=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}dereference(e){return this}getReferences(){return[]}_getType(e){return tn(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:tn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new gt,ctx:{common:e.parent.common,data:e.data,parsedType:tn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let n=this._parse(e);if(Bi(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){let n=this._parse(e);return Promise.resolve(n)}parse(e,n){let r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;let o={common:{issues:[],async:(r=n?.async)!=null?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tn(e)},s=this._parseSync({data:e,path:o.path,parent:o});return rf(o,s)}async parseAsync(e,n){let r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){let r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tn(e)},o=this._parse({data:e,path:r.path,parent:r}),s=await(Bi(o)?o:Promise.resolve(o));return rf(r,s)}refine(e,n){let r=p(o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n,"getIssueProperties");return this._refinement((o,s)=>{let i=e(o),a=p(()=>s.addIssue(x({code:z.custom},r(o))),"setError");return typeof Promise<"u"&&i instanceof Promise?i.then(l=>l?!0:(a(),!1)):i?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,o)=>e(r)?!0:(o.addIssue(typeof n=="function"?n(r,o):n),!1))}_refinement(e){return new bn({schema:this,typeName:"ZodEffects",effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return nn.create(this,this._def)}nullable(){return Jn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Hr.create(this,this._def)}promise(){return go.create(this,this._def)}or(e){return Xa.create([this,e],this._def)}and(e){return Ka.create(this,e,this._def)}transform(e){return new bn(H(x({},ge(this._def)),{schema:this,typeName:"ZodEffects",effect:{type:"transform",transform:e}}))}default(e){let n=typeof e=="function"?e:()=>e;return new fo(H(x({},ge(this._def)),{innerType:this,defaultValue:n,typeName:"ZodDefault"}))}brand(){return new $a(x({typeName:"ZodBranded",type:this},ge(this._def)))}catch(e){let n=typeof e=="function"?e:()=>e;return new Za(H(x({},ge(this._def)),{innerType:this,catchValue:n,typeName:"ZodCatch"}))}describe(e){let n=this.constructor;return new n(H(x({},this._def),{description:e}))}pipe(e){return Ja.create(this,e)}readonly(){return yo.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}metadata(e){for(let[n,r]of Object.entries(e))this._def[ke]=H(x({},this._def[ke]),{[n]:r});return this}getMetadata(){return x({},this._def[ke])}setMetadata(e){this._def[ke]=x({},e)}get ui(){let e=this._getMetadataRoot();return x({},e._def[ke])}_setZuiMeta(e,n){let r=this._getMetadataRoot();r._def[ke]=H(x({},r._def[ke]),{[e]:n})}_getMetadataRoot(){let e=this._def;switch(e.typeName){case"ZodNullable":case"ZodDefault":case"ZodOptional":case"ZodReadonly":return e.innerType;case"ZodEffects":return e.schema;default:return this}}displayAs(e){var n,r,o;return(o=(n=this._def)[r=ke])!=null||(n[r]={}),this._def[ke].displayAs=[e.id,e.params],this}title(e){return this._setZuiMeta("title",e),this}hidden(e){let n;return e===void 0?n=!0:typeof e=="function"?n=e.toString():n=e,this._setZuiMeta("hidden",n),this}disabled(e){let n;return e===void 0?n=!0:typeof e=="function"?n=e.toString():n=e,this._setZuiMeta("disabled",n),this}placeholder(e){return this._setZuiMeta("placeholder",e),this}toJsonSchema(e){return ns(this,e)}toTypescript(e){return bi(this,e)}toTypescriptSchema(){return Na(this)}async toTypescriptAsync(e){let n=bi(this,H(x({},e),{formatter:void 0}));return e?.formatter&&(n=await e.formatter(n)),n}static fromObject(e,n){return Ur(e,n)}static fromJsonSchema(e){return mo(e)}};p(qp,"ZodType");var ye=qp,zp=(t=>(t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodRef="ZodRef",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly",t))(zp||{}),be;(t=>{t.assertEqual=p(o=>o,"assertEqual");function e(o){}t.assertIs=e,p(e,"assertIs");function n(o){throw new Error("assertNever called")}t.assertNever=n,p(n,"assertNever"),t.arrayToEnum=p(o=>{let s={};for(let i of o)s[i]=i;return s},"arrayToEnum"),t.getValidEnumValues=p(o=>{let s=(0,t.objectKeys)(o).filter(a=>typeof o[o[a]]!="number"),i={};for(let a of s)i[a]=o[a];return(0,t.objectValues)(i)},"getValidEnumValues"),t.objectValues=p(o=>(0,t.objectKeys)(o).map(function(s){return o[s]}),"objectValues"),t.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{let s=[];for(let i in o)Object.prototype.hasOwnProperty.call(o,i)&&s.push(i);return s},t.find=p((o,s)=>{for(let i of o)if(s(i))return i},"find"),t.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function r(o,s=" | "){return o.map(i=>typeof i=="string"?`'${i}'`:i).join(s)}t.joinValues=r,p(r,"joinValues"),t.jsonStringifyReplacer=p((o,s)=>typeof s=="bigint"?s.toString():s,"jsonStringifyReplacer"),t.compareFunctions=p((o,s)=>o.toString()===s.toString(),"compareFunctions")})(be||(be={}));var ga;(t=>{t.mergeShapes=p((e,n)=>x(x({},e),n),"mergeShapes")})(ga||(ga={}));var ne=be.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),tn=p(t=>{switch(typeof t){case"undefined":return ne.undefined;case"string":return ne.string;case"number":return isNaN(t)?ne.nan:ne.number;case"boolean":return ne.boolean;case"function":return ne.function;case"bigint":return ne.bigint;case"symbol":return ne.symbol;case"object":return Array.isArray(t)?ne.array:t===null?ne.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ne.promise:typeof Map<"u"&&t instanceof Map?ne.map:typeof Set<"u"&&t instanceof Set?ne.set:typeof Date<"u"&&t instanceof Date?ne.date:ne.object;default:return ne.unknown}},"getParsedType");function ge(t){if(!t)return{};let{errorMap:e,invalid_type_error:n,required_error:r,description:o}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o,[ke]:t?.[ke]}:{errorMap:p((i,a)=>i.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},"customMap"),description:o,[ke]:t?.[ke]}}p(ge,"processCreateParams");var Ha=p((t,e)=>{let n;switch(t.code){case z.invalid_type:t.received===ne.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case z.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,be.jsonStringifyReplacer)}`;break;case z.unrecognized_keys:n=`Unrecognized key(s) in object: ${be.joinValues(t.keys,", ")}`;break;case z.invalid_union:n="Invalid input";break;case z.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${be.joinValues(t.options)}`;break;case z.invalid_enum_value:n=`Invalid enum value. Expected ${be.joinValues(t.options)}, received '${t.received}'`;break;case z.invalid_arguments:n="Invalid function arguments";break;case z.invalid_return_type:n="Invalid function return type";break;case z.invalid_date:n="Invalid date";break;case z.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:be.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case z.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case z.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case z.custom:n="Invalid input";break;case z.invalid_intersection_types:n="Intersection results could not be merged";break;case z.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case z.not_finite:n="Number must be finite";break;case z.unresolved_reference:n="Unresolved reference";break;default:n=e.defaultError,be.assertNever(t)}return{message:n}},"errorMap"),of=Ha,z=be.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite","unresolved_reference"]),lx=p(t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),"quotelessJson"),wi=class Gp extends Error{constructor(e){super(),this.issues=[],this.addIssue=p(r=>{this.issues=[...this.issues,r]},"addIssue"),this.addIssues=p((r=[])=>{this.issues=[...this.issues,...r]},"addIssues");let n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let n=e||function(s){return s.message},r={_errors:[]},o=p(s=>{for(let i of s.issues)if(i.code==="invalid_union")i.unionErrors.map(o);else if(i.code==="invalid_return_type")o(i.returnTypeError);else if(i.code==="invalid_arguments")o(i.argumentsError);else if(i.path.length===0)r._errors.push(n(i));else{let a=r,l=0;for(;l<i.path.length;){let f=i.path[l];l===i.path.length-1?(a[f]=a[f]||{_errors:[]},a[f]._errors.push(n(i))):a[f]=a[f]||{_errors:[]},a=a[f],l++}}},"processError");return o(this),r}static assert(e){if(!(e instanceof Gp))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,be.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){let n={},r=[];for(let o of this.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(e(o))):r.push(e(o));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}};p(wi,"ZodError");wi.create=p(t=>new wi(t),"create");var $t=wi,Vp=Ha;function Jp(t){Vp=t}p(Jp,"setErrorMap");function Dr(){return Vp}p(Dr,"getErrorMap");var xi=p(t=>{var e;let{data:n,path:r,errorMaps:o,issueData:s}=t,i=[...r,...s.path||[]],a=H(x({},s),{path:i}),l="",f=o.filter(d=>!!d).slice().reverse();for(let d of f)l=d(a,{data:n,defaultError:l}).message;return H(x({},s),{path:i,message:(e=s.message)!=null?e:l})},"makeIssue"),ux=[];function te(t,e){let n=xi({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Dr(),Ha].filter(r=>!!r)});t.common.issues.push(n)}p(te,"addIssueToContext");var Yp=class Xp{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){let r=[];for(let o of n){if(o.status==="aborted")return de;o.status==="dirty"&&e.dirty(),r.push(o.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){let r=[];for(let o of n)r.push({key:await o.key,value:await o.value});return Xp.mergeObjectSync(e,r)}static mergeObjectSync(e,n){let r={};for(let o of n){let{key:s,value:i}=o;if(s.status==="aborted"||i.status==="aborted")return de;s.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof i.value<"u"||o.alwaysSet)&&(r[s.value]=i.value)}return{status:e.value,value:r}}};p(Yp,"ParseStatus");var gt=Yp,de=Object.freeze({status:"aborted"}),Gn=p(t=>({status:"dirty",value:t}),"DIRTY"),ct=p(t=>({status:"valid",value:t}),"OK"),ya=p(t=>t.status==="aborted","isAborted"),ma=p(t=>t.status==="dirty","isDirty"),Nr=p(t=>t.status==="valid","isValid"),Bi=p(t=>typeof Promise<"u"&&t instanceof Promise,"isAsync"),se;(t=>{t.errToObj=p(e=>typeof e=="string"?{message:e}:e||{},"errToObj"),t.toString=p(e=>typeof e=="string"?e:e?.message,"toString")})(se||(se={}));var Pi=class Qp extends ye{constructor(){super(...arguments),this._any=!0}_parse(e){return ct(e.data)}isEqual(e){return e instanceof Qp}};p(Pi,"ZodAny");Pi.create=p(t=>new Pi(x({typeName:"ZodAny"},ge(t))),"create");var Ei=Pi,Si=class Fn extends ye{dereference(e){return new Fn(H(x({},this._def),{type:this._def.type.dereference(e)}))}getReferences(){return this._def.type.getReferences()}isEqual(e){var n,r,o,s,i,a;return e instanceof Fn?Tn((n=this._def.exactLength)==null?void 0:n.value,(r=e._def.exactLength)==null?void 0:r.value)&&Tn((o=this._def.maxLength)==null?void 0:o.value,(s=e._def.maxLength)==null?void 0:s.value)&&Tn((i=this._def.minLength)==null?void 0:i.value,(a=e._def.minLength)==null?void 0:a.value)&&this._def.type.isEqual(e._def.type):!1}_parse(e){let{ctx:n,status:r}=this._processInputParams(e),o=this._def;if(n.parsedType!==ne.array)return te(n,{code:z.invalid_type,expected:ne.array,received:n.parsedType}),de;if(o.exactLength!==null){let i=n.data.length>o.exactLength.value,a=n.data.length<o.exactLength.value;(i||a)&&(te(n,{code:i?z.too_big:z.too_small,minimum:a?o.exactLength.value:void 0,maximum:i?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),r.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(te(n,{code:z.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),r.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(te(n,{code:z.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((i,a)=>o.type._parseAsync(new Et(n,i,n.path,a)))).then(i=>gt.mergeArray(r,i));let s=[...n.data].map((i,a)=>o.type._parseSync(new Et(n,i,n.path,a)));return gt.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Fn(H(x({},this._def),{minLength:{value:e,message:se.toString(n)}}))}max(e,n){return new Fn(H(x({},this._def),{maxLength:{value:e,message:se.toString(n)}}))}length(e,n){return new Fn(H(x({},this._def),{exactLength:{value:e,message:se.toString(n)}}))}nonempty(e){return this.min(1,e)}};p(Si,"ZodArray");Si.create=p((t,e)=>new Si(x({type:t,minLength:null,maxLength:null,exactLength:null,typeName:"ZodArray"},ge(e))),"create");var Hr=Si,cx={compare:Tn},eg=class{constructor(e=[],n={}){this._options=x(x({},cx),n),this._items=[];for(let r of e)this.add(r)}get items(){return[...this._items]}get size(){return this._items.length}has(e){return this._items.some(n=>this._options.compare(n,e))}add(e){this.has(e)||this._items.push(e)}isEqual(e){return this.size!==e.size?!1:this.isSubsetOf(e)&&e.isSubsetOf(this)}isSubsetOf(e){return this.size>e.size?!1:this._items.every(n=>e.has(n))}};p(eg,"CustomSet");var tt=eg,ki=class pi extends ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ne.bigint){let s=this._getOrReturnCtx(e);return te(s,{code:z.invalid_type,expected:ne.bigint,received:s.parsedType}),de}let r,o=new gt;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:z.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:z.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),te(r,{code:z.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):be.assertNever(s);return{status:o.value,value:e.data}}isEqual(e){if(!(e instanceof pi)||this._def.coerce!==e._def.coerce)return!1;let n=new tt(this._def.checks),r=new tt(e._def.checks);return n.isEqual(r)}gte(e,n){return this.setLimit("min",e,!0,se.toString(n))}gt(e,n){return this.setLimit("min",e,!1,se.toString(n))}lte(e,n){return this.setLimit("max",e,!0,se.toString(n))}lt(e,n){return this.setLimit("max",e,!1,se.toString(n))}setLimit(e,n,r,o){return new pi(H(x({},this._def),{checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:se.toString(o)}]}))}_addCheck(e){return new pi(H(x({},this._def),{checks:[...this._def.checks,e]}))}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:se.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:se.toString(n)})}get minValue(){let e=null;for(let n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(let n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}};p(ki,"ZodBigInt");ki.create=p(t=>{var e;return new ki(x({checks:[],typeName:"ZodBigInt",coerce:(e=t?.coerce)!=null?e:!1},ge(t)))},"create");var Ua=ki,Ii=class tg extends ye{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==ne.boolean){let r=this._getOrReturnCtx(e);return te(r,{code:z.invalid_type,expected:ne.boolean,received:r.parsedType}),de}return ct(e.data)}isEqual(e){return e instanceof tg?this._def.coerce===e._def.coerce:!1}};p(Ii,"ZodBoolean");Ii.create=p(t=>new Ii(x({typeName:"ZodBoolean",coerce:t?.coerce||!1},ge(t))),"create");var ja=Ii,fx=Symbol("zod_brand"),ng=class rg extends ye{_parse(e){let{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}isEqual(e){return e instanceof rg?this._def.type.isEqual(e._def.type):!1}};p(ng,"ZodBranded");var $a=ng,Ai=class ig extends ye{_parse(e){let{ctx:n}=this._processInputParams(e),r=H(x({},n),{common:H(x({},n.common),{issues:[]})}),o=this._def.innerType._parse({data:r.data,path:r.path,parent:x({},r)});return Bi(o)?o.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new $t(r.common.issues)},input:r.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new $t(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}isEqual(e){return e instanceof ig?this._def.innerType.isEqual(e._def.innerType)&&be.compareFunctions(this._def.catchValue,e._def.catchValue):!1}};p(Ai,"ZodCatch");Ai.create=p((t,e)=>new Ai(x({innerType:t,typeName:"ZodCatch",catchValue:typeof e.catch=="function"?e.catch:()=>e.catch},ge(e))),"create");var Za=Ai,og=p((t,e={},n)=>t?Ei.create().superRefine((r,o)=>{var s,i;if(!t(r)){let a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(i=(s=a.fatal)!=null?s:n)!=null?i:!0,f=typeof a=="string"?{message:a}:a;o.addIssue(H(x({code:"custom"},f),{fatal:l}))}}):Ei.create(),"custom"),Ci=class ha extends ye{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ne.date){let s=this._getOrReturnCtx(e);return te(s,{code:z.invalid_type,expected:ne.date,received:s.parsedType}),de}if(isNaN(e.data.getTime())){let s=this._getOrReturnCtx(e);return te(s,{code:z.invalid_date}),de}let r=new gt,o;for(let s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(o=this._getOrReturnCtx(e,o),te(o,{code:z.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(o=this._getOrReturnCtx(e,o),te(o,{code:z.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):be.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ha(H(x({},this._def),{checks:[...this._def.checks,e]}))}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:se.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:se.toString(n)})}get minDate(){let e=null;for(let n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}isEqual(e){if(!(e instanceof ha))return!1;let n=new tt(this._def.checks),r=new tt(e._def.checks);return n.isEqual(r)&&this._def.coerce===e._def.coerce}};p(Ci,"ZodDate");Ci.create=p(t=>new Ci(x({checks:[],coerce:t?.coerce||!1,typeName:"ZodDate"},ge(t))),"create");var La=Ci,Oi=class va extends ye{_parse(e){let{ctx:n}=this._processInputParams(e),r=n.data;return n.parsedType===ne.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}dereference(e){return new va(H(x({},this._def),{innerType:this._def.innerType.dereference(e)}))}isEqual(e){return e instanceof va?this._def.innerType.isEqual(e._def.innerType)&&Tn(this._def.defaultValue(),e._def.defaultValue()):!1}};p(Oi,"ZodDefault");Oi.create=p((t,e,n)=>new Oi(x({innerType:t,typeName:"ZodDefault",defaultValue:typeof e=="function"?e:()=>e},ge(n))),"create");var fo=Oi,Kt=p(t=>Array.from(new Set(t)),"unique"),Ut=p(t=>t instanceof Wa?Ut(t.schema):t instanceof bn?Ut(t.innerType()):t instanceof qa?[t.value]:t instanceof rr?t.options:t instanceof za?be.objectValues(t.enum):t instanceof fo?Ut(t._def.innerType):t instanceof Ya?[void 0]:t instanceof Ga?[null]:t instanceof nn?[void 0,...Ut(t.unwrap())]:t instanceof Jn?[null,...Ut(t.unwrap())]:t instanceof $a||t instanceof yo?Ut(t.unwrap()):t instanceof Za?Ut(t._def.innerType):[],"getDiscriminator"),ag=class Kn extends ye{dereference(e){let n=this.options.map(o=>o.dereference(e)),r=Kn._getOptionsMap(this.discriminator,n);return new Kn(H(x({},this._def),{options:n,optionsMap:r}))}getReferences(){return Kt(this.options.flatMap(e=>e.getReferences()))}_parse(e){let{ctx:n}=this._processInputParams(e);if(n.parsedType!==ne.object)return te(n,{code:z.invalid_type,expected:ne.object,received:n.parsedType}),de;let r=this.discriminator,o=n.data[r],s=this.optionsMap.get(o);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(te(n,{code:z.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),de)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){let o=Kn._getOptionsMap(e,n);return new Kn(x({typeName:"ZodDiscriminatedUnion",discriminator:e,options:n,optionsMap:o},ge(r)))}static _getOptionsMap(e,n){let r=new Map;for(let o of n){let s=Ut(o.shape[e]);if(!s.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let i of s){if(r.has(i))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);r.set(i,o)}}return r}isEqual(e){if(!(e instanceof Kn)||this._def.discriminator!==e._def.discriminator)return!1;let n=p((s,i)=>s.isEqual(i),"compare"),r=new tt(this._def.options,{compare:n}),o=new tt(e._def.options,{compare:n});return r.isEqual(o)}};p(ag,"ZodDiscriminatedUnion");var sg=ag;function po(t,e){return new rr(x({values:t,typeName:"ZodEnum"},ge(e)))}p(po,"createZodEnum");var Fa=class gi extends ye{_parse(e){if(typeof e.data!="string"){let n=this._getOrReturnCtx(e),r=this._def.values;return te(n,{expected:be.joinValues(r),received:n.parsedType,code:z.invalid_type}),de}if(this._def.values.indexOf(e.data)===-1){let n=this._getOrReturnCtx(e),r=this._def.values;return te(n,{received:n.data,code:z.invalid_enum_value,options:r}),de}return ct(e.data)}get options(){return this._def.values}get enum(){let e={};for(let n of this._def.values)e[n]=n;return e}get Values(){let e={};for(let n of this._def.values)e[n]=n;return e}get Enum(){let e={};for(let n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return gi.create(e,x(x({},this._def),n))}exclude(e,n=this._def){return gi.create(this.options.filter(r=>!e.includes(r)),x(x({},this._def),n))}isEqual(e){if(!(e instanceof gi))return!1;let n=new tt(this._def.values),r=new tt(e._def.values);return n.isEqual(r)}};p(Fa,"ZodEnum");Fa.create=po;var rr=Fa,lg=class Wn extends ye{constructor(){super(...arguments),this.validate=this.implement}dereference(e){let n=this._def.args.dereference(e),r=this._def.returns.dereference(e);return new Wn(H(x({},this._def),{args:n,returns:r}))}getReferences(){return Kt([...this._def.args.getReferences(),...this._def.returns.getReferences()])}_parse(e){let{ctx:n}=this._processInputParams(e);if(n.parsedType!==ne.function)return te(n,{code:z.invalid_type,expected:ne.function,received:n.parsedType}),de;function r(a,l){return xi({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Dr(),of].filter(f=>!!f),issueData:{code:z.invalid_arguments,argumentsError:l}})}p(r,"makeArgsIssue");function o(a,l){return xi({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Dr(),of].filter(f=>!!f),issueData:{code:z.invalid_return_type,returnTypeError:l}})}p(o,"makeReturnsIssue");let s={errorMap:n.common.contextualErrorMap},i=n.data;if(this._def.returns instanceof go){let a=this;return ct(async function(...l){let f=new $t([]),d=await a._def.args.parseAsync(l,s).catch(m=>{throw f.addIssue(r(l,m)),f}),y=await Reflect.apply(i,this,d);return await a._def.returns._def.type.parseAsync(y,s).catch(m=>{throw f.addIssue(o(y,m)),f})})}else{let a=this;return ct(function(...l){let f=a._def.args.safeParse(l,s);if(!f.success)throw new $t([r(l,f.error)]);let d=Reflect.apply(i,this,f.data),y=a._def.returns.safeParse(d,s);if(!y.success)throw new $t([o(d,y.error)]);return y.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Wn(H(x({},this._def),{args:Qn.create(e).rest(Ar.create())}))}returns(e){return new Wn(H(x({},this._def),{returns:e}))}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Wn(x({args:e||Qn.create([]).rest(Ar.create()),returns:n||Ar.create(),typeName:"ZodFunction"},ge(r)))}isEqual(e){return e instanceof Wn&&this._def.args.isEqual(e._def.args)&&this._def.returns.isEqual(e._def.returns)}};p(lg,"ZodFunction");var ug=lg;function Ri(t,e){let n=tn(t),r=tn(e);if(t===e)return{valid:!0,data:t};if(n===ne.object&&r===ne.object){let o=be.objectKeys(e),s=be.objectKeys(t).filter(a=>o.indexOf(a)!==-1),i=x(x({},t),e);for(let a of s){let l=Ri(t[a],e[a]);if(!l.valid)return{valid:!1};i[a]=l.data}return{valid:!0,data:i}}else if(n===ne.array&&r===ne.array){if(t.length!==e.length)return{valid:!1};let o=[];for(let s=0;s<t.length;s++){let i=t[s],a=e[s],l=Ri(i,a);if(!l.valid)return{valid:!1};o.push(l.data)}return{valid:!0,data:o}}else return n===ne.date&&r===ne.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}p(Ri,"mergeValues");var Mi=class Ta extends ye{dereference(e){return new Ta(H(x({},this._def),{left:this._def.left.dereference(e),right:this._def.right.dereference(e)}))}getReferences(){return Kt([...this._def.left.getReferences(),...this._def.right.getReferences()])}_parse(e){let{status:n,ctx:r}=this._processInputParams(e),o=p((s,i)=>{if(ya(s)||ya(i))return de;let a=Ri(s.value,i.value);return a.valid?((ma(s)||ma(i))&&n.dirty(),{status:n.value,value:a.data}):(te(r,{code:z.invalid_intersection_types}),de)},"handleParsed");return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,i])=>o(s,i)):o(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}isEqual(e){if(!(e instanceof Ta))return!1;let n=p((s,i)=>s.isEqual(i),"compare"),r=new tt([this._def.left,this._def.right],{compare:n}),o=new tt([e._def.left,e._def.right],{compare:n});return r.isEqual(o)}};p(Mi,"ZodIntersection");Mi.create=p((t,e,n)=>new Mi(x({left:t,right:e,typeName:"ZodIntersection"},ge(n))),"create");var Ka=Mi,Di=class cg extends ye{get schema(){return this._def.getter()}_parse(e){let{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}isEqual(e){return e instanceof cg?this._def.getter().isEqual(e._def.getter()):!1}};p(Di,"ZodLazy");Di.create=p((t,e)=>new Di(x({getter:t,typeName:"ZodLazy"},ge(e))),"create");var Wa=Di,Ni=class fg extends ye{_parse(e){if(e.data!==this._def.value){let n=this._getOrReturnCtx(e);return te(n,{received:n.data,code:z.invalid_literal,expected:this._def.value}),de}return{status:"valid",value:e.data}}get value(){return this._def.value}isEqual(e){return e instanceof fg?Tn(this._def.value,e._def.value):!1}};p(Ni,"ZodLiteral");Ni.create=p((t,e)=>new Ni(x({value:t,typeName:"ZodLiteral"},ge(e))),"create");var qa=Ni,Hi=class _a extends ye{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}dereference(e){let n=this._def.keyType.dereference(e),r=this._def.valueType.dereference(e);return new _a(H(x({},this._def),{keyType:n,valueType:r}))}getReferences(){return Kt([...this._def.keyType.getReferences(),...this._def.valueType.getReferences()])}_parse(e){let{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ne.map)return te(r,{code:z.invalid_type,expected:ne.map,received:r.parsedType}),de;let o=this._def.keyType,s=this._def.valueType,i=[...r.data.entries()].map(([a,l],f)=>({key:o._parse(new Et(r,a,r.path,[f,"key"])),value:s._parse(new Et(r,l,r.path,[f,"value"]))}));if(r.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let l of i){let f=await l.key,d=await l.value;if(f.status==="aborted"||d.status==="aborted")return de;(f.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(f.value,d.value)}return{status:n.value,value:a}})}else{let a=new Map;for(let l of i){let f=l.key,d=l.value;if(f.status==="aborted"||d.status==="aborted")return de;(f.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(f.value,d.value)}return{status:n.value,value:a}}}isEqual(e){return!(!(e instanceof _a)||!this._def.keyType.isEqual(e._def.keyType)||!this._def.valueType.isEqual(e._def.valueType))}};p(Hi,"ZodMap");Hi.create=p((t,e,n)=>new Hi(x({valueType:e,keyType:t,typeName:"ZodMap"},ge(n))),"create");var dg=Hi,Ui=class pg extends ye{_parse(e){if(this._getType(e)!==ne.nan){let r=this._getOrReturnCtx(e);return te(r,{code:z.invalid_type,expected:ne.nan,received:r.parsedType}),de}return{status:"valid",value:e.data}}isEqual(e){return e instanceof pg}};p(Ui,"ZodNaN");Ui.create=p(t=>new Ui(x({typeName:"ZodNaN"},ge(t))),"create");var gg=Ui,ji=class yg extends ye{_parse(e){let n=be.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ne.string&&r.parsedType!==ne.number){let o=be.objectValues(n);return te(r,{expected:be.joinValues(o),received:r.parsedType,code:z.invalid_type}),de}if(n.indexOf(e.data)===-1){let o=be.objectValues(n);return te(r,{received:r.data,code:z.invalid_enum_value,options:o}),de}return ct(e.data)}get enum(){return this._def.values}isEqual(e){return e instanceof yg?Tn(this._def.values,e._def.values):!1}};p(ji,"ZodNativeEnum");ji.create=p((t,e)=>new ji(x({values:t,typeName:"ZodNativeEnum"},ge(e))),"create");var za=ji,$i=class mg extends ye{_parse(e){let n=this._getOrReturnCtx(e);return te(n,{code:z.invalid_type,expected:ne.never,received:n.parsedType}),de}isEqual(e){return e instanceof mg}};p($i,"ZodNever");$i.create=p(t=>new $i(x({typeName:"ZodNever"},ge(t))),"create");var _n=$i,Zi=class hg extends ye{_parse(e){if(this._getType(e)!==ne.null){let r=this._getOrReturnCtx(e);return te(r,{code:z.invalid_type,expected:ne.null,received:r.parsedType}),de}return ct(e.data)}isEqual(e){return e instanceof hg}};p(Zi,"ZodNull");Zi.create=p(t=>new Zi(x({typeName:"ZodNull"},ge(t))),"create");var Ga=Zi,Li=class ba extends ye{dereference(e){return new ba(H(x({},this._def),{innerType:this._def.innerType.dereference(e)}))}getReferences(){return this._def.innerType.getReferences()}_parse(e){return this._getType(e)===ne.null?ct(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}isEqual(e){return e instanceof ba?this._def.innerType.isEqual(e._def.innerType):!1}};p(Li,"ZodNullable");Li.create=p((t,e)=>new Li(x({innerType:t,typeName:"ZodNullable"},ge(e))),"create");var Jn=Li;function vg(t,e){let n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,o=n>r?n:r,s=parseInt(t.toFixed(o).replace(".","")),i=parseInt(e.toFixed(o).replace(".",""));return s%i/Math.pow(10,o)}p(vg,"floatSafeRemainder");var Fi=class yi extends ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ne.number){let s=this._getOrReturnCtx(e);return te(s,{code:z.invalid_type,expected:ne.number,received:s.parsedType}),de}let r,o=new gt;for(let s of this._def.checks)s.kind==="int"?be.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{code:z.invalid_type,expected:"integer",received:"float",message:s.message}),o.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:z.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:z.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="multipleOf"?vg(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),te(r,{code:z.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{code:z.not_finite,message:s.message}),o.dirty()):be.assertNever(s);return{status:o.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,se.toString(n))}gt(e,n){return this.setLimit("min",e,!1,se.toString(n))}lte(e,n){return this.setLimit("max",e,!0,se.toString(n))}lt(e,n){return this.setLimit("max",e,!1,se.toString(n))}setLimit(e,n,r,o){return new yi(H(x({},this._def),{checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:se.toString(o)}]}))}_addCheck(e){return new yi(H(x({},this._def),{checks:[...this._def.checks,e]}))}int(e){return this._addCheck({kind:"int",message:se.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:se.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:se.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:se.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:se.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:se.toString(e)})}get minValue(){let e=null;for(let n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(let n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&be.isInteger(e.value))}get isFinite(){let e=null,n=null;for(let r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}isEqual(e){if(!(e instanceof yi))return!1;let n=new tt(this._def.checks),r=new tt(e._def.checks);return n.isEqual(r)}};p(Fi,"ZodNumber");Fi.create=p(t=>new Fi(x({checks:[],typeName:"ZodNumber",coerce:t?.coerce||!1},ge(t))),"create");var Va=Fi;function vn(t){if(t instanceof Yn){let e={};for(let n in t.shape){let r=t.shape[n];e[n]=nn.create(vn(r))}return new Yn(H(x({},t._def),{shape:p(()=>e,"shape")}))}else return t instanceof Hr?new Hr(H(x({},t._def),{type:vn(t.element)})):t instanceof nn?nn.create(vn(t.unwrap())):t instanceof Jn?Jn.create(vn(t.unwrap())):t instanceof Qn?Qn.create(t.items.map(e=>vn(e))):t}p(vn,"deepPartialify");var on=class Tt extends ye{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),n=be.objectKeys(e);return this._cached={shape:e,keys:n}}dereference(e){let n=this._def.shape(),r={};for(let o in n)r[o]=n[o].dereference(e);return new Tt(H(x({},this._def),{shape:p(()=>r,"shape")}))}getReferences(){let e=this._def.shape(),n=[];for(let r in e)n.push(...e[r].getReferences());return Kt(n)}_parse(e){if(this._getType(e)!==ne.object){let f=this._getOrReturnCtx(e);return te(f,{code:z.invalid_type,expected:ne.object,received:f.parsedType}),de}let{status:r,ctx:o}=this._processInputParams(e),{shape:s,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof _n&&this._def.unknownKeys==="strip"))for(let f in o.data)i.includes(f)||a.push(f);let l=[];for(let f of i){let d=s[f],y=o.data[f];l.push({key:{status:"valid",value:f},value:d._parse(new Et(o,y,o.path,f)),alwaysSet:f in o.data})}if(this._def.catchall instanceof _n){let f=this._def.unknownKeys;if(f==="passthrough")for(let d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:o.data[d]}});else if(f==="strict")a.length>0&&(te(o,{code:z.unrecognized_keys,keys:a}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let f=this._def.catchall;for(let d of a){let y=o.data[d];l.push({key:{status:"valid",value:d},value:f._parse(new Et(o,y,o.path,d)),alwaysSet:d in o.data})}}return o.common.async?Promise.resolve().then(async()=>{let f=[];for(let d of l){let y=await d.key;f.push({key:y,value:await d.value,alwaysSet:d.alwaysSet})}return f}).then(f=>gt.mergeObjectSync(r,f)):gt.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return se.errToObj,new Tt(x(H(x({},this._def),{unknownKeys:"strict"}),e!==void 0?{errorMap:p((n,r)=>{var o,s,i,a;let l=(i=(s=(o=this._def).errorMap)==null?void 0:s.call(o,n,r).message)!=null?i:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=se.errToObj(e).message)!=null?a:l}:{message:l}},"errorMap")}:{}))}strip(){return new Tt(H(x({},this._def),{unknownKeys:"strip"}))}passthrough(){return new Tt(H(x({},this._def),{unknownKeys:"passthrough"}))}extend(e){return new Tt(H(x({},this._def),{shape:p(()=>x(x({},this._def.shape()),e),"shape")}))}merge(e){return new Tt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:p(()=>x(x({},this._def.shape()),e._def.shape()),"shape"),typeName:"ZodObject"})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Tt(H(x({},this._def),{catchall:e}))}pick(e){let n={};return be.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Tt(H(x({},this._def),{shape:p(()=>n,"shape")}))}omit(e){let n={};return be.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Tt(H(x({},this._def),{shape:p(()=>n,"shape")}))}deepPartial(){return vn(this)}partial(e){let n={};return be.objectKeys(this.shape).forEach(r=>{let o=this.shape[r];e&&!e[r]?n[r]=o:n[r]=o?.optional()}),new Tt(H(x({},this._def),{shape:p(()=>n,"shape")}))}required(e){let n={};return be.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof nn;)s=s._def.innerType;n[r]=s}}),new Tt(H(x({},this._def),{shape:p(()=>n,"shape")}))}keyof(){return po(be.objectKeys(this.shape))}isEqual(e){if(!(e instanceof Tt)||!this._def.catchall.isEqual(e._def.catchall)||this._def.unknownKeys!==e._def.unknownKeys)return!1;let n=this._def.shape(),r=e._def.shape(),o=p((a,l)=>a[0]===l[0]&&a[1].isEqual(l[1]),"compare"),s=new tt(Object.entries(n),{compare:o}),i=new tt(Object.entries(r),{compare:o});return s.isEqual(i)}};p(on,"ZodObject");on.create=p((t,e)=>new on(x({shape:p(()=>t,"shape"),unknownKeys:"strip",catchall:_n.create(),typeName:"ZodObject"},ge(e))),"create");on.strictCreate=p((t,e)=>new on(x({shape:p(()=>t,"shape"),unknownKeys:"strict",catchall:_n.create(),typeName:"ZodObject"},ge(e))),"strictCreate");on.lazycreate=p((t,e)=>new on(x({shape:t,unknownKeys:"strip",catchall:_n.create(),typeName:"ZodObject"},ge(e))),"lazycreate");var Yn=on,Ki=class wa extends ye{dereference(e){return new wa(H(x({},this._def),{innerType:this._def.innerType.dereference(e)}))}getReferences(){return this._def.innerType.getReferences()}_parse(e){return this._getType(e)===ne.undefined?ct(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}isEqual(e){return e instanceof wa?this._def.innerType.isEqual(e._def.innerType):!1}};p(Ki,"ZodOptional");Ki.create=p((t,e)=>new Ki(x({innerType:t,typeName:"ZodOptional"},ge(e))),"create");var nn=Ki,Tg=class mi extends ye{dereference(e){return new mi(H(x({},this._def),{in:this._def.in.dereference(e),out:this._def.out.dereference(e)}))}getReferences(){return Kt([...this._def.in.getReferences(),...this._def.out.getReferences()])}_parse(e){let{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return p(async()=>{let s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?de:s.status==="dirty"?(n.dirty(),Gn(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})},"handleAsync")();{let o=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?de:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:r.path,parent:r})}}static create(e,n){return new mi({in:e,out:n,typeName:"ZodPipeline"})}isEqual(e){return!(!(e instanceof mi)||!this._def.in.isEqual(e._def.in)||!this._def.out.isEqual(e._def.out))}};p(Tg,"ZodPipeline");var Ja=Tg,Wi=class xa extends ye{unwrap(){return this._def.type}dereference(e){return new xa(H(x({},this._def),{type:this._def.type.dereference(e)}))}getReferences(){return this._def.type.getReferences()}_parse(e){let{ctx:n}=this._processInputParams(e);if(n.parsedType!==ne.promise&&n.common.async===!1)return te(n,{code:z.invalid_type,expected:ne.promise,received:n.parsedType}),de;let r=n.parsedType===ne.promise?n.data:Promise.resolve(n.data);return ct(r.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}isEqual(e){return e instanceof xa?this._def.type.isEqual(e._def.type):!1}};p(Wi,"ZodPromise");Wi.create=p((t,e)=>new Wi(x({type:t,typeName:"ZodPromise"},ge(e))),"create");var go=Wi,qi=class Ba extends ye{dereference(e){return new Ba(H(x({},this._def),{innerType:this._def.innerType.dereference(e)}))}getReferences(){return this._def.innerType.getReferences()}_parse(e){let n=this._def.innerType._parse(e);return Nr(n)&&(n.value=Object.freeze(n.value)),n}unwrap(){return this._def.innerType}isEqual(e){return e instanceof Ba?this._def.innerType.isEqual(e._def.innerType):!1}};p(qi,"ZodReadonly");qi.create=p((t,e)=>new qi(x({innerType:t,typeName:"ZodReadonly"},ge(e))),"create");var yo=qi,_g=class Pr extends ye{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}dereference(e){let n=this._def.keyType.dereference(e),r=this._def.valueType.dereference(e);return new Pr(H(x({},this._def),{keyType:n,valueType:r}))}getReferences(){return Kt([...this._def.keyType.getReferences(),...this._def.valueType.getReferences()])}_parse(e){let{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ne.object)return te(r,{code:z.invalid_type,expected:ne.object,received:r.parsedType}),de;let o=[],s=this._def.keyType,i=this._def.valueType;for(let a in r.data)o.push({key:s._parse(new Et(r,a,r.path,a)),value:i._parse(new Et(r,r.data[a],r.path,a))});return r.common.async?gt.mergeObjectAsync(n,o):gt.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof ye?new Pr(x({keyType:e,valueType:n,typeName:"ZodRecord"},ge(r))):new Pr(x({keyType:ft.create(),valueType:e,typeName:"ZodRecord"},ge(n)))}isEqual(e){return!(!(e instanceof Pr)||!this._def.keyType.isEqual(e._def.keyType)||!this._def.valueType.isEqual(e._def.valueType))}};p(_g,"ZodRecord");var bg=_g,zi=class wg extends ye{dereference(e){let n=e[this._def.uri];return n||this}getReferences(){return[this._def.uri]}_parse(e){let n=this._getOrReturnCtx(e);return te(n,{code:z.unresolved_reference}),de}isOptional(){return!1}isNullable(){return!1}isEqual(e){return e instanceof wg?this._def.uri===e._def.uri:!1}};p(zi,"ZodRef");zi.create=p(t=>new zi({typeName:"ZodRef",uri:t}),"create");var xg=zi,Gi=class Er extends ye{dereference(e){return new Er(H(x({},this._def),{valueType:this._def.valueType.dereference(e)}))}getReferences(){return this._def.valueType.getReferences()}_parse(e){let{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ne.set)return te(r,{code:z.invalid_type,expected:ne.set,received:r.parsedType}),de;let o=this._def;o.minSize!==null&&r.data.size<o.minSize.value&&(te(r,{code:z.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&r.data.size>o.maxSize.value&&(te(r,{code:z.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());let s=this._def.valueType;function i(l){let f=new Set;for(let d of l){if(d.status==="aborted")return de;d.status==="dirty"&&n.dirty(),f.add(d.value)}return{status:n.value,value:f}}p(i,"finalizeSet");let a=[...r.data.values()].map((l,f)=>s._parse(new Et(r,l,r.path,f)));return r.common.async?Promise.all(a).then(l=>i(l)):i(a)}min(e,n){return new Er(H(x({},this._def),{minSize:{value:e,message:se.toString(n)}}))}max(e,n){return new Er(H(x({},this._def),{maxSize:{value:e,message:se.toString(n)}}))}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}isEqual(e){var n,r,o,s;if(!(e instanceof Er))return!1;let i=(n=this._def.minSize)==null?void 0:n.value,a=(r=e._def.minSize)==null?void 0:r.value;if(i!==a)return!1;let l=(o=this._def.maxSize)==null?void 0:o.value,f=(s=e._def.maxSize)==null?void 0:s.value;return l!==f?!1:this._def.valueType.isEqual(e._def.valueType)}};p(Gi,"ZodSet");Gi.create=p((t,e)=>new Gi(x({valueType:t,minSize:null,maxSize:null,typeName:"ZodSet"},ge(e))),"create");var Bg=Gi,Pg=/^c[^\s-]{8,}$/i,Eg=/^[a-z][a-z0-9]*$/,Sg=/^[0-9A-HJKMNP-TV-Z]{26}$/,kg=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ig=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Ag="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",dx=p(t=>t===Ag,"isEmojiRegex"),oa,Cg=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Og=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Rg=p(t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$"),"datetimeRegex");function Mg(t,e){return!!((e==="v4"||!e)&&Cg.test(t)||(e==="v6"||!e)&&Og.test(t))}p(Mg,"isValidIP");var Vi=class qn extends ye{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ne.string){let s=this._getOrReturnCtx(e);return te(s,{code:z.invalid_type,expected:ne.string,received:s.parsedType}),de}let r=new gt,o;for(let s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(o=this._getOrReturnCtx(e,o),te(o,{code:z.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(o=this._getOrReturnCtx(e,o),te(o,{code:z.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){let i=e.data.length>s.value,a=e.data.length<s.value;(i||a)&&(o=this._getOrReturnCtx(e,o),i?te(o,{code:z.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&te(o,{code:z.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")Ig.test(e.data)||(o=this._getOrReturnCtx(e,o),te(o,{validation:"email",code:z.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")oa||(oa=new RegExp(Ag,"u")),oa.test(e.data)||(o=this._getOrReturnCtx(e,o),te(o,{validation:"emoji",code:z.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")kg.test(e.data)||(o=this._getOrReturnCtx(e,o),te(o,{validation:"uuid",code:z.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")Pg.test(e.data)||(o=this._getOrReturnCtx(e,o),te(o,{validation:"cuid",code:z.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")Eg.test(e.data)||(o=this._getOrReturnCtx(e,o),te(o,{validation:"cuid2",code:z.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")Sg.test(e.data)||(o=this._getOrReturnCtx(e,o),te(o,{validation:"ulid",code:z.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),te(o,{validation:"url",code:z.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),te(o,{validation:"regex",code:z.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(o=this._getOrReturnCtx(e,o),te(o,{code:z.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(o=this._getOrReturnCtx(e,o),te(o,{code:z.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(o=this._getOrReturnCtx(e,o),te(o,{code:z.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Rg(s).test(e.data)||(o=this._getOrReturnCtx(e,o),te(o,{code:z.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="ip"?Mg(e.data,s.version)||(o=this._getOrReturnCtx(e,o),te(o,{validation:"ip",code:z.invalid_string,message:s.message}),r.dirty()):be.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(o=>e.test(o),x({validation:n,code:z.invalid_string},se.errToObj(r)))}_addCheck(e){return new qn(H(x({},this._def),{checks:[...this._def.checks,e]}))}email(e){return this._addCheck(x({kind:"email"},se.errToObj(e)))}url(e){return this._addCheck(x({kind:"url"},se.errToObj(e)))}emoji(e){return this._addCheck(x({kind:"emoji"},se.errToObj(e)))}uuid(e){return this._addCheck(x({kind:"uuid"},se.errToObj(e)))}cuid(e){return this._addCheck(x({kind:"cuid"},se.errToObj(e)))}cuid2(e){return this._addCheck(x({kind:"cuid2"},se.errToObj(e)))}ulid(e){return this._addCheck(x({kind:"ulid"},se.errToObj(e)))}ip(e){return this._addCheck(x({kind:"ip"},se.errToObj(e)))}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck(x({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!=null?n:!1},se.errToObj(e?.message)))}regex(e,n){return this._addCheck(x({kind:"regex",regex:e},se.errToObj(n)))}includes(e,n){return this._addCheck(x({kind:"includes",value:e,position:n?.position},se.errToObj(n?.message)))}startsWith(e,n){return this._addCheck(x({kind:"startsWith",value:e},se.errToObj(n)))}endsWith(e,n){return this._addCheck(x({kind:"endsWith",value:e},se.errToObj(n)))}min(e,n){return this._addCheck(x({kind:"min",value:e},se.errToObj(n)))}max(e,n){return this._addCheck(x({kind:"max",value:e},se.errToObj(n)))}length(e,n){return this._addCheck(x({kind:"length",value:e},se.errToObj(n)))}nonempty(e){return this.min(1,se.errToObj(e))}trim(){return new qn(H(x({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}secret(){return this._def[ke]=H(x({},this._def[ke]),{secret:!0}),this}toLowerCase(){return new qn(H(x({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new qn(H(x({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(let n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(let n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}isEqual(e){if(!(e instanceof qn))return!1;let n=new tt(this._def.checks),r=new tt(e._def.checks);return n.isEqual(r)}};p(Vi,"ZodString");Vi.create=p(t=>{var e;return new Vi(x({checks:[],typeName:"ZodString",coerce:(e=t?.coerce)!=null?e:!1},ge(t)))},"create");var ft=Vi,Ji=class Dg extends ye{_parse(e){if(this._getType(e)!==ne.symbol){let r=this._getOrReturnCtx(e);return te(r,{code:z.invalid_type,expected:ne.symbol,received:r.parsedType}),de}return ct(e.data)}isEqual(e){return e instanceof Dg}};p(Ji,"ZodSymbol");Ji.create=p(t=>new Ji(x({typeName:"ZodSymbol"},ge(t))),"create");var Ng=Ji,Xn=class Pa extends ye{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName==="ZodEffects"?this._def.schema.sourceType():this._def.schema}dereference(e){return new Pa(H(x({},this._def),{schema:this._def.schema.dereference(e)}))}getReferences(){return this._def.schema.getReferences()}_parse(e){let{status:n,ctx:r}=this._processInputParams(e),o=this._def.effect||null,s={addIssue:p(i=>{te(r,i),i.fatal?n.abort():n.dirty()},"addIssue"),get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),o.type==="preprocess"){let i=o.transform(r.data,s);if(r.common.async)return Promise.resolve(i).then(async a=>{if(n.value==="aborted")return de;let l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?de:l.status==="dirty"||n.value==="dirty"?Gn(l.value):l});{if(n.value==="aborted")return de;let a=this._def.schema._parseSync({data:i,path:r.path,parent:r});return a.status==="aborted"?de:a.status==="dirty"||n.value==="dirty"?Gn(a.value):a}}if(o.type==="refinement"){let i=p(a=>{let l=o.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a},"executeRefinement");if(r.common.async===!1){let a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?de:(a.status==="dirty"&&n.dirty(),i(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?de:(a.status==="dirty"&&n.dirty(),i(a.value).then(()=>({status:n.value,value:a.value}))))}if(o.type==="transform")if(r.common.async===!1){let i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Nr(i))return i;let a=o.transform(i.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>Nr(i)?Promise.resolve(o.transform(i.value,s)).then(a=>({status:n.value,value:a})):i);be.assertNever(o)}isEqual(e){return!(e instanceof Pa)||!this._def.schema.isEqual(e._def.schema)?!1:this._def.effect.type==="refinement"?e._def.effect.type!=="refinement"?!1:be.compareFunctions(this._def.effect.refinement,e._def.effect.refinement):this._def.effect.type==="transform"?e._def.effect.type!=="transform"?!1:be.compareFunctions(this._def.effect.transform,e._def.effect.transform):this._def.effect.type==="preprocess"?e._def.effect.type!=="preprocess"?!1:be.compareFunctions(this._def.effect.transform,e._def.effect.transform):(be.assertNever(this._def.effect),!1)}};p(Xn,"ZodEffects");Xn.create=p((t,e,n)=>new Xn(x({schema:t,typeName:"ZodEffects",effect:e},ge(n))),"create");Xn.createWithPreprocess=p((t,e,n)=>new Xn(x({schema:e,effect:{type:"preprocess",transform:t},typeName:"ZodEffects"},ge(n))),"createWithPreprocess");var bn=Xn,Yi=class hi extends ye{dereference(e){let n=this._def.items.map(o=>o.dereference(e)),r=this._def.rest?this._def.rest.dereference(e):null;return new hi(H(x({},this._def),{items:n,rest:r}))}getReferences(){return Kt([...this._def.items.flatMap(e=>e.getReferences()),...this._def.rest?this._def.rest.getReferences():[]])}_parse(e){let{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ne.array)return te(r,{code:z.invalid_type,expected:ne.array,received:r.parsedType}),de;if(r.data.length<this._def.items.length)return te(r,{code:z.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),de;!this._def.rest&&r.data.length>this._def.items.length&&(te(r,{code:z.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());let s=[...r.data].map((i,a)=>{let l=this._def.items[a]||this._def.rest;return l?l._parse(new Et(r,i,r.path,a)):null}).filter(i=>!!i);return r.common.async?Promise.all(s).then(i=>gt.mergeArray(n,i)):gt.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new hi(H(x({},this._def),{rest:e}))}isEqual(e){if(!(e instanceof hi)||!this._restEquals(e))return!1;let n=p((s,i)=>s.isEqual(i),"compare"),r=new tt(this._def.items,{compare:n}),o=new tt(e._def.items,{compare:n});return r.isEqual(o)}_restEquals(e){return this._def.rest===null?e._def.rest===null:e._def.rest!==null&&this._def.rest.isEqual(e._def.rest)}};p(Yi,"ZodTuple");Yi.create=p((t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Yi(x({items:t,typeName:"ZodTuple",rest:null},ge(e)))},"create");var Qn=Yi,Xi=class Hg extends ye{_parse(e){if(this._getType(e)!==ne.undefined){let r=this._getOrReturnCtx(e);return te(r,{code:z.invalid_type,expected:ne.undefined,received:r.parsedType}),de}return ct(e.data)}isEqual(e){return e instanceof Hg}};p(Xi,"ZodUndefined");Xi.create=p(t=>new Xi(x({typeName:"ZodUndefined"},ge(t))),"create");var Ya=Xi,Qi=class Ea extends ye{dereference(e){let n=this._def.options.map(r=>r.dereference(e));return new Ea(H(x({},this._def),{options:n}))}getReferences(){return Kt(this._def.options.reduce((e,n)=>[...e,...n.getReferences()],[]))}_parse(e){let{ctx:n}=this._processInputParams(e),r=this._def.options;function o(s){for(let a of s)if(a.result.status==="valid")return a.result;for(let a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;let i=s.map(a=>new $t(a.ctx.common.issues));return te(n,{code:z.invalid_union,unionErrors:i}),de}if(p(o,"handleResults"),n.common.async)return Promise.all(r.map(async s=>{let i=H(x({},n),{common:H(x({},n.common),{issues:[]}),parent:null});return{result:await s._parseAsync({data:n.data,path:n.path,parent:i}),ctx:i}})).then(o);{let s,i=[];for(let l of r){let f=H(x({},n),{common:H(x({},n.common),{issues:[]}),parent:null}),d=l._parseSync({data:n.data,path:n.path,parent:f});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:f}),f.common.issues.length&&i.push(f.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;let a=i.map(l=>new $t(l));return te(n,{code:z.invalid_union,unionErrors:a}),de}}get options(){return this._def.options}isEqual(e){if(!(e instanceof Ea))return!1;let n=p((s,i)=>s.isEqual(i),"compare"),r=new tt([...this._def.options],{compare:n}),o=new tt([...e._def.options],{compare:n});return r.isEqual(o)}};p(Qi,"ZodUnion");Qi.create=p((t,e)=>new Qi(x({options:t,typeName:"ZodUnion"},ge(e))),"create");var Xa=Qi,eo=class Ug extends ye{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ct(e.data)}isEqual(e){return e instanceof Ug}};p(eo,"ZodUnknown");eo.create=p(t=>new eo(x({typeName:"ZodUnknown"},ge(t))),"create");var Ar=eo,to=class jg extends ye{_parse(e){if(this._getType(e)!==ne.undefined){let r=this._getOrReturnCtx(e);return te(r,{code:z.invalid_type,expected:ne.void,received:r.parsedType}),de}return ct(e.data)}isEqual(e){return e instanceof jg}};p(to,"ZodVoid");to.create=p(t=>new to(x({typeName:"ZodVoid"},ge(t))),"create");var $g=to,px=/^\d{4}-\d{2}-\d{2}(T|\s)?((\d{2}:\d{2}:\d{2}(\.\d{1,3})?)|(\d{2}:\d{2}))?(\s?([+-]\d{2}:\d{2}|Z))?$/,Ur=p((t,e,n=!0)=>{if(typeof t!="object")throw new sa("Input must be an object");let r=p(i=>{let a=i;return e?.nullable&&(a=a.nullable()),e?.optional&&(a=a.optional()),e?.passtrough&&typeof a.passthrough=="function"&&(a=a.passthrough()),a},"applyOptions"),o=Object.entries(t).reduce((i,[a,l])=>{if(l===null)i[a]=r(re.null());else switch(typeof l){case"string":i[a]=px.test(l)?r(re.string().datetime()):r(re.string());break;case"number":i[a]=r(re.number());break;case"boolean":i[a]=r(re.boolean());break;case"object":Array.isArray(l)?l.length===0?i[a]=r(re.array(re.unknown())):typeof l[0]=="object"?i[a]=r(re.array(Ur(l[0],e,!1))):["string","number","boolean"].includes(typeof l[0])&&(i[a]=r(re.array(re[typeof l[0]]()))):i[a]=r(Ur(l,e,!1));break;default:throw new sa(`Unsupported type for key ${a}`)}return i},{}),s=Object.keys(o).length>0;return e?.passtrough||!n&&!s?re.object(o).passthrough():re.object(o)},"objectToZui");function Zg(){return{}}p(Zg,"parseAnyDef");function Qa(t,e,n,r){r?.errorMessages&&n&&(t.errorMessage=H(x({},t.errorMessage),{[e]:n}))}p(Qa,"addErrorMessage");function De(t,e,n,r,o){t[e]=n,Qa(t,e,r,o)}p(De,"setResponseValueAndErrors");function Lg(t,e){var n,r;let o={type:"array"};return((r=(n=t.type)==null?void 0:n._def)==null?void 0:r.typeName)!=="ZodAny"&&(o.items=Oe(t.type._def,H(x({},e),{currentPath:[...e.currentPath,"items"]}))),t.minLength&&De(o,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&De(o,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&(De(o,"minItems",t.exactLength.value,t.exactLength.message,e),De(o,"maxItems",t.exactLength.value,t.exactLength.message,e)),o}p(Lg,"parseArrayDef");function Fg(t,e){let n=x({type:"integer",format:"int64"},t.coerce?{[ke]:{coerce:t.coerce||void 0}}:{});if(!t.checks)return n;for(let r of t.checks)switch(r.kind){case"min":e.target==="jsonSchema7"?r.inclusive?De(n,"minimum",r.value,r.message,e):De(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),De(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?De(n,"maximum",r.value,r.message,e):De(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),De(n,"maximum",r.value,r.message,e));break;case"multipleOf":De(n,"multipleOf",r.value,r.message,e);break}return n}p(Fg,"parseBigintDef");function Kg(t){return x({type:"boolean"},t.coerce?{[ke]:{coerce:t.coerce||void 0}}:{})}p(Kg,"parseBooleanDef");function Wg(t,e){return Oe(t.type._def,e)}p(Wg,"parseBrandedDef");var gx=p((t,e)=>Oe(t.innerType._def,e),"parseCatchDef");function qg(t,e){return e.dateStrategy=="integer"?yx(t,e):x({type:"string",format:"date-time"},t.coerce?{[ke]:{coerce:t.coerce||void 0}}:{})}p(qg,"parseDateDef");var yx=p((t,e)=>{let n=x({type:"integer",format:"unix-time"},t.coerce?{[ke]:{coerce:t.coerce||void 0}}:{});for(let r of t.checks)switch(r.kind){case"min":e.target==="jsonSchema7"&&De(n,"minimum",r.value,r.message,e);break;case"max":e.target==="jsonSchema7"&&De(n,"maximum",r.value,r.message,e);break}return n},"integerDateParser");function zg(t,e){return H(x({},Oe(t.innerType._def,e)),{default:t.defaultValue()})}p(zg,"parseDefaultDef");function Gg(t,e){return e.effectStrategy==="input"?Oe(t.schema._def,e):{}}p(Gg,"parseEffectsDef");function Vg(t){return{type:"string",enum:t.values}}p(Vg,"parseEnumDef");var mx=p(t=>"type"in t&&t.type==="string"?!1:"allOf"in t,"isJsonSchema7AllOfType");function Jg(t,e){let n=[Oe(t.left._def,H(x({},e),{currentPath:[...e.currentPath,"allOf","0"]})),Oe(t.right._def,H(x({},e),{currentPath:[...e.currentPath,"allOf","1"]}))].filter(s=>!!s),r=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,o=[];return n.forEach(s=>{if(mx(s))o.push(...s.allOf),s.unevaluatedProperties===void 0&&(r=void 0);else{let i=s;if("additionalProperties"in s&&s.additionalProperties===!1){let a=s,{additionalProperties:l}=a;i=ff(a,["additionalProperties"])}else r=void 0;o.push(i)}}),o.length?x({allOf:o},r):void 0}p(Jg,"parseIntersectionDef");function Yg(t,e){let n=typeof t.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[t.value]}:{type:n==="bigint"?"integer":n,const:t.value}}p(Yg,"parseLiteralDef");var Br={cuid:"^[cC][^\\s-]{8,}$",cuid2:"^[a-z][a-z0-9]*$",ulid:"^[0-9A-HJKMNP-TV-Z]{26}$",email:"^(?!\\.)(?!.*\\.\\.)([a-zA-Z0-9_+-\\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\\-]*\\.)+[a-zA-Z]{2,}$",emoji:"^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",uuid:"^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$",ipv4:"^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$",ipv6:"^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$"};function es(t,e){let n=x({type:"string"},t.coerce?{[ke]:{coerce:t.coerce||void 0}}:{});function r(o){return e.patternStrategy==="escape"?hx(o):o}if(p(r,"processPattern"),t.checks)for(let o of t.checks)switch(o.kind){case"min":De(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,o.value):o.value,o.message,e);break;case"max":De(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,o.value):o.value,o.message,e);break;case"email":switch(e.emailStrategy){case"format:email":gn(n,"email",o.message,e);break;case"format:idn-email":gn(n,"idn-email",o.message,e);break;case"pattern:zod":Ht(n,Br.email,o.message,e);break}break;case"url":gn(n,"uri",o.message,e);break;case"uuid":gn(n,"uuid",o.message,e);break;case"regex":Ht(n,o.regex.source,o.message,e);break;case"cuid":Ht(n,Br.cuid,o.message,e);break;case"cuid2":Ht(n,Br.cuid2,o.message,e);break;case"startsWith":Ht(n,"^"+r(o.value),o.message,e);break;case"endsWith":Ht(n,r(o.value)+"$",o.message,e);break;case"datetime":gn(n,"date-time",o.message,e);break;case"length":De(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,o.value):o.value,o.message,e),De(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,o.value):o.value,o.message,e);break;case"includes":{Ht(n,r(o.value),o.message,e);break}case"ip":{o.version!=="v6"&&gn(n,"ipv4",o.message,e),o.version!=="v4"&&gn(n,"ipv6",o.message,e);break}case"emoji":Ht(n,Br.emoji,o.message,e);break;case"ulid":{Ht(n,Br.ulid,o.message,e);break}case"toLowerCase":case"toUpperCase":case"trim":break;default:}return n}p(es,"parseStringDef");var hx=p(t=>Array.from(t).map(e=>/[a-zA-Z0-9]/.test(e)?e:`\\${e}`).join(""),"escapeNonAlphaNumeric"),gn=p((t,e,n,r)=>{var o;t.format||(o=t.anyOf)!=null&&o.some(s=>s.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push(x({format:t.format},t.errorMessage&&r.errorMessages&&{errorMessage:{format:t.errorMessage.format}})),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push(x({format:e},n&&r.errorMessages&&{errorMessage:{format:n}}))):De(t,"format",e,n,r)},"addFormat"),Ht=p((t,e,n,r)=>{var o;t.pattern||(o=t.allOf)!=null&&o.some(s=>s.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push(x({pattern:t.pattern},t.errorMessage&&r.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}})),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push(x({pattern:e},n&&r.errorMessages&&{errorMessage:{pattern:n}}))):De(t,"pattern",e,n,r)},"addPattern");function ts(t,e){var n,r,o,s,i;if(e.target==="openApi3"&&((n=t.keyType)==null?void 0:n._def.typeName)==="ZodEnum")return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((l,f)=>{var d;return H(x({},l),{[f]:(d=Oe(t.valueType._def,H(x({},e),{currentPath:[...e.currentPath,"properties",f]})))!=null?d:{}})},{}),additionalProperties:!1};let a={type:"object",additionalProperties:(r=Oe(t.valueType._def,H(x({},e),{currentPath:[...e.currentPath,"additionalProperties"]})))!=null?r:{}};if(e.target==="openApi3")return a;if(((o=t.keyType)==null?void 0:o._def.typeName)==="ZodString"&&((s=t.keyType._def.checks)!=null&&s.length)){let l=Object.entries(es(t.keyType._def,e)).reduce((f,[d,y])=>d==="type"?f:H(x({},f),{[d]:y}),{});return H(x({},a),{propertyNames:l})}else if(((i=t.keyType)==null?void 0:i._def.typeName)==="ZodEnum")return H(x({},a),{propertyNames:{enum:t.keyType._def.values}});return a}p(ts,"parseRecordDef");function Xg(t,e){if(e.mapStrategy==="record")return ts(t,e);let n=Oe(t.keyType._def,H(x({},e),{currentPath:[...e.currentPath,"items","items","0"]}))||{},r=Oe(t.valueType._def,H(x({},e),{currentPath:[...e.currentPath,"items","items","1"]}))||{};return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}p(Xg,"parseMapDef");function Qg(t){let e=t.values,r=Object.keys(t.values).filter(s=>typeof e[e[s]]!="number").map(s=>e[s]),o=Array.from(new Set(r.map(s=>typeof s)));return{type:o.length===1?o[0]==="string"?"string":"number":["string","number"],enum:r.filter(s=>typeof s=="string"||typeof s=="number")}}p(Qg,"parseNativeEnumDef");function ey(){return{not:{}}}p(ey,"parseNeverDef");function ty(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}p(ty,"parseNullDef");var no={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function ny(t,e){if(e.target==="openApi3")return af(t,e);let n=t.options instanceof Map?Array.from(t.options.values()):t.options;if(n.every(r=>r._def.typeName in no&&(!r._def.checks||!r._def.checks.length))){let r=n.reduce((o,s)=>{let i=no[s._def.typeName];return i&&!o.includes(i)?[...o,i]:o},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){let r=n.reduce((o,s)=>{let i=typeof s._def.value;switch(i){case"string":case"number":case"boolean":return[...o,i];case"bigint":return[...o,"integer"];case"object":if(s._def.value===null)return[...o,"null"];case"symbol":case"undefined":case"function":default:return o}},[]);if(r.length===n.length){let o=r.filter((s,i,a)=>a.indexOf(s)===i);return{type:o.length>1?o:o[0],enum:n.reduce((s,i)=>s.includes(i._def.value)?s:[...s,i._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,o)=>[...r,...o._def.values.filter(s=>!r.includes(s))],[])};return af(t,e)}p(ny,"parseUnionDef");var af=p((t,e)=>{let n=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((o,s)=>Oe(o._def,H(x({},e),{currentPath:[...e.currentPath,e.unionStrategy,`${s}`]}))).filter(o=>!!o&&(!e.strictUnions||typeof o=="object"&&Object.keys(o).length>0)),r=e.discriminator&&t.typeName==="ZodDiscriminatedUnion"&&typeof t.discriminator=="string"?{discriminator:{propertyName:t.discriminator}}:{};if(n.length)return e.unionStrategy==="anyOf"?x({anyOf:n},r):x({oneOf:n},r)},"asUnionOf");function ry(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"?{type:no[t.innerType._def.typeName],nullable:!0}:{type:[no[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){let r=Oe(t.innerType._def,H(x({},e),{currentPath:[...e.currentPath]}));return r&&H(x({},r),{nullable:!0})}let n=Oe(t.innerType._def,H(x({},e),{currentPath:[...e.currentPath,"anyOf","0"]}));return n&&{anyOf:[n,{type:"null"}]}}p(ry,"parseNullableDef");function iy(t,e){let n=x({type:"number"},t.coerce?{[ke]:{coerce:t.coerce||void 0}}:{});if(!t.checks)return n;for(let r of t.checks)switch(r.kind){case"int":n.type="integer",Qa(n,"type",r.message,e);break;case"min":e.target==="jsonSchema7"?r.inclusive?De(n,"minimum",r.value,r.message,e):De(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),De(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?De(n,"maximum",r.value,r.message,e):De(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),De(n,"maximum",r.value,r.message,e));break;case"multipleOf":De(n,"multipleOf",r.value,r.message,e);break}return n}p(iy,"parseNumberDef");function oy(t,e){var n;let r=H(x({type:"object"},Object.entries(t.shape()).reduce((o,[s,i])=>{if(i===void 0||i._def===void 0)return o;let a=Oe(i._def,H(x({},e),{currentPath:[...e.currentPath,"properties",s],propertyPath:[...e.currentPath,"properties",s]}));return a===void 0?o:{properties:H(x({},o.properties),{[s]:a}),required:i.isOptional()?o.required:[...o.required,s]}},{properties:{},required:[]})),{additionalProperties:t.catchall._def.typeName==="ZodNever"?t.unknownKeys==="passthrough":(n=Oe(t.catchall._def,H(x({},e),{currentPath:[...e.currentPath,"additionalProperties"]})))!=null?n:!0});return r.required.length||delete r.required,r}p(oy,"parseObjectDef");var vx=p((t,e)=>{var n;if(e.currentPath.toString()===((n=e.propertyPath)==null?void 0:n.toString()))return Oe(t.innerType._def,e);let r=Oe(t.innerType._def,H(x({},e),{currentPath:[...e.currentPath,"anyOf","1"]}));return r?{anyOf:[{not:{}},r]}:{}},"parseOptionalDef"),Tx=p((t,e)=>{if(e.pipeStrategy==="input")return Oe(t.in._def,e);if(e.pipeStrategy==="output")return Oe(t.out._def,e);let n=Oe(t.in._def,H(x({},e),{currentPath:[...e.currentPath,"allOf","0"]})),r=Oe(t.out._def,H(x({},e),{currentPath:[...e.currentPath,"allOf",n?"1":"0"]}));return{allOf:[n,r].filter(o=>o!==void 0)}},"parsePipelineDef");function ay(t,e){return Oe(t.type._def,e)}p(ay,"parsePromiseDef");function sy(t,e){let r={type:"array",uniqueItems:!0,items:Oe(t.valueType._def,H(x({},e),{currentPath:[...e.currentPath,"items"]}))};return t.minSize&&De(r,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&De(r,"maxItems",t.maxSize.value,t.maxSize.message,e),r}p(sy,"parseSetDef");function ly(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((n,r)=>Oe(n._def,H(x({},e),{currentPath:[...e.currentPath,"items",`${r}`]}))).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:Oe(t.rest._def,H(x({},e),{currentPath:[...e.currentPath,"additionalItems"]}))}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((n,r)=>Oe(n._def,H(x({},e),{currentPath:[...e.currentPath,"items",`${r}`]}))).reduce((n,r)=>r===void 0?n:[...n,r],[])}}p(ly,"parseTupleDef");function uy(){return{not:{}}}p(uy,"parseUndefinedDef");function cy(){return{}}p(cy,"parseUnknownDef");var _x=p((t,e)=>Oe(t.innerType._def,e),"parseReadonlyDef");function fy(t){return{$ref:t.uri}}p(fy,"parseRefDef");function Oe(t,e,n=!1){let r=e.seen.get(t);if(r&&!n){let i=bx(r,e);if(i!==void 0)return i}let o={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,o);let s=xx(t,t.typeName,e);return s&&Bx(t,e,s),o.jsonSchema=s,s}p(Oe,"parseDef");var bx=p((t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:wx(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((n,r)=>e.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},"get$ref"),wx=p((t,e)=>{let n=0;for(;n<t.length&&n<e.length&&t[n]===e[n];n++);return[(t.length-n).toString(),...e.slice(n)].join("/")},"getRelativePath"),xx=p((t,e,n)=>{switch(e){case"ZodString":return es(t,n);case"ZodNumber":return iy(t,n);case"ZodObject":return oy(t,n);case"ZodBigInt":return Fg(t,n);case"ZodBoolean":return Kg(t);case"ZodDate":return qg(t,n);case"ZodUndefined":return uy();case"ZodNull":return ty(n);case"ZodArray":return Lg(t,n);case"ZodUnion":case"ZodDiscriminatedUnion":return ny(t,n);case"ZodIntersection":return Jg(t,n);case"ZodTuple":return ly(t,n);case"ZodRecord":return ts(t,n);case"ZodRef":return fy(t);case"ZodLiteral":return Yg(t,n);case"ZodEnum":return Vg(t);case"ZodNativeEnum":return Qg(t);case"ZodNullable":return ry(t,n);case"ZodOptional":return vx(t,n);case"ZodMap":return Xg(t,n);case"ZodSet":return sy(t,n);case"ZodLazy":return Oe(t.getter()._def,n);case"ZodPromise":return ay(t,n);case"ZodNaN":case"ZodNever":return ey();case"ZodEffects":return Gg(t,n);case"ZodAny":return Zg();case"ZodUnknown":return cy();case"ZodDefault":return zg(t,n);case"ZodBranded":return Wg(t,n);case"ZodReadonly":return _x(t,n);case"ZodCatch":return gx(t,n);case"ZodPipeline":return Tx(t,n);case"ZodFunction":case"ZodVoid":case"ZodSymbol":return;default:return(r=>{})(e)}},"selectParser"),Bx=p((t,e,n)=>(t.description&&(n.description=t.description,e.markdownDescription&&(n.markdownDescription=t.description)),Object.assign(n,{[ke]:x(x({},t[ke]),n[ke])}),n),"addMeta"),sf={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"string",mapStrategy:"entries",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",emailStrategy:"format:email",discriminator:!1,unionStrategy:"anyOf"},Px=p(t=>typeof t=="string"?H(x({},sf),{name:t}):x(x({},sf),t),"getDefaultOptions"),Ex=p(t=>{let e=Px(t),n=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return H(x({},e),{currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([r,o])=>[o._def,{def:o._def,path:[...e.basePath,e.definitionPath,r],jsonSchema:void 0}]))})},"getRefs"),Sx=p((t,e)=>{var n;let r=Ex(e),o=typeof e=="object"&&e.definitions?Object.entries(e.definitions).reduce((l,[f,d])=>{var y;return H(x({},l),{[f]:(y=Oe(d._def,H(x({},r),{currentPath:[...r.basePath,r.definitionPath,f]}),!0))!=null?y:{}})},{}):void 0,s=typeof e=="string"?e:e?.name,i=(n=Oe(t._def,s===void 0?r:H(x({},r),{currentPath:[...r.basePath,r.definitionPath,s]}),!1))!=null?n:{},a=s===void 0?o?H(x({},i),{[r.definitionPath]:o}):i:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,s].join("/"),[r.definitionPath]:H(x({},o),{[s]:i})};return r.target==="jsonSchema7"?a.$schema="http://json-schema.org/draft-07/schema#":r.target==="jsonSchema2019-09"&&(a.$schema="https://json-schema.org/draft/2019-09/schema#"),a},"zodToJsonSchema"),ns=p((t,e={target:"openApi3"})=>{let n=Sx(t,e);return e.$schemaUrl===!1?delete n.$schema:typeof e.$schemaUrl=="string"&&(n.$schema=e.$schemaUrl),n},"zuiToJsonSchema"),kx=["gpt-3.5-turbo","gpt-3.5-turbo-16k","gpt-4","gpt-4-1106-preview","gpt-4-vision-preview","gpt-4-0125-preview","gpt-4-turbo-preview","gpt-4-turbo","gpt-4o","gpt-3.5-turbo-0125","gpt-3.5-turbo-1106"],iA=rr.create(["any","string","number","boolean","object","pattern","date","array","target","time","enum"]),Ix=p(t=>ft.create().displayAs({id:"variable",params:x({type:t?.type||"any"},t?.params)}),"variable"),Ax=p(t=>ft.create().displayAs({id:"conversation",params:x({},t?.params)}),"conversation"),Cx=p(t=>ft.create().displayAs({id:"user",params:x({},t?.params)}),"user"),Ox=p(t=>ft.create().displayAs({id:"message",params:x({},t?.params)}),"message"),Rx=p(t=>ft.create().displayAs({id:"agent",params:x({},t?.params)}),"agent"),Mx=p(t=>ft.create().displayAs({id:"event",params:x({},t?.params)}),"event"),Dx=p(t=>ft.create().displayAs({id:"table",params:x({},t?.params)}),"table"),Nx=p(t=>ft.create().displayAs({id:"tablerow",params:x({},t?.params)}),"tablerow"),Hx=p(t=>ft.create().displayAs({id:"intent",params:x({},t?.params)}),"intent"),Ux=p(()=>rr.create(kx).displayAs({id:"dropdown",params:{}}),"aimodel"),jx=p(t=>ft.create().displayAs({id:"datasource",params:x({},t)}),"datasource"),$x=p(t=>ft.create().displayAs({id:"knowledgebase",params:x({},t)}),"knowledgebase"),Zx={object:Yn.lazycreate},Lx=p((t,e={message:`Input not instance of ${t.name}`})=>og(n=>n instanceof t,e),"instanceOfType"),dy=ft.create,py=Va.create,Fx=gg.create,Kx=Ua.create,gy=ja.create,Wx=La.create,qx=Ng.create,zx=Ya.create,Gx=Ga.create,Vx=Ei.create,Jx=Ar.create,Yx=_n.create,Xx=$g.create,Qx=Hr.create,eB=Yn.create,tB=Yn.strictCreate,nB=Xa.create,rB=sg.create,iB=Ka.create,oB=Qn.create,aB=bg.create,sB=xg.create,lB=yo.create,uB=dg.create,cB=Bg.create,fB=ug.create,dB=Wa.create,pB=qa.create,gB=rr.create,yB=za.create,mB=go.create,lf=bn.create,hB=nn.create,vB=Jn.create,TB=fo.create,_B=bn.createWithPreprocess,bB=Ja.create,wB=p(()=>dy().optional(),"ostring"),xB=p(()=>py().optional(),"onumber"),BB=p(()=>gy().optional(),"oboolean"),PB=ye.fromJsonSchema,EB=ye.fromObject,SB={string:p(t=>ft.create(H(x({},t),{coerce:!0})),"string"),number:p(t=>Va.create(H(x({},t),{coerce:!0})),"number"),boolean:p(t=>ja.create(H(x({},t),{coerce:!0})),"boolean"),bigint:p(t=>Ua.create(H(x({},t),{coerce:!0})),"bigint"),date:p(t=>La.create(H(x({},t),{coerce:!0})),"date")},kB=de,q=re,yy=p((t,e)=>t.anyOf.length?t.anyOf.length===1?nt(t.anyOf[0],H(x({},e),{path:[...e.path,"anyOf",0]})):`z.union([${t.anyOf.map((n,r)=>nt(n,H(x({},e),{path:[...e.path,"anyOf",r]}))).join(", ")}])`:"z.any()","parseAnyOf"),IB=p(t=>{var e;return(e=t[ke])!=null&&e.coerce?"z.coerce.boolean()":"z.boolean()"},"parseBoolean"),AB=p(t=>"z.any()","parseDefault"),CB=p((t,e)=>`z.union([${t.type.map(n=>nt(H(x({},t),{type:n}),e)).join(", ")}])`,"parseMultipleType"),OB=p((t,e)=>`z.any().refine((value) => !${nt(t.not,H(x({},e),{path:[...e.path,"not"]}))}.safeParse(value).success, "Invalid input: Should NOT be valid against schema")`,"parseNot"),RB=p(t=>"z.null()","parseNull"),MB=p(t=>[t.slice(0,t.length/2),t.slice(t.length/2)],"half"),DB=p((t,...e)=>Object.keys(t).reduce((n,r)=>(e.includes(r)||(n[r]=t[r]),n),{}),"omit");function at(t,e,n){var r;let o=t[e],s="";if(o!==void 0){let i=n({value:o,json:JSON.stringify(o)});if(i){let a=i[0],l=i.length===3?i[1]:"",f=i.length===3?i[2]:i[1];s+=a,((r=t.errorMessage)==null?void 0:r[e])!==void 0&&(s+=l+JSON.stringify(t.errorMessage[e])),s+=f}}return s}p(at,"withMessage");var Sr=Symbol("Original index"),NB=p(t=>{let e=[];for(let n=0;n<t.length;n++){let r=t[n];if(typeof r=="boolean")e.push(r?{[Sr]:n}:{[Sr]:n,not:{}});else{if(Sr in r)return t;e.push(H(x({},r),{[Sr]:n}))}}return e},"ensureOriginalIndex");function jr(t,e){if(t.allOf.length===0)return"z.never()";if(t.allOf.length===1){let n=t.allOf[0];return nt(n,H(x({},e),{path:[...e.path,"allOf",n[Sr]]}))}else{let[n,r]=MB(NB(t.allOf));return`z.intersection(${jr({allOf:n},e)}, ${jr({allOf:r},e)})`}}p(jr,"parseAllOf");var HB=p((t,e)=>{if(Array.isArray(t.items))return`z.tuple([${t.items.map((r,o)=>nt(r,H(x({},e),{path:[...e.path,"items",o]})))}])`;let n=t.items?`z.array(${nt(t.items,H(x({},e),{path:[...e.path,"items"]}))})`:"z.array(z.any())";return n+=at(t,"minItems",({json:r})=>[`.min(${r}`,", ",")"]),n+=at(t,"maxItems",({json:r})=>[`.max(${r}`,", ",")"]),n},"parseArray"),UB=p(t=>`z.literal(${JSON.stringify(t.const)})`,"parseConst"),jB=p(t=>t.enum.length===0?"z.never()":t.enum.length===1?`z.literal(${JSON.stringify(t.enum[0])})`:t.enum.every(e=>typeof e=="string")?`z.enum([${t.enum.map(e=>JSON.stringify(e))}])`:`z.union([${t.enum.map(e=>`z.literal(${JSON.stringify(e)})`).join(", ")}])`,"parseEnum"),$B=p((t,e)=>{let n=nt(t.if,H(x({},e),{path:[...e.path,"if"]})),r=nt(t.then,H(x({},e),{path:[...e.path,"then"]})),o=nt(t.else,H(x({},e),{path:[...e.path,"else"]}));return`z.union([${r}, ${o}]).superRefine((value,ctx) => {
  const result = ${n}.safeParse(value).success
    ? ${r}.safeParse(value)
    : ${o}.safeParse(value);
  if (!result.success) {
    result.error.errors.forEach((error) => ctx.addIssue(error))
  }
})`},"parseIfThenElse"),ZB=p(t=>{var e;let n="z.number()";return(e=t[ke])!=null&&e.coerce&&(n="z.coerce.number()"),t.type==="integer"?n+=at(t,"type",()=>[".int(",")"]):n+=at(t,"format",({value:r})=>{if(r==="int64")return[".int(",")"]}),n+=at(t,"multipleOf",({value:r,json:o})=>r===1?n.startsWith("z.number().int(")?void 0:[".int(",")"]:[`.multipleOf(${o}`,", ",")"]),typeof t.minimum=="number"?t.exclusiveMinimum===!0?n+=at(t,"minimum",({json:r})=>[`.gt(${r}`,", ",")"]):n+=at(t,"minimum",({json:r})=>[`.gte(${r}`,", ",")"]):typeof t.exclusiveMinimum=="number"&&(n+=at(t,"exclusiveMinimum",({json:r})=>[`.gt(${r}`,", ",")"])),typeof t.maximum=="number"?t.exclusiveMaximum===!0?n+=at(t,"maximum",({json:r})=>[`.lt(${r}`,", ",")"]):n+=at(t,"maximum",({json:r})=>[`.lte(${r}`,", ",")"]):typeof t.exclusiveMaximum=="number"&&(n+=at(t,"exclusiveMaximum",({json:r})=>[`.lt(${r}`,", ",")"])),n},"parseNumber"),rs=p((t,e)=>t.oneOf.length?t.oneOf.length===1?nt(t.oneOf[0],H(x({},e),{path:[...e.path,"oneOf",0]})):`z.any().superRefine((x, ctx) => {
    const schemas = [${t.oneOf.map((n,r)=>nt(n,H(x({},e),{path:[...e.path,"oneOf",r]}))).join(", ")}];
    const errors = schemas.reduce(
      (errors: z.ZodError[], schema) =>
        ((result) => ("error" in result ? [...errors, result.error] : errors))(
          schema.safeParse(x)
        ),
      []
    );
    if (schemas.length - errors.length !== 1) {
      ctx.addIssue({
        path: ctx.path,
        code: "invalid_union",
        unionErrors: errors,
        message: "Invalid input: Should pass single schema",
      });
    }
  })`:"z.any()","parseOneOf");function my(t,e){let n;t.properties&&(Object.keys(t.properties).length?(n="z.object({ ",n+=Object.keys(t.properties).map(i=>{let a=t.properties[i],l=`${JSON.stringify(i)}: ${nt(a,H(x({},e),{path:[...e.path,"properties",i]}))}`,f=typeof a=="object"&&a.default!==void 0||typeof t.default=="object"&&t.default!==null&&i in t.default,d=Array.isArray(t.required)?t.required.includes(i):typeof a=="object"&&a.required===!0;return!f&&!d?`${l}.optional()`:l}).join(", "),n+=" })"):n="z.object({})");let r=t.additionalProperties!==void 0?nt(t.additionalProperties,H(x({},e),{path:[...e.path,"additionalProperties"]})):void 0,o;if(t.patternProperties){let i=Object.fromEntries(Object.entries(t.patternProperties).map(([a,l])=>[a,nt(l,H(x({},e),{path:[...e.path,"patternProperties",a]}))],{}));o="",n?r?o+=`.catchall(z.union([${[...Object.values(i),r].join(", ")}]))`:Object.keys(i).length>1?o+=`.catchall(z.union([${Object.values(i).join(", ")}]))`:o+=`.catchall(${Object.values(i)})`:r?o+=`z.record(z.union([${[...Object.values(i),r].join(", ")}]))`:Object.keys(i).length>1?o+=`z.record(z.union([${Object.values(i).join(", ")}]))`:o+=`z.record(${Object.values(i)})`,o+=`.superRefine((value, ctx) => {
`,o+=`for (const key in value) {
`,r&&(t.properties?o+=`let evaluated = [${Object.keys(t.properties).map(a=>JSON.stringify(a)).join(", ")}].includes(key)
`:o+=`let evaluated = false
`);for(let a in t.patternProperties)o+="if (key.match(new RegExp("+JSON.stringify(a)+`))) {
`,r&&(o+=`evaluated = true
`),o+="const result = "+i[a]+`.safeParse(value[key])
`,o+=`if (!result.success) {
`,o+=`ctx.addIssue({
          path: [...ctx.path, key],
          code: 'custom',
          message: \`Invalid input: Key matching regex /\${key}/ must match schema\`,
          params: {
            issues: result.error.issues
          }
        })
`,o+=`}
`,o+=`}
`;r&&(o+=`if (!evaluated) {
`,o+="const result = "+r+`.safeParse(value[key])
`,o+=`if (!result.success) {
`,o+=`ctx.addIssue({
          path: [...ctx.path, key],
          code: 'custom',
          message: \`Invalid input: must match catchall schema\`,
          params: {
            issues: result.error.issues
          }
        })
`,o+=`}
`,o+=`}
`),o+=`}
`,o+="})"}let s=n?o?n+o:r?r==="z.never()"?n+".strict()":n+`.catchall(${r})`:n:o||(r?`z.record(${r})`:"z.record(z.any())");return Qe.an.anyOf(t)&&(s+=`.and(${yy(H(x({},t),{anyOf:t.anyOf.map(i=>typeof i=="object"&&!i.type&&(i.properties||i.additionalProperties||i.patternProperties)?H(x({},i),{type:"object"}):i)}),e)})`),Qe.a.oneOf(t)&&(s+=`.and(${rs(H(x({},t),{oneOf:t.oneOf.map(i=>typeof i=="object"&&!i.type&&(i.properties||i.additionalProperties||i.patternProperties)?H(x({},i),{type:"object"}):i)}),e)})`),Qe.an.allOf(t)&&(s+=`.and(${jr(H(x({},t),{allOf:t.allOf.map(i=>typeof i=="object"&&!i.type&&(i.properties||i.additionalProperties||i.patternProperties)?H(x({},i),{type:"object"}):i)}),e)})`),s}p(my,"parseObject");var LB=p(t=>{var e;let n="z.string()";if((e=t[ke])!=null&&e.coerce){if(t.format==="date-time")return"z.coerce.date()";n="z.coerce.string()"}return n+=at(t,"format",({value:r})=>{switch(r){case"email":return[".email(",")"];case"ip":return[".ip(",")"];case"ipv4":return['.ip({ version: "v4"',", message: "," })"];case"ipv6":return['.ip({ version: "v6"',", message: "," })"];case"uri":return[".url(",")"];case"uuid":return[".uuid(",")"];case"date-time":return[".datetime(",")"]}}),n+=at(t,"pattern",({json:r})=>[`.regex(new RegExp(${r})`,", ",")"]),n+=at(t,"minLength",({json:r})=>[`.min(${r}`,", ",")"]),n+=at(t,"maxLength",({json:r})=>[`.max(${r}`,", ",")"]),n},"parseString"),FB=p((t,e)=>`${nt(DB(t,"nullable"),e,!0)}.nullable()`,"parseNullable"),KB=p(t=>`z.ref('${t.$ref}')`,"parseRef"),WB=p((t,e)=>{var n,r;if(t.oneOf.length<=1||!((n=t.discriminator)!=null&&n.propertyName))return rs(t,e);let o=t.oneOf.map((s,i)=>nt(s,H(x({},e),{path:[...e.path,"oneOf",i]})));return`z.discriminatedUnion("${(r=t.discriminator)==null?void 0:r.propertyName}", [${o.join(", ")}])`},"parseDiscriminator"),nt=p((t,e={seen:new Map,path:[]},n)=>{if(typeof t!="object")return t?"z.any()":"z.never()";if(e.parserOverride){let s=e.parserOverride(t,e);if(typeof s=="string")return s}let r=e.seen.get(t);if(r){if(r.r!==void 0)return r.r;if(e.depth===void 0||r.n>=e.depth)return"z.any()";r.n+=1}else r={r:void 0,n:0},e.seen.set(t,r);let o=GB(t,e);return n||(o=qB(t,o),e.withoutDefaults||(o=zB(t,o))),r.r=o,o},"parseSchema"),qB=p((t,e)=>(t.description&&(e+=`.describe(${JSON.stringify(t.description)})`),e),"addMeta"),zB=p((t,e)=>(t.default!==void 0&&(e+=`.default(${JSON.stringify(t.default)})`),e),"addDefaults"),GB=p((t,e)=>Qe.a.nullable(t)?FB(t,e):Qe.an.object(t)?my(t,e):Qe.an.array(t)?HB(t,e):Qe.an.anyOf(t)?yy(t,e):Qe.an.allOf(t)?jr(t,e):Qe.a.discriminator(t)?WB(t,e):Qe.a.oneOf(t)?rs(t,e):Qe.a.not(t)?OB(t,e):Qe.an.enum(t)?jB(t):Qe.a.const(t)?UB(t):Qe.a.multipleType(t)?CB(t,e):Qe.a.primitive(t,"string")?LB(t):Qe.a.primitive(t,"number")||Qe.a.primitive(t,"integer")?ZB(t):Qe.a.primitive(t,"boolean")?IB(t):Qe.a.primitive(t,"null")?RB(t):Qe.a.conditional(t)?$B(t,e):Qe.a.ref(t)?KB(t):AB(t),"selectParser"),Qe={an:{object:p(t=>t.type==="object","object"),array:p(t=>t.type==="array","array"),anyOf:p(t=>t.anyOf!==void 0,"anyOf"),allOf:p(t=>t.allOf!==void 0,"allOf"),enum:p(t=>t.enum!==void 0,"enum")},a:{nullable:p(t=>t.nullable===!0,"nullable"),multipleType:p(t=>Array.isArray(t.type),"multipleType"),not:p(t=>t.not!==void 0,"not"),const:p(t=>t.const!==void 0,"const"),primitive:p((t,e)=>t.type===e,"primitive"),conditional:p(t=>Boolean("if"in t&&t.if&&"then"in t&&"else"in t&&t.then&&t.else),"conditional"),discriminator:p(t=>{var e;return t.oneOf!==void 0&&((e=t.discriminator)==null?void 0:e.propertyName)!==void 0},"discriminator"),oneOf:p(t=>t.oneOf!==void 0,"oneOf"),ref:p(t=>t.$ref!==void 0,"ref")}},VB=p(t=>{let e;try{e=new Function("z",`return ${t}`)(q)}catch(n){return{sucess:!1,error:`Failed to evaluate schema: ${(n instanceof Error?n:new Error(String(n))).message}`}}return e instanceof q.ZodType?{sucess:!0,value:e}:{sucess:!1,error:`String "${t}" does not evaluate to a Zod schema`}},"evalZuiString"),JB=p(t=>nt(t,{seen:new Map,path:[]}),"jsonSchemaToZodStr"),YB=p(t=>{let e=JB(t);e=e.replaceAll("errors: z.ZodError[]","errors");let n=VB(e);if(!n.sucess)throw new kf(n.error);return n.value},"jsonSchemaToZod"),kr=p((t,e)=>{var n,r;if(e[ke]&&t._def&&(t._def[ke]=e[ke]),((n=t._def)==null?void 0:n.typeName)==="ZodObject"&&e.type==="object"&&e.properties&&Object.entries(e.properties).forEach(([o,s])=>{let i=typeof t._def.shape=="function"?t._def.shape():t._def.shape;i[o]&&kr(i[o],s)}),((r=t._def)==null?void 0:r.typeName)==="ZodRecord"&&e.type==="object"&&e.additionalProperties&&kr(t._def.valueType,e.additionalProperties),e.type==="array"&&e.items){let o=e.items;if(typeof o=="object"&&!Array.isArray(o)){let s=t._def.type;s&&kr(s,o)}else Array.isArray(o)&&o.forEach((s,i)=>{let a=t._def;a.typeName===re.ZodFirstPartyTypeKind.ZodTuple&&kr(a.items[i],s)})}},"applyZuiPropsRecursively"),mo=p(t=>{let e=YB(t);return kr(e,t),e},"jsonSchemaToZui"),hy=class extends er.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError&&this.props.fallback?er.default.createElement(this.props.fallback,{error:this.state.error,schema:this.props.fieldSchema}):this.props.children}};p(hy,"ErrorBoundary");var Cr=hy;function XB(t,e){return n=>er.default.createElement(Cr,{fallback:e,fieldSchema:n.fieldSchema,path:n.path},er.default.createElement(t,x({},n)))}p(XB,"withErrorBoundary");var vi=p(t=>{var e=t,{components:n,fieldSchema:r,path:o,required:s,fallback:i}=e,a=ff(e,["components","fieldSchema","path","required","fallback"]),l,f;let{formData:d,disabled:y,hidden:g,handlePropertyChange:m,addArrayItem:v,removeArrayItem:B,formErrors:P,formValid:T}=gf(r,o),S=(0,pt.useMemo)(()=>hn(d,o),[d,o]),E=(0,pt.useMemo)(()=>aT(n,r),[r,n]),{discriminator:M,discriminatedSchema:$,discriminatorValue:oe}=rT(r,o);if(!E||g===!0)return null;let{Component:X,type:ue}=E,ee={type:ue,componentID:E.id,scope:o.join("."),context:{path:o,readonly:!1,formData:d,formErrors:P,formValid:T,updateForm:m,updateFormData:p(Ie=>m([],Ie),"updateFormData")},onChange:p(Ie=>m(o,Ie),"onChange"),disabled:y,errors:P?.filter(Ie=>Ie.path===o)||[],label:((l=r[ke])==null?void 0:l.title)||aa(((f=o[o.length-1])==null?void 0:f.toString())||""),params:E.params,schema:r,zuiProps:r[ke]};if(r.type==="array"&&ue==="array"){let Ie=X,$e=ee.schema,Ne=Array.isArray(S)||typeof S=="object"?S:[],Me=x(H(x({},ee),{type:ue,schema:$e,data:Ne,addItem:p(Ve=>v(o,Ve),"addItem"),removeItem:p(Ve=>B(o,Ve),"removeItem")}),a);return Array.isArray(r.items)?null:pt.default.createElement(Ie,H(x({key:ee.scope},Me),{isArrayChild:Me.isArrayChild}),Array.isArray(Me.data)?Me.data.map((Ve,Ae)=>{let me=[...o,Ae.toString()];return pt.default.createElement(Cr,{key:me.join("."),fallback:i,fieldSchema:r.items,path:me},pt.default.createElement(vi,{key:me.join("."),components:n,fieldSchema:r.items,path:me,required:s,isArrayChild:!0,index:Ae,removeSelf:()=>B(o,Ae),fallback:i}))}):[])}if(r.type==="object"&&ue==="object"&&r.properties){let Ie=X,$e=x(H(x({},ee),{type:ue,schema:ee.schema,data:S||{}}),a);return pt.default.createElement(Ie,H(x({key:ee.scope},$e),{isArrayChild:$e.isArrayChild}),Object.entries(r.properties).map(([Ne,Me])=>{var Ve;let Ae=[...o,Ne];return pt.default.createElement(Cr,{key:Ae.join("."),fallback:i,fieldSchema:Me,path:Ae},pt.default.createElement(vi,{key:Ae.join("."),components:n,fieldSchema:Me,path:Ae,required:((Ve=r.required)==null?void 0:Ve.includes(Ne))||!1,isArrayChild:!1,fallback:i}))}))}if(ue==="discriminatedUnion"){let Ie=X,$e=x(H(x({},ee),{type:ue,schema:ee.schema,data:S||{},discriminatorKey:M?.key||null,discriminatorLabel:aa(M?.key||"Unknown"),discriminatorOptions:M?.values||null,discriminatorValue:oe,setDiscriminator:p(Ne=>{if(!M?.key){console.warn("No discriminator key found, cannot set discriminator");return}m(o,{[M.key]:Ne})},"setDiscriminator")}),a);return pt.default.createElement(Ie,H(x({key:ee.scope},$e),{isArrayChild:$e.isArrayChild}),$&&pt.default.createElement(Cr,{key:o.join("."),fallback:i,fieldSchema:$,path:o},pt.default.createElement(vi,{components:n,fieldSchema:$,path:o,required:s,isArrayChild:!1,fallback:i})))}let ie=X,Re=x(H(x({},ee),{type:ue,schema:ee.schema,config:{},required:s,data:S,description:r.description}),a);return pt.default.createElement(ie,x({},Re))},"FormElementRenderer"),aA=p(({schema:t,components:e,onChange:n,value:r,disableValidation:o,fallback:s,dataTransform:i,onValidation:a})=>{let[l,f]=(0,Zt.useState)(r);return(0,Zt.useEffect)(()=>{n(l)},[l]),(0,Zt.useEffect)(()=>{let d=zn(t);f(y=>_i(d,y))},[JSON.stringify(t),f]),Zt.default.createElement(nT,{formData:l,setFormData:f,formSchema:t,disableValidation:o||!1,dataTransform:i,onValidation:a},Zt.default.createElement(Cr,{fallback:s,fieldSchema:t,path:[]},Zt.default.createElement(vi,{components:e,fieldSchema:t,path:[],fallback:s,required:!0,isArrayChild:!1})))},"ZuiForm"),sA={string:{},number:{slider:{id:"slider",params:q.object({})}},boolean:{switch:{id:"switch",params:q.object({})}},array:{},object:{},discriminatedUnion:{}},lA={errors:Pf,jsonSchemaToZui:mo,zuiToJsonSchema:ns,objectToZui:Ur,toTypescript:bi,toTypescriptSchema:Na};var $r=(t,e)=>{let n=t._def,r=e._def;if(n.typeName===re.ZodFirstPartyTypeKind.ZodObject&&r.typeName===re.ZodFirstPartyTypeKind.ZodObject){let o=n.shape(),s=r.shape();return re.object({...o,...s})}if(n.typeName===re.ZodFirstPartyTypeKind.ZodRecord&&r.typeName===re.ZodFirstPartyTypeKind.ZodRecord)return re.record(re.intersection(n.valueType,r.valueType));throw new Error("Cannot merge object schemas with record schemas")},vy=re;var dt=re.string().min(1),_y=re.object({text:dt}),by=re.object({markdown:dt}),wy=re.object({imageUrl:dt}),xy=re.object({audioUrl:dt}),By=re.object({videoUrl:dt}),Py=re.object({fileUrl:dt,title:dt.optional()}),Ey=re.object({latitude:re.number(),longitude:re.number(),address:re.string().optional(),title:re.string().optional()}),Sy=re.object({title:dt,subtitle:dt.optional(),imageUrl:dt.optional(),actions:re.array(re.object({action:re.enum(["postback","url","say"]),label:dt,value:dt}))}),Ty=re.object({text:dt,options:re.array(re.object({label:dt,value:dt}))}),QB=re.object({items:re.array(Sy)}),eP=re.union([re.object({type:re.literal("text"),payload:_y}),re.object({type:re.literal("markdown"),payload:by}),re.object({type:re.literal("image"),payload:wy}),re.object({type:re.literal("audio"),payload:xy}),re.object({type:re.literal("video"),payload:By}),re.object({type:re.literal("file"),payload:Py}),re.object({type:re.literal("location"),payload:Ey})]),tP=re.object({items:re.array(eP)}),nP={schema:by},rP={text:{schema:_y},image:{schema:wy},audio:{schema:xy},video:{schema:By},file:{schema:Py},location:{schema:Ey},carousel:{schema:QB},card:{schema:Sy},dropdown:{schema:Ty},choice:{schema:Ty},bloc:{schema:tP}};C();R();O();var ho="x-bot-id",Iy="x-bot-user-id",Ay="x-integration-id",Cy="x-webhook-id",Oy="x-bp-configuration-type",vo="x-bp-configuration",To="x-bp-operation",Ry="x-bp-type";C();R();O();import{isNode as ik}from"browser-or-node";C();R();O();var ir=console;function kt(t){if(!t.body)throw new Error("Missing body");return JSON.parse(t.body)}async function Zo(t,e=8072,n=lk){if(!ik)throw new Error("This function can only be called in Node.js");let o=(Ch(),Dv(Ah)).createServer(async(s,i)=>{try{let a=await ok(s);if(a.path==="/health"){i.writeHead(200).end("ok");return}let l=await t(a);i.writeHead(l?.status??200,l?.headers??{}).end(l?.body??"{}")}catch(a){ir.error("Error while handling request",{error:a?.message??"Internal error occured"}),i.writeHead(500).end(JSON.stringify({error:a?.message??"Internal error occured"}))}});return o.listen(e,()=>n(e)),o}async function ok(t){let e=await sk(t),n={};for(let o=0;o<t.rawHeaders.length;o+=2){let s=t.rawHeaders[o].toLowerCase(),i=t.rawHeaders[o+1];n[s]=i}let r=new URL(t.url??"",t.headers.host?`http://${t.headers.host}`:"http://botpress.cloud");return{body:e,path:r.pathname,query:ak(r.search,"?"),headers:n,method:t.method?.toUpperCase()??"GET"}}function ak(t,e){return t.indexOf(e)===0?t.slice(e.length):t}async function sk(t){return new Promise((e,n)=>{if(t.method!=="POST"&&t.method!=="PUT"&&t.method!=="PATCH")return e(void 0);let r="";t.on("data",o=>r+=o.toString()),t.on("error",o=>n(o)),t.on("end",()=>e(r))})}function lk(t){ir.info(`Listening on port ${t}`)}import{isApiError as WN,RuntimeError as qN}from"@botpress/client";C();R();O();C();R();O();C();R();O();C();R();O();var qe={};Un(qe,{mapKeys:()=>fk,mapValues:()=>ck,mergeRecords:()=>pk,pairs:()=>Lo,stripUndefinedProps:()=>dk,values:()=>uk});C();R();O();var Lo=t=>Object.entries(t),uk=t=>Object.values(t),ck=(t,e)=>Object.fromEntries(Lo(t).map(([n,r])=>[n,e(r,n)])),fk=(t,e)=>Object.fromEntries(Lo(t).map(([n,r])=>[e(n),r])),dk=t=>Object.fromEntries(Lo(t).filter(([,e])=>e!==void 0)),pk=(t,e,n)=>{let r=[...Object.keys(t),...Object.keys(e)],o=[...new Set(r)],s={};for(let i of o){let a=t[i],l=e[i];a&&l?s[i]=n(a,l):a?s[i]=a:l&&(s[i]=l)}return s};var Te={};Un(Te,{safePush:()=>gk,unique:()=>yk});C();R();O();var gk=(t,...e)=>t?[...t,...e]:[...e],yk=t=>Array.from(new Set(t));C();R();O();var Xt={};Un(Xt,{setName:()=>mk});C();R();O();var mk=(t,e)=>(Object.defineProperty(t,"name",{value:e}),t);var Oh=t=>{let{name:e,version:n}=t,r={actions:{},events:{},channels:{}},o={name:e,version:n,entities:qe.mapValues(t.entities,i=>({name:i.name})),actions:{},events:{},channels:{}},s=qe.mapValues(t.entities,i=>i.schema);for(let[i,a]of Object.entries(t.definition.actions??{})){let l=a.input.schema.dereference(s),f=a.output.schema.dereference(s),d=t.actions?.[i]?.name??i;r.actions[d]={...a,...t.actions?.[i]??{},input:{schema:l},output:{schema:f}},o.actions[i]={name:d}}for(let[i,a]of Object.entries(t.definition.events??{})){let l=a.schema.dereference(s),f=t.events?.[i]?.name??i;r.events[f]={...a,...t.events?.[i]??{},schema:l},o.events[i]={name:f}}for(let[i,a]of Object.entries(t.definition.channels??{})){let l={};for(let[d,y]of Object.entries(a.messages)){let g=y.schema.dereference(s);l[d]={...y,schema:g}}let f=t.channels?.[i]?.name??i;r.channels[f]={...a,...t.channels?.[i]??{},message:{...a.message??{},tags:{...a.message?.tags??{},...t.channels?.[i]?.message?.tags??{}}},conversation:{...a.conversation??{},tags:{...a.conversation?.tags??{},...t.channels?.[i]?.conversation?.tags??{}}},messages:l},o.channels[i]={name:f}}return{resolved:r,statement:o}};C();R();O();var Fo=Symbol("schemaName"),Rh=t=>t?qe.mapValues(t,(n,r)=>({...n,[Fo]:r})):{},Mh=t=>Fo in t&&t[Fo]!==void 0,Dh=t=>t[Fo];C();R();O();var el=class{constructor(e){this.props=e;this.name=e.name,this.version=e.version,this.icon=e.icon,this.readme=e.readme,this.title=e.title,this.identifier=e.identifier,this.description=e.description,this.configuration=e.configuration,this.configurations=e.configurations,this.events=e.events,this.actions=e.actions,this.channels=e.channels,this.states=e.states,this.user=e.user,this.secrets=e.secrets,this.entities=e.entities,this.interfaces=e.interfaces,this.__advanced=e.__advanced}name;version;title;description;icon;readme;configuration;configurations;events;actions;channels;states;user;secrets;identifier;entities;interfaces;__advanced;extend(e,n){let{entities:r,actions:o,events:s,channels:i}=this._callBuilder(e,n),a=this;a.interfaces??={};let l=Object.values(r).map(g=>g.name),f=l.length===0?e.name:`${e.name}<${l.join(",")}>`,{resolved:d,statement:y}=Oh({...e,entities:r,actions:qe.stripUndefinedProps(o),events:qe.stripUndefinedProps(s),channels:qe.stripUndefinedProps(i)});return a.actions=qe.mergeRecords(a.actions??{},d.actions,this._mergeActions),a.channels=qe.mergeRecords(a.channels??{},d.channels,this._mergeChannels),a.events=qe.mergeRecords(a.events??{},d.events,this._mergeEvents),a.interfaces[f]={id:e.id,...y},this}_callBuilder(e,n){let o={entities:Rh(this.entities)},s=n(o),i=qe.pairs(s.entities).find(([l,f])=>!Mh(f));if(i)throw new Error(`Cannot extend interface "${e.name}" with entity "${i[0]}"; the provided schema is not part of the integration's entities.`);return{entities:qe.mapValues(s.entities,l=>({name:Dh(l),schema:l.schema})),actions:s.actions??{},events:s.events??{},channels:s.channels??{}}}_mergeActions=(e,n)=>({...e,...n,input:{schema:$r(e.input.schema,n.input.schema)},output:{schema:$r(e.input.schema,n.output.schema)}});_mergeEvents=(e,n)=>({...e,...n,schema:$r(e.schema,n.schema)});_mergeChannels=(e,n)=>{let r=qe.mergeRecords(e.messages,n.messages,this._mergeMessage),o;(e.conversation||n.conversation)&&(o={tags:{...e.conversation?.tags,...n.conversation?.tags}});let s;return(e.message||n.message)&&(s={tags:{...e.message?.tags,...n.message?.tags}}),{...e,...n,messages:r,conversation:o,message:s}};_mergeMessage=(e,n)=>({schema:$r(e.schema,n.schema)})};C();R();O();C();R();O();import{isApiError as Fk,Client as Kk,RuntimeError as vv}from"@botpress/client";C();R();O();import{axiosRetry as hk}from"@botpress/client";var Ko={retries:3,retryCondition:t=>hk.isNetworkOrIdempotentRequestError(t)||[429,502].includes(t.response?.status??0),retryDelay:t=>t*1e3};C();R();O();C();R();O();var Vr=class{constructor(e){this._client=e}createConversation=e=>this._client.createConversation(e);getConversation=e=>this._client.getConversation(e);listConversations=e=>this._client.listConversations(e);getOrCreateConversation=e=>this._client.getOrCreateConversation(e);updateConversation=e=>this._client.updateConversation(e);deleteConversation=e=>this._client.deleteConversation(e);listParticipants=e=>this._client.listParticipants(e);addParticipant=e=>this._client.addParticipant(e);getParticipant=e=>this._client.getParticipant(e);removeParticipant=e=>this._client.removeParticipant(e);createEvent=e=>this._client.createEvent(e);getEvent=e=>this._client.getEvent(e);listEvents=e=>this._client.listEvents(e);createMessage=e=>this._client.createMessage(e);getOrCreateMessage=e=>this._client.getOrCreateMessage(e);getMessage=e=>this._client.getMessage(e);updateMessage=e=>this._client.updateMessage(e);listMessages=e=>this._client.listMessages(e);deleteMessage=e=>this._client.deleteMessage(e);createUser=e=>this._client.createUser(e);getUser=e=>this._client.getUser(e);listUsers=e=>this._client.listUsers(e);getOrCreateUser=e=>this._client.getOrCreateUser(e);updateUser=e=>this._client.updateUser(e);deleteUser=e=>this._client.deleteUser(e);getState=e=>this._client.getState(e);setState=e=>this._client.setState(e);getOrSetState=e=>this._client.getOrSetState(e);patchState=e=>this._client.patchState(e);configureIntegration=e=>this._client.configureIntegration(e);uploadFile=e=>this._client.uploadFile(e);upsertFile=e=>this._client.upsertFile(e);deleteFile=e=>this._client.deleteFile(e);listFiles=e=>this._client.listFiles(e);getFile=e=>this._client.getFile(e);updateFileMetadata=e=>this._client.updateFileMetadata(e)};C();R();O();var Wo=class{_cost=0;get cost(){return this._cost}setCost(e){this._cost=e}toJSON(){return{cost:this.cost}}};C();R();O();var vk=re.enum(["webhook_received","message_created","action_triggered","register","unregister","ping","create_user","create_conversation"]),Nh=t=>{let e=t[ho],n=t[Iy],r=t[Ay],o=t[Cy],s=t[Oy],i=t[vo],a=vk.parse(t[To]);if(!e)throw new Error("Missing bot headers");if(!n)throw new Error("Missing bot user headers");if(!r)throw new Error("Missing integration headers");if(!o)throw new Error("Missing webhook headers");if(!i)throw new Error("Missing configuration headers");if(!a)throw new Error("Missing operation headers");return{botId:e,botUserId:n,integrationId:r,webhookId:o,operation:a,configurationType:s??null,configuration:i?JSON.parse(G.from(i,"base64").toString("utf-8")):{}}};C();R();O();C();R();O();C();R();O();C();R();O();var tl={},Hh=!1;function bl(){return Hh||(Hh=!0,tl=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var o=42;e[n]=o;for(n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var i=Object.getOwnPropertyDescriptor(e,n);if(i.value!==o||i.enumerable!==!0)return!1}return!0}),tl}var nl={},Uh=!1;function Tk(){return Uh||(Uh=!0,nl=Error),nl}var rl={},jh=!1;function _k(){return jh||(jh=!0,rl=EvalError),rl}var il={},$h=!1;function bk(){return $h||($h=!0,il=RangeError),il}var ol={},Zh=!1;function wk(){return Zh||(Zh=!0,ol=ReferenceError),ol}var al={},Lh=!1;function iv(){return Lh||(Lh=!0,al=SyntaxError),al}var sl={},Fh=!1;function qo(){return Fh||(Fh=!0,sl=TypeError),sl}var ll={},Kh=!1;function xk(){return Kh||(Kh=!0,ll=URIError),ll}var ul={},Wh=!1;function Bk(){if(Wh)return ul;Wh=!0;var t=typeof Symbol<"u"&&Symbol,e=bl();return ul=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},ul}var cl={},qh=!1;function Pk(){if(qh)return cl;qh=!0;var t={__proto__:null,foo:{}},e=Object;return cl=function(){return{__proto__:t}.foo===t.foo&&!(t instanceof e)},cl}var fl={},zh=!1;function Ek(){if(zh)return fl;zh=!0;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,r="[object Function]",o=function(l,f){for(var d=[],y=0;y<l.length;y+=1)d[y]=l[y];for(var g=0;g<f.length;g+=1)d[g+l.length]=f[g];return d},s=function(l,f){for(var d=[],y=f,g=0;y<l.length;y+=1,g+=1)d[g]=l[y];return d},i=function(a,l){for(var f="",d=0;d<a.length;d+=1)f+=a[d],d+1<a.length&&(f+=l);return f};return fl=function(l){var f=this;if(typeof f!="function"||e.apply(f)!==r)throw new TypeError(t+f);for(var d=s(arguments,1),y,g=function(){if(this instanceof y){var T=f.apply(this,o(d,arguments));return Object(T)===T?T:this}return f.apply(l,o(d,arguments))},m=n(0,f.length-d.length),v=[],B=0;B<m;B++)v[B]="$"+B;if(y=Function("binder","return function ("+i(v,",")+"){ return binder.apply(this,arguments); }")(g),f.prototype){var P=function(){};P.prototype=f.prototype,y.prototype=new P,P.prototype=null}return y},fl}var dl={},Gh=!1;function wl(){if(Gh)return dl;Gh=!0;var t=Ek();return dl=Function.prototype.bind||t,dl}var pl={},Vh=!1;function Sk(){if(Vh)return pl;Vh=!0;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=wl();return pl=n.call(t,e),pl}var gl={},Jh=!1;function Yr(){if(Jh)return gl;Jh=!0;var t,e=Tk(),n=_k(),r=bk(),o=wk(),s=iv(),i=qo(),a=xk(),l=Function,f=function(Ae){try{return l('"use strict"; return ('+Ae+").constructor;")()}catch{}},d=Object.getOwnPropertyDescriptor;if(d)try{d({},"")}catch{d=null}var y=function(){throw new i},g=d?function(){try{return arguments.callee,y}catch{try{return d(arguments,"callee").get}catch{return y}}}():y,m=Bk()(),v=Pk()(),B=Object.getPrototypeOf||(v?function(Ae){return Ae.__proto__}:null),P={},T=typeof Uint8Array>"u"||!B?t:B(Uint8Array),S={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":m&&B?B([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":P,"%AsyncGenerator%":P,"%AsyncGeneratorFunction%":P,"%AsyncIteratorPrototype%":P,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":e,"%eval%":eval,"%EvalError%":n,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":l,"%GeneratorFunction%":P,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":m&&B?B(B([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!m||!B?t:B(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":r,"%ReferenceError%":o,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!m||!B?t:B(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":m&&B?B(""[Symbol.iterator]()):t,"%Symbol%":m?Symbol:t,"%SyntaxError%":s,"%ThrowTypeError%":g,"%TypedArray%":T,"%TypeError%":i,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":a,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet};if(B)try{null.error}catch(Ae){var E=B(B(Ae));S["%Error.prototype%"]=E}var M=function Ae(me){var Se;if(me==="%AsyncFunction%")Se=f("async function () {}");else if(me==="%GeneratorFunction%")Se=f("function* () {}");else if(me==="%AsyncGeneratorFunction%")Se=f("async function* () {}");else if(me==="%AsyncGenerator%"){var ce=Ae("%AsyncGeneratorFunction%");ce&&(Se=ce.prototype)}else if(me==="%AsyncIteratorPrototype%"){var he=Ae("%AsyncGenerator%");he&&B&&(Se=B(he.prototype))}return S[me]=Se,Se},$={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},oe=wl(),X=Sk(),ue=oe.call(Function.call,Array.prototype.concat),ee=oe.call(Function.apply,Array.prototype.splice),ie=oe.call(Function.call,String.prototype.replace),Re=oe.call(Function.call,String.prototype.slice),Ie=oe.call(Function.call,RegExp.prototype.exec),$e=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ne=/\\(\\)?/g,Me=function(me){var Se=Re(me,0,1),ce=Re(me,-1);if(Se==="%"&&ce!=="%")throw new s("invalid intrinsic syntax, expected closing `%`");if(ce==="%"&&Se!=="%")throw new s("invalid intrinsic syntax, expected opening `%`");var he=[];return ie(me,$e,function(D,Z,F,fe){he[he.length]=F?ie(fe,Ne,"$1"):Z||D}),he},Ve=function(me,Se){var ce=me,he;if(X($,ce)&&(he=$[ce],ce="%"+he[0]+"%"),X(S,ce)){var D=S[ce];if(D===P&&(D=M(ce)),typeof D>"u"&&!Se)throw new i("intrinsic "+me+" exists, but is not available. Please file an issue!");return{alias:he,name:ce,value:D}}throw new s("intrinsic "+me+" does not exist!")};return gl=function(me,Se){if(typeof me!="string"||me.length===0)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Se!="boolean")throw new i('"allowMissing" argument must be a boolean');if(Ie(/^%?[^%]*%?$/,me)===null)throw new s("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ce=Me(me),he=ce.length>0?ce[0]:"",D=Ve("%"+he+"%",Se),Z=D.name,F=D.value,fe=!1,ve=D.alias;ve&&(he=ve[0],ee(ce,ue([0,1],ve)));for(var A=1,k=!0;A<ce.length;A+=1){var j=ce[A],V=Re(j,0,1),ae=Re(j,-1);if((V==='"'||V==="'"||V==="`"||ae==='"'||ae==="'"||ae==="`")&&V!==ae)throw new s("property names with quotes must have matching quotes");if((j==="constructor"||!k)&&(fe=!0),he+="."+j,Z="%"+he+"%",X(S,Z))F=S[Z];else if(F!=null){if(!(j in F)){if(!Se)throw new i("base intrinsic for "+me+" exists, but the property is not available.");return}if(d&&A+1>=ce.length){var b=d(F,j);k=!!b,k&&"get"in b&&!("originalValue"in b.get)?F=b.get:F=F[j]}else k=X(F,j),F=F[j];k&&!fe&&(S[Z]=F)}}return F},gl}var yl={},Yh=!1;function xl(){if(Yh)return yl;Yh=!0;var t=Yr(),e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return yl=e,yl}var ml={},Xh=!1;function zo(){if(Xh)return ml;Xh=!0;var t=Yr(),e=t("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return ml=e,ml}var hl={},Qh=!1;function kk(){if(Qh)return hl;Qh=!0;var t=xl(),e=iv(),n=qo(),r=zo();return hl=function(s,i,a){if(!s||typeof s!="object"&&typeof s!="function")throw new n("`obj` must be an object or a function`");if(typeof i!="string"&&typeof i!="symbol")throw new n("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new n("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new n("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new n("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new n("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,f=arguments.length>4?arguments[4]:null,d=arguments.length>5?arguments[5]:null,y=arguments.length>6?arguments[6]:!1,g=!!r&&r(s,i);if(t)t(s,i,{configurable:d===null&&g?g.configurable:!d,enumerable:l===null&&g?g.enumerable:!l,value:a,writable:f===null&&g?g.writable:!f});else if(y||!l&&!f&&!d)s[i]=a;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},hl}var vl={},ev=!1;function Ik(){if(ev)return vl;ev=!0;var t=xl(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},vl=e,vl}var Tl={},tv=!1;function Ak(){if(tv)return Tl;tv=!0;var t=Yr(),e=kk(),n=Ik()(),r=zo(),o=qo(),s=t("%Math.floor%");return Tl=function(a,l){if(typeof a!="function")throw new o("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||s(l)!==l)throw new o("`length` must be a positive 32-bit integer");var f=arguments.length>2&&!!arguments[2],d=!0,y=!0;if("length"in a&&r){var g=r(a,"length");g&&!g.configurable&&(d=!1),g&&!g.writable&&(y=!1)}return(d||y||!f)&&(n?e(a,"length",l,!0,!0):e(a,"length",l)),a},Tl}var Jr={},nv=!1;function Bl(){if(nv)return Jr;nv=!0;var t=wl(),e=Yr(),n=Ak(),r=qo(),o=e("%Function.prototype.apply%"),s=e("%Function.prototype.call%"),i=e("%Reflect.apply%",!0)||t.call(s,o),a=xl(),l=e("%Math.max%");Jr=function(y){if(typeof y!="function")throw new r("a function is required");var g=i(t,s,arguments);return n(g,1+l(0,y.length-(arguments.length-1)),!0)};var f=function(){return i(t,o,arguments)};return a?a(Jr,"apply",{value:f}):Jr.apply=f,Jr}var _l={},rv=!1;function Pl(){if(rv)return _l;rv=!0;var t=Yr(),e=Bl(),n=e(t("String.prototype.indexOf"));return _l=function(o,s){var i=t(o,!!s);return typeof i=="function"&&n(o,".prototype.")>-1?e(i):i},_l}is();bs();var El={},ov=!1;function Nl(){if(ov)return El;ov=!0;var t=bl();return El=function(){return t()&&!!Symbol.toStringTag},El}var Sl={},av=!1;function Ck(){if(av)return Sl;av=!0;var t=Nl()(),e=Pl(),n=e("Object.prototype.toString"),r=function(a){return t&&a&&typeof a=="object"&&Symbol.toStringTag in a?!1:n(a)==="[object Arguments]"},o=function(a){return r(a)?!0:a!==null&&typeof a=="object"&&typeof a.length=="number"&&a.length>=0&&n(a)!=="[object Array]"&&n(a.callee)==="[object Function]"},s=function(){return r(arguments)}();return r.isLegacyArguments=o,Sl=s?r:o,Sl}var kl={},sv=!1;function Ok(){if(sv)return kl;sv=!0;var t=Object.prototype.toString,e=Function.prototype.toString,n=/^\s*(?:function)?\*/,r=Nl()(),o=Object.getPrototypeOf,s=function(){if(!r)return!1;try{return Function("return function*() {}")()}catch{}},i;return kl=function(l){if(typeof l!="function")return!1;if(n.test(e.call(l)))return!0;if(!r){var f=t.call(l);return f==="[object GeneratorFunction]"}if(!o)return!1;if(typeof i>"u"){var d=s();i=d?o(d):!1}return o(l)===i},kl}var Il={},lv=!1;function Rk(){if(lv)return Il;lv=!0;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,n,r;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{n=Object.defineProperty({},"length",{get:function(){throw r}}),r={},e(function(){throw 42},null,n)}catch(S){S!==r&&(e=null)}else e=null;var o=/^\s*class\b/,s=function(E){try{var M=t.call(E);return o.test(M)}catch{return!1}},i=function(E){try{return s(E)?!1:(t.call(E),!0)}catch{return!1}},a=Object.prototype.toString,l="[object Object]",f="[object Function]",d="[object GeneratorFunction]",y="[object HTMLAllCollection]",g="[object HTML document.all class]",m="[object HTMLCollection]",v=typeof Symbol=="function"&&!!Symbol.toStringTag,B=!(0 in[,]),P=function(){return!1};if(typeof document=="object"){var T=document.all;a.call(T)===a.call(document.all)&&(P=function(E){if((B||!E)&&(typeof E>"u"||typeof E=="object"))try{var M=a.call(E);return(M===y||M===g||M===m||M===l)&&E("")==null}catch{}return!1})}return Il=e?function(E){if(P(E))return!0;if(!E||typeof E!="function"&&typeof E!="object")return!1;try{e(E,null,n)}catch(M){if(M!==r)return!1}return!s(E)&&i(E)}:function(E){if(P(E))return!0;if(!E||typeof E!="function"&&typeof E!="object")return!1;if(v)return i(E);if(s(E))return!1;var M=a.call(E);return M!==f&&M!==d&&!/^\[object HTML/.test(M)?!1:i(E)},Il}var Al={},uv=!1;function Mk(){if(uv)return Al;uv=!0;var t=Rk(),e=Object.prototype.toString,n=Object.prototype.hasOwnProperty,r=function(l,f,d){for(var y=0,g=l.length;y<g;y++)n.call(l,y)&&(d==null?f(l[y],y,l):f.call(d,l[y],y,l))},o=function(l,f,d){for(var y=0,g=l.length;y<g;y++)d==null?f(l.charAt(y),y,l):f.call(d,l.charAt(y),y,l)},s=function(l,f,d){for(var y in l)n.call(l,y)&&(d==null?f(l[y],y,l):f.call(d,l[y],y,l))},i=function(l,f,d){if(!t(f))throw new TypeError("iterator must be a function");var y;arguments.length>=3&&(y=d),e.call(l)==="[object Array]"?r(l,f,y):typeof l=="string"?o(l,f,y):s(l,f,y)};return Al=i,Al}var Cl={},cv=!1;function Dk(){return cv||(cv=!0,Cl=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),Cl}var Ol={},fv=!1,Nk=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;function Hk(){if(fv)return Ol;fv=!0;var t=Dk(),e=typeof globalThis>"u"?Nk:globalThis;return Ol=function(){for(var r=[],o=0;o<t.length;o++)typeof e[t[o]]=="function"&&(r[r.length]=t[o]);return r},Ol}var Rl={},dv=!1,Uk=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;function hv(){if(dv)return Rl;dv=!0;var t=Mk(),e=Hk(),n=Bl(),r=Pl(),o=zo(),s=r("Object.prototype.toString"),i=Nl()(),a=typeof globalThis>"u"?Uk:globalThis,l=e(),f=r("String.prototype.slice"),d=Object.getPrototypeOf,y=r("Array.prototype.indexOf",!0)||function(P,T){for(var S=0;S<P.length;S+=1)if(P[S]===T)return S;return-1},g={__proto__:null};i&&o&&d?t(l,function(B){var P=new a[B];if(Symbol.toStringTag in P){var T=d(P),S=o(T,Symbol.toStringTag);if(!S){var E=d(T);S=o(E,Symbol.toStringTag)}g["$"+B]=n(S.get)}}):t(l,function(B){var P=new a[B],T=P.slice||P.set;T&&(g["$"+B]=n(T))});var m=function(P){var T=!1;return t(g,function(S,E){if(!T)try{"$"+S(P)===E&&(T=f(E,1))}catch{}}),T},v=function(P){var T=!1;return t(g,function(S,E){if(!T)try{S(P),T=f(E,1)}catch{}}),T};return Rl=function(P){if(!P||typeof P!="object")return!1;if(!i){var T=f(s(P),8,-1);return y(l,T)>-1?T:T!=="Object"?!1:v(P)}return o?m(P):null},Rl}var Ml={},pv=!1;function jk(){if(pv)return Ml;pv=!0;var t=hv();return Ml=function(n){return!!t(n)},Ml}var we={},gv=!1;function $k(){if(gv)return we;gv=!0;var t=Ck(),e=Ok(),n=hv(),r=jk();function o(U){return U.call.bind(U)}var s=typeof BigInt<"u",i=typeof Symbol<"u",a=o(Object.prototype.toString),l=o(Number.prototype.valueOf),f=o(String.prototype.valueOf),d=o(Boolean.prototype.valueOf);if(s)var y=o(BigInt.prototype.valueOf);if(i)var g=o(Symbol.prototype.valueOf);function m(U,Pt){if(typeof U!="object")return!1;try{return Pt(U),!0}catch{return!1}}we.isArgumentsObject=t,we.isGeneratorFunction=e,we.isTypedArray=r;function v(U){return typeof Promise<"u"&&U instanceof Promise||U!==null&&typeof U=="object"&&typeof U.then=="function"&&typeof U.catch=="function"}we.isPromise=v;function B(U){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(U):r(U)||D(U)}we.isArrayBufferView=B;function P(U){return n(U)==="Uint8Array"}we.isUint8Array=P;function T(U){return n(U)==="Uint8ClampedArray"}we.isUint8ClampedArray=T;function S(U){return n(U)==="Uint16Array"}we.isUint16Array=S;function E(U){return n(U)==="Uint32Array"}we.isUint32Array=E;function M(U){return n(U)==="Int8Array"}we.isInt8Array=M;function $(U){return n(U)==="Int16Array"}we.isInt16Array=$;function oe(U){return n(U)==="Int32Array"}we.isInt32Array=oe;function X(U){return n(U)==="Float32Array"}we.isFloat32Array=X;function ue(U){return n(U)==="Float64Array"}we.isFloat64Array=ue;function ee(U){return n(U)==="BigInt64Array"}we.isBigInt64Array=ee;function ie(U){return n(U)==="BigUint64Array"}we.isBigUint64Array=ie;function Re(U){return a(U)==="[object Map]"}Re.working=typeof Map<"u"&&Re(new Map);function Ie(U){return typeof Map>"u"?!1:Re.working?Re(U):U instanceof Map}we.isMap=Ie;function $e(U){return a(U)==="[object Set]"}$e.working=typeof Set<"u"&&$e(new Set);function Ne(U){return typeof Set>"u"?!1:$e.working?$e(U):U instanceof Set}we.isSet=Ne;function Me(U){return a(U)==="[object WeakMap]"}Me.working=typeof WeakMap<"u"&&Me(new WeakMap);function Ve(U){return typeof WeakMap>"u"?!1:Me.working?Me(U):U instanceof WeakMap}we.isWeakMap=Ve;function Ae(U){return a(U)==="[object WeakSet]"}Ae.working=typeof WeakSet<"u"&&Ae(new WeakSet);function me(U){return Ae(U)}we.isWeakSet=me;function Se(U){return a(U)==="[object ArrayBuffer]"}Se.working=typeof ArrayBuffer<"u"&&Se(new ArrayBuffer);function ce(U){return typeof ArrayBuffer>"u"?!1:Se.working?Se(U):U instanceof ArrayBuffer}we.isArrayBuffer=ce;function he(U){return a(U)==="[object DataView]"}he.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&he(new DataView(new ArrayBuffer(1),0,1));function D(U){return typeof DataView>"u"?!1:he.working?he(U):U instanceof DataView}we.isDataView=D;var Z=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function F(U){return a(U)==="[object SharedArrayBuffer]"}function fe(U){return typeof Z>"u"?!1:(typeof F.working>"u"&&(F.working=F(new Z)),F.working?F(U):U instanceof Z)}we.isSharedArrayBuffer=fe;function ve(U){return a(U)==="[object AsyncFunction]"}we.isAsyncFunction=ve;function A(U){return a(U)==="[object Map Iterator]"}we.isMapIterator=A;function k(U){return a(U)==="[object Set Iterator]"}we.isSetIterator=k;function j(U){return a(U)==="[object Generator]"}we.isGeneratorObject=j;function V(U){return a(U)==="[object WebAssembly.Module]"}we.isWebAssemblyCompiledModule=V;function ae(U){return m(U,l)}we.isNumberObject=ae;function b(U){return m(U,f)}we.isStringObject=b;function w(U){return m(U,d)}we.isBooleanObject=w;function W(U){return s&&m(U,y)}we.isBigIntObject=W;function Q(U){return i&&m(U,g)}we.isSymbolObject=Q;function He(U){return ae(U)||b(U)||w(U)||W(U)||Q(U)}we.isBoxedPrimitive=He;function _e(U){return typeof Uint8Array<"u"&&(ce(U)||fe(U))}return we.isAnyArrayBuffer=_e,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(U){Object.defineProperty(we,U,{enumerable:!1,value:function(){throw new Error(U+" is not supported in userland")}})}),we}var Dl={},yv=!1;function Zk(){return yv||(yv=!0,Dl=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),Dl}var xe={},mv=!1,Xr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;function Lk(){if(mv)return xe;mv=!0;var t=St,e=Object.getOwnPropertyDescriptors||function(Z){for(var F=Object.keys(Z),fe={},ve=0;ve<F.length;ve++)fe[F[ve]]=Object.getOwnPropertyDescriptor(Z,F[ve]);return fe},n=/%[sdj%]/g;xe.format=function(D){if(!$(D)){for(var Z=[],F=0;F<arguments.length;F++)Z.push(i(arguments[F]));return Z.join(" ")}for(var F=1,fe=arguments,ve=fe.length,A=String(D).replace(n,function(j){if(j==="%%")return"%";if(F>=ve)return j;switch(j){case"%s":return String(fe[F++]);case"%d":return Number(fe[F++]);case"%j":try{return JSON.stringify(fe[F++])}catch{return"[Circular]"}default:return j}}),k=fe[F];F<ve;k=fe[++F])S(k)||!ee(k)?A+=" "+k:A+=" "+i(k);return A},xe.deprecate=function(D,Z){if(typeof t<"u"&&t.noDeprecation===!0)return D;if(typeof t>"u")return function(){return xe.deprecate(D,Z).apply(this||Xr,arguments)};var F=!1;function fe(){if(!F){if(t.throwDeprecation)throw new Error(Z);t.traceDeprecation?console.trace(Z):console.error(Z),F=!0}return D.apply(this||Xr,arguments)}return fe};var r={},o=/^$/;if(t.env.NODE_DEBUG){var s=t.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+s+"$","i")}xe.debuglog=function(D){if(D=D.toUpperCase(),!r[D])if(o.test(D)){var Z=t.pid;r[D]=function(){var F=xe.format.apply(xe,arguments);console.error("%s %d: %s",D,Z,F)}}else r[D]=function(){};return r[D]};function i(D,Z){var F={seen:[],stylize:l};return arguments.length>=3&&(F.depth=arguments[2]),arguments.length>=4&&(F.colors=arguments[3]),T(Z)?F.showHidden=Z:Z&&xe._extend(F,Z),X(F.showHidden)&&(F.showHidden=!1),X(F.depth)&&(F.depth=2),X(F.colors)&&(F.colors=!1),X(F.customInspect)&&(F.customInspect=!0),F.colors&&(F.stylize=a),d(F,D,F.depth)}xe.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(D,Z){var F=i.styles[Z];return F?"\x1B["+i.colors[F][0]+"m"+D+"\x1B["+i.colors[F][1]+"m":D}function l(D,Z){return D}function f(D){var Z={};return D.forEach(function(F,fe){Z[F]=!0}),Z}function d(D,Z,F){if(D.customInspect&&Z&&Ie(Z.inspect)&&Z.inspect!==xe.inspect&&!(Z.constructor&&Z.constructor.prototype===Z)){var fe=Z.inspect(F,D);return $(fe)||(fe=d(D,fe,F)),fe}var ve=y(D,Z);if(ve)return ve;var A=Object.keys(Z),k=f(A);if(D.showHidden&&(A=Object.getOwnPropertyNames(Z)),Re(Z)&&(A.indexOf("message")>=0||A.indexOf("description")>=0))return g(Z);if(A.length===0){if(Ie(Z)){var j=Z.name?": "+Z.name:"";return D.stylize("[Function"+j+"]","special")}if(ue(Z))return D.stylize(RegExp.prototype.toString.call(Z),"regexp");if(ie(Z))return D.stylize(Date.prototype.toString.call(Z),"date");if(Re(Z))return g(Z)}var V="",ae=!1,b=["{","}"];if(P(Z)&&(ae=!0,b=["[","]"]),Ie(Z)){var w=Z.name?": "+Z.name:"";V=" [Function"+w+"]"}if(ue(Z)&&(V=" "+RegExp.prototype.toString.call(Z)),ie(Z)&&(V=" "+Date.prototype.toUTCString.call(Z)),Re(Z)&&(V=" "+g(Z)),A.length===0&&(!ae||Z.length==0))return b[0]+V+b[1];if(F<0)return ue(Z)?D.stylize(RegExp.prototype.toString.call(Z),"regexp"):D.stylize("[Object]","special");D.seen.push(Z);var W;return ae?W=m(D,Z,F,k,A):W=A.map(function(Q){return v(D,Z,F,k,Q,ae)}),D.seen.pop(),B(W,V,b)}function y(D,Z){if(X(Z))return D.stylize("undefined","undefined");if($(Z)){var F="'"+JSON.stringify(Z).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return D.stylize(F,"string")}if(M(Z))return D.stylize(""+Z,"number");if(T(Z))return D.stylize(""+Z,"boolean");if(S(Z))return D.stylize("null","null")}function g(D){return"["+Error.prototype.toString.call(D)+"]"}function m(D,Z,F,fe,ve){for(var A=[],k=0,j=Z.length;k<j;++k)me(Z,String(k))?A.push(v(D,Z,F,fe,String(k),!0)):A.push("");return ve.forEach(function(V){V.match(/^\d+$/)||A.push(v(D,Z,F,fe,V,!0))}),A}function v(D,Z,F,fe,ve,A){var k,j,V;if(V=Object.getOwnPropertyDescriptor(Z,ve)||{value:Z[ve]},V.get?V.set?j=D.stylize("[Getter/Setter]","special"):j=D.stylize("[Getter]","special"):V.set&&(j=D.stylize("[Setter]","special")),me(fe,ve)||(k="["+ve+"]"),j||(D.seen.indexOf(V.value)<0?(S(F)?j=d(D,V.value,null):j=d(D,V.value,F-1),j.indexOf(`
`)>-1&&(A?j=j.split(`
`).map(function(ae){return"  "+ae}).join(`
`).slice(2):j=`
`+j.split(`
`).map(function(ae){return"   "+ae}).join(`
`))):j=D.stylize("[Circular]","special")),X(k)){if(A&&ve.match(/^\d+$/))return j;k=JSON.stringify(""+ve),k.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(k=k.slice(1,-1),k=D.stylize(k,"name")):(k=k.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),k=D.stylize(k,"string"))}return k+": "+j}function B(D,Z,F){var fe=D.reduce(function(ve,A){return A.indexOf(`
`)>=0,ve+A.replace(/\u001b\[\d\d?m/g,"").length+1},0);return fe>60?F[0]+(Z===""?"":Z+`
 `)+" "+D.join(`,
  `)+" "+F[1]:F[0]+Z+" "+D.join(", ")+" "+F[1]}xe.types=$k();function P(D){return Array.isArray(D)}xe.isArray=P;function T(D){return typeof D=="boolean"}xe.isBoolean=T;function S(D){return D===null}xe.isNull=S;function E(D){return D==null}xe.isNullOrUndefined=E;function M(D){return typeof D=="number"}xe.isNumber=M;function $(D){return typeof D=="string"}xe.isString=$;function oe(D){return typeof D=="symbol"}xe.isSymbol=oe;function X(D){return D===void 0}xe.isUndefined=X;function ue(D){return ee(D)&&Ne(D)==="[object RegExp]"}xe.isRegExp=ue,xe.types.isRegExp=ue;function ee(D){return typeof D=="object"&&D!==null}xe.isObject=ee;function ie(D){return ee(D)&&Ne(D)==="[object Date]"}xe.isDate=ie,xe.types.isDate=ie;function Re(D){return ee(D)&&(Ne(D)==="[object Error]"||D instanceof Error)}xe.isError=Re,xe.types.isNativeError=Re;function Ie(D){return typeof D=="function"}xe.isFunction=Ie;function $e(D){return D===null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||typeof D=="symbol"||typeof D>"u"}xe.isPrimitive=$e,xe.isBuffer=Zk();function Ne(D){return Object.prototype.toString.call(D)}function Me(D){return D<10?"0"+D.toString(10):D.toString(10)}var Ve=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Ae(){var D=new Date,Z=[Me(D.getHours()),Me(D.getMinutes()),Me(D.getSeconds())].join(":");return[D.getDate(),Ve[D.getMonth()],Z].join(" ")}xe.log=function(){console.log("%s - %s",Ae(),xe.format.apply(xe,arguments))},xe.inherits=Ct(),xe._extend=function(D,Z){if(!Z||!ee(Z))return D;for(var F=Object.keys(Z),fe=F.length;fe--;)D[F[fe]]=Z[F[fe]];return D};function me(D,Z){return Object.prototype.hasOwnProperty.call(D,Z)}var Se=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;xe.promisify=function(Z){if(typeof Z!="function")throw new TypeError('The "original" argument must be of type Function');if(Se&&Z[Se]){if(F=Z[Se],typeof F!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(F,Se,{value:F,enumerable:!1,writable:!1,configurable:!0}),F}function F(){for(var fe,ve,A=new Promise(function(V,ae){fe=V,ve=ae}),k=[],j=0;j<arguments.length;j++)k.push(arguments[j]);k.push(function(V,ae){V?ve(V):fe(ae)});try{Z.apply(this||Xr,k)}catch(V){ve(V)}return A}return Object.setPrototypeOf(F,Object.getPrototypeOf(Z)),Se&&Object.defineProperty(F,Se,{value:F,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(F,e(Z))},xe.promisify.custom=Se;function ce(D,Z){if(!D){var F=new Error("Promise was rejected with a falsy value");F.reason=D,D=F}return Z(D)}function he(D){if(typeof D!="function")throw new TypeError('The "original" argument must be of type Function');function Z(){for(var F=[],fe=0;fe<arguments.length;fe++)F.push(arguments[fe]);var ve=F.pop();if(typeof ve!="function")throw new TypeError("The last argument must be of type Function");var A=this||Xr,k=function(){return ve.apply(A,arguments)};D.apply(this||Xr,F).then(function(j){t.nextTick(k.bind(null,null,j))},function(j){t.nextTick(ce.bind(null,j,k))})}return Object.setPrototypeOf(Z,Object.getPrototypeOf(D)),Object.defineProperties(Z,e(D)),Z}return xe.callbackify=he,xe}var le=Lk();le.format;le.deprecate;le.debuglog;le.inspect;le.types;le.isArray;le.isBoolean;le.isNull;le.isNullOrUndefined;le.isNumber;le.isString;le.isSymbol;le.isUndefined;le.isRegExp;le.isObject;le.isDate;le.isError;le.isFunction;le.isPrimitive;le.isBuffer;le.log;le.inherits;le._extend;le.promisify;le.callbackify;var oO=le._extend,aO=le.callbackify,sO=le.debuglog,lO=le.deprecate,uO=le.format,cO=le.inherits,fO=le.inspect,dO=le.isArray,pO=le.isBoolean,gO=le.isBuffer,yO=le.isDate,mO=le.isError,hO=le.isFunction,vO=le.isNull,TO=le.isNullOrUndefined,_O=le.isNumber,bO=le.isObject,wO=le.isPrimitive,xO=le.isRegExp,BO=le.isString,PO=le.isSymbol,EO=le.isUndefined,SO=le.log,kO=le.promisify,IO=le.types,AO=le.TextEncoder=globalThis.TextEncoder,CO=le.TextDecoder=globalThis.TextDecoder;var yr=class{defaultOptions;constructor(e){this.defaultOptions=e}info(...e){this._log("info",e)}debug(...e){this._log("debug",e)}warn(...e){this._log("warn",e)}error(...e){this._log("error",e)}_log(e,n){this._getConsoleMethod(e)(this._serializeMessage(n))}_serializeMessage(e){let n=le.format(...e);return Y.env.BP_LOG_FORMAT==="json"?this.getJsonMessage(n):n}getJsonMessage(e){return JSON.stringify({msg:e,options:this.defaultOptions})}_getConsoleMethod(e){switch(e){case"debug":return console.debug;case"warn":return console.warn;case"error":return console.error;default:return console.info}}};var Nn=class extends yr{constructor(e){super({visibleToBotOwners:!0,...e})}with(e){return new Nn({...this.defaultOptions,...e})}withUserId(e){return this.with({userId:e})}withConversationId(e){return this.with({conversationId:e})}withVisibleToBotOwners(e){return this.with({visibleToBotOwners:e})}forBot(){return this.withVisibleToBotOwners(!0)}getJsonMessage(e){return JSON.stringify({msg:e,visible_to_bot_owner:this.defaultOptions.visibleToBotOwners,options:this.defaultOptions})}};C();R();O();var Tv=t=>async e=>{let n=Nh(e.headers),r=new Kk({botId:n.botId,integrationId:n.integrationId,retry:Ko}),o=new Vr(r),s=new Nn,i={ctx:n,req:e,client:o,logger:s,instance:t};try{let a;switch(n.operation){case"webhook_received":a=await qk(i);break;case"register":a=await zk(i);break;case"unregister":a=await Gk(i);break;case"message_created":a=await Yk(i);break;case"action_triggered":a=await Xk(i);break;case"ping":a=await Wk(i);break;case"create_user":a=await Vk(i);break;case"create_conversation":a=await Jk(i);break;default:throw new Error(`Unknown operation ${n.operation}`)}return a?{...a,status:a.status??200}:{status:200}}catch(a){if(Fk(a)){let f=a.type==="Runtime"?a:new vv(a.message,a);return s.forBot().error(f.message),{status:f.code,body:JSON.stringify(f.toJSON())}}console.error(a);let l=new vv("An unexpected error occurred in the integration. Bot owners: Check logs for more informations. Integration owners: throw a RuntimeError to return a custom error message instead.");return s.forBot().error(l.message),{status:l.code,body:JSON.stringify(l.toJSON())}}},Wk=async t=>{},qk=async({client:t,ctx:e,req:n,logger:r,instance:o})=>{let{req:s}=kt(n);return o.webhook({client:t,ctx:e,req:s,logger:r})},zk=async({client:t,ctx:e,req:n,logger:r,instance:o})=>{if(!o.register)return;let{webhookUrl:s}=kt(n);await o.register({client:t,ctx:e,webhookUrl:s,logger:r})},Gk=async({client:t,ctx:e,req:n,logger:r,instance:o})=>{if(!o.unregister)return;let{webhookUrl:s}=kt(n);await o.unregister({ctx:e,webhookUrl:s,client:t,logger:r})},Vk=async({client:t,ctx:e,req:n,logger:r,instance:o})=>{if(!o.createUser)return;let{tags:s}=kt(n);return await o.createUser({ctx:e,client:t,tags:s,logger:r})},Jk=async({client:t,ctx:e,req:n,logger:r,instance:o})=>{if(!o.createConversation)return;let{channel:s,tags:i}=kt(n);return await o.createConversation({ctx:e,client:t,channel:s,tags:i,logger:r})},Yk=async({ctx:t,req:e,client:n,logger:r,instance:o})=>{let{conversation:s,user:i,type:a,payload:l,message:f}=kt(e),d=o.channels[s.channel];if(!d)throw new Error(`Channel ${s.channel} not found`);let y=d.messages[a];if(!y)throw new Error(`Message of type ${a} not found in channel ${s.channel}`);await y({ctx:t,conversation:s,message:f,user:i,type:a,client:n,payload:l,ack:async({tags:m})=>{await n.updateMessage({id:f.id,tags:m})},logger:r})},Xk=async({req:t,ctx:e,client:n,logger:r,instance:o})=>{let{input:s,type:i}=kt(t);if(!i)throw new Error("Missing action type");let a=o.actions[i];if(!a)throw new Error(`Action ${i} not found`);let l=new Wo,d={output:await a({ctx:e,input:s,client:n,type:i,logger:r,metadata:l}),meta:l.toJSON()};return{body:JSON.stringify(d)}};var Hl=class{constructor(e){this.props=e;this.actions=e.actions,this.channels=e.channels,this.register=e.register,this.unregister=e.unregister,this.createUser=e.createUser,this.createConversation=e.createConversation,this.webhook=e.handler}actions;channels;register;unregister;createUser;createConversation;webhook;handler=Tv(this);start=e=>Zo(this.handler,e)};C();R();O();C();R();O();C();R();O();C();R();O();C();R();O();var Qk="#",Ul=class{constructor(e){this.props=e;this.integrations=e.integrations,this.plugins=e.plugins,this.user=e.user,this.conversation=e.conversation,this.message=e.message,this.states=e.states,this.configuration=e.configuration,this.events=e.events,this.recurringEvents=e.recurringEvents,this.actions=e.actions,this.tables=e.tables,this.workflows=e.workflows}integrations;plugins;user;conversation;message;states;configuration;events;recurringEvents;actions;tables;workflows;addIntegration(e,n){let r=this;return r.integrations||(r.integrations={}),r.integrations[e.name]={enabled:n.enabled,...e,configurationType:n.configurationType,configuration:n.configuration},this}addPlugin(e,n){let r=this;r.plugins||(r.plugins={});let o=n.alias??e.name;return r.plugins[o]={...e,alias:n.alias,configuration:n.configuration,interfaces:n.interfaces},r.user=this._mergeUser(r.user,e.definition.user),r.conversation=this._mergeConversation(r.conversation,e.definition.conversation),r.message=this._mergeMessage(r.message,e.definition.message),r.recurringEvents=this._mergeRecurringEvents(r.recurringEvents,e.definition.recurringEvents),r.tables=this._mergeTables(r.tables,e.definition.tables),r.workflows=this._mergeWorkflows(r.workflows,e.definition.workflows),r.states=this._mergeStates(r.states,this._prefixKeys(e.definition.states,n.alias)),r.events=this._mergeEvents(r.events,this._prefixKeys(e.definition.events,n.alias)),r.actions=this._mergeActions(r.actions,this._prefixKeys(e.definition.actions,n.alias)),this}_mergeUser=(e,n)=>({tags:{...e?.tags,...n?.tags}});_mergeConversation=(e,n)=>({tags:{...e?.tags,...n?.tags}});_mergeMessage=(e,n)=>({tags:{...e?.tags,...n?.tags}});_mergeStates=(e,n)=>({...e,...n});_mergeEvents=(e,n)=>({...e,...n});_mergeRecurringEvents=(e,n)=>({...e,...n});_mergeActions=(e,n)=>({...e,...n});_mergeTables=(e,n)=>({...e,...n});_mergeWorkflows=(e,n)=>({...e,...n});_prefixKeys=(e,n)=>!e||!n?e:qe.mapKeys(e,r=>`${n}${Qk}${r}`)};C();R();O();C();R();O();import*as wv from"@botpress/client";C();R();O();var Hn=class extends yr{constructor(e){super({...e})}with(e){return new Hn({...this.defaultOptions,...e})}withUserId(e){return this.with({userId:e})}withConversationId(e){return this.with({conversationId:e})}withWorkflowId(e){return this.with({workflowId:e})}withEventId(e){return this.with({eventId:e})}withMessageId(e){return this.with({messageId:e})}};C();R();O();C();R();O();var Qt=class{constructor(e,n={before:{},after:{}}){this._client=e;this._hooks=n}getConversation=e=>this._run("getConversation",e);listConversations=e=>this._run("listConversations",e);updateConversation=e=>this._run("updateConversation",e);deleteConversation=e=>this._run("deleteConversation",e);listParticipants=e=>this._run("listParticipants",e);addParticipant=e=>this._run("addParticipant",e);getParticipant=e=>this._run("getParticipant",e);removeParticipant=e=>this._run("removeParticipant",e);createEvent=e=>this._run("createEvent",e);getEvent=e=>this._run("getEvent",e);listEvents=e=>this._run("listEvents",e);createMessage=e=>this._run("createMessage",e);getOrCreateMessage=e=>this._run("getOrCreateMessage",e);getMessage=e=>this._run("getMessage",e);updateMessage=e=>this._run("updateMessage",e);listMessages=e=>this._run("listMessages",e);deleteMessage=e=>this._run("deleteMessage",e);getUser=e=>this._run("getUser",e);listUsers=e=>this._run("listUsers",e);updateUser=e=>this._run("updateUser",e);deleteUser=e=>this._run("deleteUser",e);getState=e=>this._run("getState",e);setState=e=>this._run("setState",e);getOrSetState=e=>this._run("getOrSetState",e);patchState=e=>this._run("patchState",e);callAction=e=>this._run("callAction",e);uploadFile=e=>this._run("uploadFile",e);upsertFile=e=>this._run("upsertFile",e);deleteFile=e=>this._run("deleteFile",e);listFiles=e=>this._run("listFiles",e);getFile=e=>this._run("getFile",e);updateFileMetadata=e=>this._run("updateFileMetadata",e);searchFiles=e=>this._run("searchFiles",e);trackAnalytics=e=>this._run("trackAnalytics",e);getTableRow=e=>this._run("getTableRow",e);createTableRows=e=>this._run("createTableRows",e);findTableRows=e=>this._run("findTableRows",e);deleteTableRows=e=>this._run("deleteTableRows",e);updateTableRows=e=>this._run("updateTableRows",e);upsertTableRows=e=>this._run("upsertTableRows",e);createWorkflow=e=>this._run("createWorkflow",e);getWorkflow=e=>this._run("getWorkflow",e);updateWorkflow=e=>this._run("updateWorkflow",e);deleteWorkflow=e=>this._run("deleteWorkflow",e);listWorkflows=e=>this._run("listWorkflows",e);createConversation=e=>this._client.createConversation(e);getOrCreateConversation=e=>this._client.getOrCreateConversation(e);createUser=e=>this._client.createUser(e);getOrCreateUser=e=>this._client.getOrCreateUser(e);_run=async(e,n)=>{let r=this._hooks.before[e];r&&(n=await r(n));let o=await this._client[e](n),s=this._hooks.after[e];return s&&(o=await s(o)),o}};C();R();O();C();R();O();var mr=t=>new Proxy({},{get:(e,n)=>({listInstances:{all:r=>un({workflowName:n,client:t,input:r}),running:r=>un({workflowName:n,client:t,input:r,statuses:["in_progress"]}),scheduled:r=>un({workflowName:n,client:t,input:r,statuses:["pending","listening"]}),allFinished:r=>un({workflowName:n,client:t,input:r,statuses:["completed","cancelled","failed","timedout"]}),cancelled:r=>un({workflowName:n,client:t,input:r,statuses:["cancelled"]}),failed:r=>un({workflowName:n,client:t,input:r,statuses:["failed"]}),succeeded:r=>un({workflowName:n,client:t,input:r,statuses:["completed"]}),timedOut:r=>un({workflowName:n,client:t,input:r,statuses:["timedout"]})},startNewInstance:async r=>{let{workflow:o}=await t.createWorkflow({name:n,status:"pending",...r});return{workflow:cn({client:t,workflow:o})}}})}),un=async t=>{let e=await t.client.listWorkflows({name:t.workflowName,statuses:t.statuses,...t.input});return{...e,workflows:e.workflows.map(n=>cn({client:t.client,workflow:n}))}},cn=t=>({...t.workflow,async update(e){let{workflow:n}=await t.client.updateWorkflow({id:t.workflow.id,...e});return{workflow:cn({client:t.client,workflow:n})}},async setFailed({failureReason:e}){let{workflow:n}=await t.client.updateWorkflow({id:t.workflow.id,status:"failed",failureReason:e});return{workflow:cn({client:t.client,workflow:n})}},async setCompleted({output:e}={}){let{workflow:n}=await t.client.updateWorkflow({id:t.workflow.id,status:"completed",output:e});return{workflow:cn({client:t.client,workflow:n})}},async cancel(){let{workflow:e}=await t.client.updateWorkflow({id:t.workflow.id,status:"cancelled"});return{workflow:cn({client:t.client,workflow:e})}}});C();R();O();C();R();O();var eI=re.enum(["event_received","register","unregister","ping","action_triggered"]),_v=t=>{let e=t[ho],n=t[vo],r=t[Ry],o=eI.parse(t[To]);if(!e)throw new Error("Missing bot headers");if(!r)throw new Error("Missing type headers");if(!n)throw new Error("Missing configuration headers");if(!o)throw new Error("Missing operation headers");return{botId:e,operation:o,type:r,configuration:n?JSON.parse(G.from(n,"base64").toString("utf-8")):{}}};C();R();O();var lt={status:200};C();R();O();C();R();O();var jl=t=>{switch(t){case"workflow_continued":return"continued";case"workflow_started":return"started";case"workflow_timedout":return"timed_out";default:throw new Error(`Unsupported workflow update type: ${t}`)}};var tI=["child_workflow_deleted","child_workflow_finished","workflow_timedout","workflow_started","workflow_continued"],bv=async(t,e)=>{if(t.ctx.type!=="workflow_update"||!tI.includes(e.payload.type))throw new Error("Unexpected event type");let n={...t,logger:nI(t,e)};if(!e.payload.workflow.name)return n.logger.warn("Received workflow update event without a workflow name. Assuming this workflow was not defined by the bot.",e.payload.workflow),lt;switch(e.payload.type){case"child_workflow_deleted":case"child_workflow_finished":n.logger.info(`Received child workflow event "${e.payload.type}", but child workflows are not yet supported`);break;case"workflow_timedout":case"workflow_started":case"workflow_continued":return await rI(n,e);default:e.payload.type}return lt},nI=(t,e)=>t.logger.with({eventId:e.id,workflowId:e.payload.workflow.id,conversationId:e.payload.conversation?.id,userId:e.payload.user?.id}),rI=async(t,e)=>{let n=jl(e.payload.type),r=t.self.workflowHandlers[n]?.[e.payload.workflow.name];return!r||r.length===0?(t.logger.warn(`No ${n} handler found for workflow "${e.payload.workflow.name}"`),lt):(await iI(t,e),await oI(t,e),lt)},iI=async(t,e)=>{e.payload.workflow.status==="pending"&&await t.client.updateWorkflow({id:e.payload.workflow.id,status:"in_progress",eventId:e.id})},oI=async(t,e)=>{let n=jl(e.payload.type),r=t.self.workflowHandlers[n]?.[e.payload.workflow.name];for(let o of r)await o({...t,conversation:e.payload.conversation,user:e.payload.user,workflow:cn({...t,workflow:e.payload.workflow}),workflows:mr(t.client)})};C();R();O();var xv=t=>async e=>{let n=_v(e.headers),r=new Hn,o=new wv.Client({botId:n.botId,retry:Ko}),s=new Qt(o,{before:{createMessage:async a=>{let l=t.hookHandlers.before_outgoing_message[a.type]??[];for(let f of l){let d=new Qt(o);a=(await f({client:d,ctx:n,logger:r.with({conversationId:a.conversationId,userId:a.userId}),data:a,...hr({client:d})}))?.data??a}return a},callAction:async a=>{let l=t.hookHandlers.before_outgoing_call_action[a.type]??[];for(let f of l){let d=new Qt(o);a=(await f({client:d,ctx:n,logger:r,data:a,...hr({client:d})}))?.data??a}return a}},after:{createMessage:async a=>{let l=t.hookHandlers.after_outgoing_message[a.message.type]??[];for(let f of l){let d=new Qt(o);a=(await f({client:d,ctx:n,logger:r.with({messageId:a.message.id,conversationId:a.message.conversationId,userId:a.message.userId}),data:a,...hr({client:d})}))?.data??a}return a},callAction:async a=>{let l=t.hookHandlers.after_outgoing_call_action[a.output.type]??[];for(let f of l){let d=new Qt(o);a=(await f({client:d,ctx:n,logger:r,data:a,...hr({client:d})}))?.data??a}return a}}}),i={req:e,ctx:n,logger:r,client:s,self:t};switch(n.operation){case"action_triggered":return await cI(i);case"event_received":return await uI(i);case"register":return await sI(i);case"unregister":return await lI(i);case"ping":return await aI(i);default:throw new Error(`Unknown operation ${n.operation}`)}},aI=async({ctx:t})=>(ir.info(`Received ${t.operation} operation for bot ${t.botId} of type ${t.type}`),lt),sI=async t=>lt,lI=async t=>lt,uI=async t=>{let{ctx:e,logger:n,req:r,client:o,self:s}=t,i={client:o,ctx:e,logger:n,...hr({client:o})};ir.debug(`Received event ${e.type}`);let a=kt(r);if(i.logger=i.logger.with({eventId:a.event.id,messageId:a.event.messageId,conversationId:a.event.conversationId,userId:a.event.userId}),e.type==="workflow_update")return await bv(t,a.event);if(e.type==="message_created"){let m=a.event,v=m.payload.message;i.logger=i.logger.with({messageId:v.id,conversationId:v.conversationId,userId:v.userId});let B=s.hookHandlers.before_incoming_message[v.type]??[];for(let E of B){let M=await E({...i,data:v});if(v=M?.data??v,M?.stop)return lt}let P={...i,user:m.payload.user,conversation:m.payload.conversation,states:m.payload.states,message:v,event:m},T=s.messageHandlers[v.type]??[];for(let E of T)await E(P);let S=s.hookHandlers.after_incoming_message[v.type]??[];for(let E of S){let M=await E({...i,data:v});if(v=M?.data??v,M?.stop)return lt}return lt}if(e.type==="state_expired"){let v=a.event.payload.state,B={...i,state:v},P=s.stateExpiredHandlers["*"]??[];for(let T of P)await T(B);return lt}let l=a.event,f=s.hookHandlers.before_incoming_event[l.type]??[];for(let m of f){let v=await m({...i,data:l});if(l=v?.data??l,v?.stop)return lt}let d={...i,event:l},y=s.eventHandlers[l.type]??[];for(let m of y)await m(d);let g=s.hookHandlers.after_incoming_event[l.type]??[];for(let m of g){let v=await m({...i,data:l});if(l=v?.data??l,v?.stop)return lt}return lt},cI=async({ctx:t,logger:e,req:n,client:r,self:o})=>{let{input:s,type:i}=kt(n);if(!i)throw new Error("Missing action type");let a=o.actionHandlers[i];if(!a)throw new Error(`Action ${i} not found`);let f={output:await a({ctx:t,logger:e,input:s,client:r,type:i,...hr({client:r})})};return{status:200,body:JSON.stringify(f)}},hr=t=>({workflows:mr(t.client)});var $l=class{constructor(e){this.props=e;this._actionHandlers=e.actions,this._plugins=e.plugins}_actionHandlers;_messageHandlers={};_eventHandlers={};_stateExpiredHandlers={};_hookHandlers={before_incoming_event:{},before_incoming_message:{},before_outgoing_message:{},before_outgoing_call_action:{},after_incoming_event:{},after_incoming_message:{},after_outgoing_message:{},after_outgoing_call_action:{}};_workflowHandlers={started:{},continued:{},timed_out:{}};_plugins={};_registerOrder=0;get actionHandlers(){return new Proxy({},{get:(e,n)=>{let r=this._actionHandlers[n];if(r)return r;for(let o of Object.values(this._plugins))if(r=o.actionHandlers[n],r)return r}})}get messageHandlers(){return new Proxy({},{get:(e,n)=>{let r=Object.values(this._plugins).flatMap(a=>a.messageHandlers[n]??[]),o=this._messageHandlers[n]??[],s=this._messageHandlers["*"]??[],i=[...o,...s].sort((a,l)=>a.order-l.order).map(({handler:a})=>a);return Te.unique([...r,...i])}})}get eventHandlers(){return new Proxy({},{get:(e,n)=>{let r=Object.values(this._plugins).flatMap(a=>a.eventHandlers[n]??[]),o=this._eventHandlers[n]??[],s=this._eventHandlers["*"]??[],i=[...o,...s].sort((a,l)=>a.order-l.order).map(({handler:a})=>a);return Te.unique([...r,...i])}})}get stateExpiredHandlers(){return new Proxy({},{get:(e,n)=>{let r=Object.values(this._plugins).flatMap(a=>a.stateExpiredHandlers[n]??[]),o=this._stateExpiredHandlers[n]??[],s=this._stateExpiredHandlers["*"]??[],i=[...o,...s].sort((a,l)=>a.order-l.order).map(({handler:a})=>a);return Te.unique([...r,...i])}})}get hookHandlers(){return new Proxy({},{get:(e,n)=>{if(this._hookHandlers[n])return new Proxy({},{get:(o,s)=>{let i=Object.values(this._plugins).flatMap(y=>y.hookHandlers[n]?.[s]??[]),a=this._hookHandlers[n]??{},l=a[s]??[],f=a["*"]??[],d=[...l,...f].sort((y,g)=>y.order-g.order).map(({handler:y})=>y);return Te.unique([...i,...d])}})}})}get workflowHandlers(){return new Proxy({},{get:(e,n)=>{let r=this._workflowHandlers[n];if(r)return new Proxy({},{get:(o,s)=>{let i=r[s]?.sort((l,f)=>l.order-f.order).map(({handler:l})=>l)??[],a=Object.values(this._plugins).flatMap(l=>l.workflowHandlers[n]?.[s]??[]);return Te.unique([...i,...a])}})}})}on={message:(e,n)=>{this._messageHandlers[e]=Te.safePush(this._messageHandlers[e],{handler:n,order:this._registerOrder++})},event:(e,n)=>{this._eventHandlers[e]=Te.safePush(this._eventHandlers[e],{handler:n,order:this._registerOrder++})},stateExpired:(e,n)=>{this._stateExpiredHandlers[e]=Te.safePush(this._stateExpiredHandlers[e],{handler:n,order:this._registerOrder++})},beforeIncomingEvent:(e,n)=>{this._hookHandlers.before_incoming_event[e]=Te.safePush(this._hookHandlers.before_incoming_event[e],{handler:n,order:this._registerOrder++})},beforeIncomingMessage:(e,n)=>{this._hookHandlers.before_incoming_message[e]=Te.safePush(this._hookHandlers.before_incoming_message[e],{handler:n,order:this._registerOrder++})},beforeOutgoingMessage:(e,n)=>{this._hookHandlers.before_outgoing_message[e]=Te.safePush(this._hookHandlers.before_outgoing_message[e],{handler:n,order:this._registerOrder++})},beforeOutgoingCallAction:(e,n)=>{this._hookHandlers.before_outgoing_call_action[e]=Te.safePush(this._hookHandlers.before_outgoing_call_action[e],{handler:n,order:this._registerOrder++})},afterIncomingEvent:(e,n)=>{this._hookHandlers.after_incoming_event[e]=Te.safePush(this._hookHandlers.after_incoming_event[e],{handler:n,order:this._registerOrder++})},afterIncomingMessage:(e,n)=>{this._hookHandlers.after_incoming_message[e]=Te.safePush(this._hookHandlers.after_incoming_message[e],{handler:n,order:this._registerOrder++})},afterOutgoingMessage:(e,n)=>{this._hookHandlers.after_outgoing_message[e]=Te.safePush(this._hookHandlers.after_outgoing_message[e],{handler:n,order:this._registerOrder++})},afterOutgoingCallAction:(e,n)=>{this._hookHandlers.after_outgoing_call_action[e]=Te.safePush(this._hookHandlers.after_outgoing_call_action[e],{handler:n,order:this._registerOrder++})},workflowStart:(e,n)=>{this._workflowHandlers.started[e]=Te.safePush(this._workflowHandlers.started[e],{handler:n,order:this._registerOrder++})},workflowContinue:(e,n)=>{this._workflowHandlers.continued[e]=Te.safePush(this._workflowHandlers.continued[e],{handler:n,order:this._registerOrder++})},workflowTimeout:(e,n)=>{this._workflowHandlers.timed_out[e]=Te.safePush(this._workflowHandlers.timed_out[e],{handler:n,order:this._registerOrder++})}};handler=xv(this);start=e=>Zo(this.handler,e)};C();R();O();C();R();O();C();R();O();C();R();O();C();R();O();var Zl=class{constructor(e){this.props=e;this.name=e.name,this.version=e.version,this.entities=e.entities??{};let n=this._getEntityReference(this.entities),r=e.events===void 0?{}:qe.mapValues(e.events,i=>({...i,schema:i.schema(n)})),o=e.actions===void 0?{}:qe.mapValues(e.actions,i=>({...i,input:{...i.input,schema:i.input.schema(n)},output:{...i.output,schema:i.output.schema(n)}})),s=e.channels===void 0?{}:qe.mapValues(e.channels,i=>({...i,messages:qe.mapValues(i.messages,a=>({...a,schema:a.schema(n)}))}));this.events=r,this.actions=o,this.channels=s}name;version;entities;events;actions;channels;_getEntityReference=e=>{let n={};for(let[r,o]of Object.entries(e)){let s=o.schema._def["x-zui"]?.title,i=o.schema._def.description,a=vy.ref(r);s&&a.title(s),i&&a.describe(i),n[r]=a}return n}};C();R();O();C();R();O();C();R();O();C();R();O();var Ll=class{constructor(e){this.props=e;this.name=e.name,this.version=e.version,this.icon=e.icon,this.readme=e.readme,this.title=e.title,this.description=e.description,this.integrations=e.integrations,this.interfaces=e.interfaces,this.user=e.user,this.conversation=e.conversation,this.message=e.message,this.states=e.states,this.configuration=e.configuration,this.events=e.events,this.recurringEvents=e.recurringEvents,this.actions=e.actions,this.tables=e.tables,this.workflows=e.workflows}name;version;title;description;icon;readme;integrations;interfaces;user;conversation;message;states;configuration;events;recurringEvents;actions;tables;workflows};C();R();O();C();R();O();C();R();O();C();R();O();var Fl=":";var Bv=t=>{let[e,n]=t.split(Fl);return!e||!n?null:{namespace:e,eventName:n}},Pv=t=>`${t.namespace}${Fl}${t.actionName}`,Ev=t=>`${t.namespace}${Fl}${t.eventName}`,Sv=(t,e)=>{let n=e[t.namespace]??{name:t.namespace,version:"0.0.0",entities:{},actions:{},events:{},channels:{}},r=n.name,o=n.actions[t.actionName]?.name??t.actionName;return{namespace:r,actionName:o}},kv=(t,e)=>{let n=e[t.namespace]??{name:t.namespace,version:"0.0.0",entities:{},actions:{},events:{},channels:{}},r=n.name,o=n.events[t.eventName]?.name??t.eventName;return{namespace:r,eventName:o}};var Iv=(t,e)=>new Proxy({},{get:(n,r)=>new Proxy({},{get:(o,s)=>i=>fI({client:t,interfaces:e,integrationOrInterfaceName:r,methodName:s,input:i})})}),fI=async({client:t,interfaces:e,integrationOrInterfaceName:n,methodName:r,input:o})=>{let s=Sv({namespace:n,actionName:r},e),i=Pv(s);return(await t.callAction({type:i,input:o})).output};C();R();O();var Kl=class{constructor(e){this.props=e;this._actionHandlers=e.actions}_runtimeProps;_actionHandlers;_messageHandlers={};_eventHandlers={};_stateExpiredHandlers={};_hookHandlers={before_incoming_event:{},before_incoming_message:{},before_outgoing_message:{},before_outgoing_call_action:{},after_incoming_event:{},after_incoming_message:{},after_outgoing_message:{},after_outgoing_call_action:{}};_workflowHandlers={started:{},continued:{},timed_out:{}};_registerOrder=0;initialize(e){return this._runtimeProps=e,this}get _runtime(){if(!this._runtimeProps)throw new Error("Plugin not correctly initialized. This is likely because you access your plugin config outside of an handler.");return this._runtimeProps}_getTools(e){let{configuration:n,interfaces:r,alias:o}=this._runtime,s=Iv(e,r),i=mr(e);return{configuration:n,interfaces:r,actions:s,alias:o,workflows:i}}get actionHandlers(){return new Proxy({},{get:(e,n)=>{n=this._stripAliasPrefix(n);let r=this._actionHandlers[n];if(r)return Xt.setName(o=>r({...o,...this._getTools(o.client)}),r.name)}})}get messageHandlers(){return new Proxy({},{get:(e,n)=>{n=this._stripAliasPrefix(n);let r=this._messageHandlers[n]??[],o=this._messageHandlers["*"]??[];return Te.unique([...r,...o]).sort((i,a)=>i.order-a.order).map(({handler:i})=>Xt.setName(a=>i({...a,...this._getTools(a.client)}),i.name))}})}get eventHandlers(){return new Proxy({},{get:(e,n)=>{n=this._stripAliasPrefix(n);let r=this._eventHandlers[n]??[],o=Object.entries(this._eventHandlers).filter(([a])=>this._eventResolvesTo(a,n)).flatMap(([,a])=>a??[]),s=this._eventHandlers["*"]??[];return Te.unique([...r,...o,...s]).sort((a,l)=>a.order-l.order).map(({handler:a})=>Xt.setName(l=>a({...l,...this._getTools(l.client)}),a.name))}})}get stateExpiredHandlers(){return new Proxy({},{get:(e,n)=>{n=this._stripAliasPrefix(n);let r=this._stateExpiredHandlers[n]??[],o=this._stateExpiredHandlers["*"]??[];return Te.unique([...r,...o]).sort((i,a)=>i.order-a.order).map(({handler:i})=>Xt.setName(a=>i({...a,...this._getTools(a.client)}),i.name))}})}get hookHandlers(){return new Proxy({},{get:(e,n)=>{let r=this._hookHandlers[n];if(r)return new Proxy({},{get:(o,s)=>{s=this._stripAliasPrefix(s);let i=r[s]??[],a=Object.entries(r).filter(([d])=>this._eventResolvesTo(d,s)).flatMap(([,d])=>d??[]),l=r["*"]??[];return Te.unique([...i,...a,...l]).sort((d,y)=>d.order-y.order).map(({handler:d})=>Xt.setName(y=>d({...y,...this._getTools(y.client)}),d.name))}})}})}get workflowHandlers(){return new Proxy({},{get:(e,n)=>{let r=this._workflowHandlers[n];if(r)return new Proxy({},{get:(o,s)=>(r[s]?.sort((a,l)=>a.order-l.order)??[]).map(({handler:a})=>Xt.setName(l=>a({...l,...this._getTools(l.client)}),a.name))})}})}on={message:(e,n)=>{this._messageHandlers[e]=Te.safePush(this._messageHandlers[e],{handler:n,order:this._registerOrder++})},event:(e,n)=>{this._eventHandlers[e]=Te.safePush(this._eventHandlers[e],{handler:n,order:this._registerOrder++})},stateExpired:(e,n)=>{this._stateExpiredHandlers[e]=Te.safePush(this._stateExpiredHandlers[e],{handler:n,order:this._registerOrder++})},beforeIncomingEvent:(e,n)=>{this._hookHandlers.before_incoming_event[e]=Te.safePush(this._hookHandlers.before_incoming_event[e],{handler:n,order:this._registerOrder++})},beforeIncomingMessage:(e,n)=>{this._hookHandlers.before_incoming_message[e]=Te.safePush(this._hookHandlers.before_incoming_message[e],{handler:n,order:this._registerOrder++})},beforeOutgoingMessage:(e,n)=>{this._hookHandlers.before_outgoing_message[e]=Te.safePush(this._hookHandlers.before_outgoing_message[e],{handler:n,order:this._registerOrder++})},beforeOutgoingCallAction:(e,n)=>{this._hookHandlers.before_outgoing_call_action[e]=Te.safePush(this._hookHandlers.before_outgoing_call_action[e],{handler:n,order:this._registerOrder++})},afterIncomingEvent:(e,n)=>{this._hookHandlers.after_incoming_event[e]=Te.safePush(this._hookHandlers.after_incoming_event[e],{handler:n,order:this._registerOrder++})},afterIncomingMessage:(e,n)=>{this._hookHandlers.after_incoming_message[e]=Te.safePush(this._hookHandlers.after_incoming_message[e],{handler:n,order:this._registerOrder++})},afterOutgoingMessage:(e,n)=>{this._hookHandlers.after_outgoing_message[e]=Te.safePush(this._hookHandlers.after_outgoing_message[e],{handler:n,order:this._registerOrder++})},afterOutgoingCallAction:(e,n)=>{this._hookHandlers.after_outgoing_call_action[e]=Te.safePush(this._hookHandlers.after_outgoing_call_action[e],{handler:n,order:this._registerOrder++})},workflowStart:(e,n)=>{this._workflowHandlers.started[e]=Te.safePush(this._workflowHandlers.started[e],{handler:n,order:this._registerOrder++})},workflowContinue:(e,n)=>{this._workflowHandlers.continued[e]=Te.safePush(this._workflowHandlers.continued[e],{handler:n,order:this._registerOrder++})},workflowTimeout:(e,n)=>{this._workflowHandlers.timed_out[e]=Te.safePush(this._workflowHandlers.timed_out[e],{handler:n,order:this._registerOrder++})}};_eventResolvesTo=(e,n)=>{let r=Bv(e);if(!r)return!1;let o=kv(r,this._runtime.interfaces);return Ev(o)===n};_stripAliasPrefix=e=>{let{alias:n}=this._runtime;if(!n)return e;let r=`${n}:`;return e.startsWith(r)?e.slice(r.length):e}};C();R();O();C();R();O();C();R();O();C();R();O();C();R();O();C();R();O();export{fx as BRAND,$l as Bot,Ul as BotDefinition,Hn as BotLogger,Qt as BotSpecificClient,Gn as DIRTY,ux as EMPTY_PATH,Cr as ErrorBoundary,de as INVALID,Hl as Integration,el as IntegrationDefinition,Nn as IntegrationLogger,Vr as IntegrationSpecificClient,Zl as InterfaceDefinition,kB as NEVER,ct as OK,Et as ParseInputLazyPath,gt as ParseStatus,Kl as Plugin,Ll as PluginDefinition,qN as RuntimeError,ye as Schema,Ei as ZodAny,Hr as ZodArray,Ua as ZodBigInt,ja as ZodBoolean,$a as ZodBranded,Za as ZodCatch,La as ZodDate,fo as ZodDefault,sg as ZodDiscriminatedUnion,bn as ZodEffects,rr as ZodEnum,$t as ZodError,zp as ZodFirstPartyTypeKind,ug as ZodFunction,Ka as ZodIntersection,z as ZodIssueCode,Wa as ZodLazy,qa as ZodLiteral,dg as ZodMap,gg as ZodNaN,za as ZodNativeEnum,_n as ZodNever,Ga as ZodNull,Jn as ZodNullable,Va as ZodNumber,Yn as ZodObject,nn as ZodOptional,ne as ZodParsedType,Ja as ZodPipeline,go as ZodPromise,yo as ZodReadonly,bg as ZodRecord,xg as ZodRef,ye as ZodSchema,Bg as ZodSet,ft as ZodString,Ng as ZodSymbol,bn as ZodTransformer,Qn as ZodTuple,ye as ZodType,Ya as ZodUndefined,Xa as ZodUnion,Ar as ZodUnknown,$g as ZodVoid,aA as ZuiForm,te as addIssueToContext,Rx as agent,Ux as aimodel,Vx as any,Qx as array,Kx as bigint,gy as boolean,ho as botIdHeader,Iy as botUserIdHeader,SB as coerce,vo as configurationHeader,Oy as configurationTypeHeader,Ax as conversation,po as createZodEnum,Eg as cuid2Regex,Pg as cuidRegex,og as custom,jx as datasource,Wx as date,Rg as datetimeRegex,sA as defaultComponentDefinitions,rB as discriminatedUnion,lf as effect,Ig as emailRegex,gB as enum,se as errorUtil,Mx as event,PB as fromJsonSchema,EB as fromObject,fB as function,Dr as getErrorMap,tn as getParsedType,Lx as instanceof,Ay as integrationIdHeader,Hx as intent,iB as intersection,Cg as ipv4Regex,Og as ipv6Regex,ya as isAborted,WN as isApiError,Bi as isAsync,ma as isDirty,dx as isEmojiRegex,Nr as isValid,mo as jsonSchemaToZui,$x as knowledgebase,Zx as late,dB as lazy,pB as literal,xi as makeIssue,uB as map,$r as mergeObjectSchemas,Ox as message,ky as messages,Fx as nan,yB as nativeEnum,Yx as never,Gx as null,vB as nullable,py as number,eB as object,Ur as objectToZui,ga as objectUtil,BB as oboolean,xB as onumber,To as operationHeader,hB as optional,wB as ostring,kt as parseBody,bB as pipeline,_B as preprocess,ge as processCreateParams,mB as promise,lx as quotelessJson,lB as readonly,aB as record,sB as ref,Zo as serve,cB as set,Jp as setErrorMap,tB as strictObject,dy as string,qx as symbol,Dx as table,Nx as tablerow,lf as transformer,lA as transforms,oB as tuple,Ry as typeHeader,Sg as ulidRegex,zx as undefined,nB as union,Jx as unknown,Cx as user,be as util,kg as uuidRegex,Ix as variable,Xx as void,Cy as webhookIdHeader,XB as withErrorBoundary,re as z,ns as zuiToJsonSchema};
/*! Bundled license information:

@jspm/core/nodelibs/browser/chunk-DtuTasat.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

@jspm/core/nodelibs/browser/chunk-CcCWfKp1.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@bpinternal/zui/dist/index.js:
  (*! Bundled license information:
  
  lodash-es/lodash.js:
    (**
     * @license
     * Lodash (Custom Build) <https://lodash.com/>
     * Build: `lodash modularize exports="es" -o ./`
     * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
     * Released under MIT license <https://lodash.com/license>
     * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
     * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
     *)
  *)
*/
//# sourceMappingURL=index.mjs.map
